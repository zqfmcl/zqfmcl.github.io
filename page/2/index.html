<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="Fey's blog" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="Fey&#39;s blog">
<meta property="og:url" content="https://zqfmcl.github.io/dialy/page/2/index.html">
<meta property="og:site_name" content="Fey&#39;s blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fey&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zqfmcl.github.io/dialy/page/2/">





  <title>Fey's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fey's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">个人博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解初始化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/2019-10-06-Java题解初始化/" itemprop="url">Java题解初始化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第四章-初始化与清理"><a href="#第四章-初始化与清理" class="headerlink" title="第四章 初始化与清理"></a>第四章 初始化与清理</h2><p>public class ConstructorTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Tester t = new Tester();</p>
<p>​              System.out.println(t.s);</p>
<p>​       }</p>
<p>}</p>
<p>class Tester2 {</p>
<p>​       String s1;</p>
<p>​       String s2 = “hello”;</p>
<p>​       String s3;</p>
<p>​       Tester2() { s3 = “good-bye”; }</p>
<p>}</p>
<p>public class ConstructorTest2 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Tester2 t = new Tester2();</p>
<p>​              System.out.println(“t.s1: “ + t.s1);</p>
<p>​              System.out.println(“t.s2: “ + t.s2);</p>
<p>​              System.out.println(“t.s3: “ + t.s3);</p>
<p>​       }</p>
<p>}</p>
<p>class Kabayo {</p>
<p>​        Kabayo() {</p>
<p>​              System.out.println(“isa lang kabayo”);</p>
<p>​       }</p>
<p>} </p>
<p>public class DefaultConstructorTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Kabayo k = new Kabayo();</p>
<p>​       }</p>
<p>}</p>
<p>class Kabayo2 {</p>
<p>​       Kabayo2() {</p>
<p>​              System.out.println(“isa lang kabayo”);</p>
<p>​       }</p>
<p>​       Kabayo2(String s) {</p>
<p>​              System.out.println(s);</p>
<p>​       }      </p>
<p>} </p>
<p>public class DefaultConstructorTest2 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Kabayo2 k = new Kabayo2();</p>
<p>​              Kabayo2 k2 = new Kabayo2(“tumutugtog ng gitara”);</p>
<p>​       }</p>
<p>}</p>
<p>class Dog {</p>
<p>​       void bark() {System.out.println(“quiet”);}</p>
<p>​       void bark(char c) {System.out.println(“cawcaw”);}</p>
<p>​       void bark(byte b) {System.out.println(“barkbark”);}</p>
<p>​       void bark(short s) {System.out.println(“slurpslurp”);}</p>
<p>​       void bark(int i) {System.out.println(“iyow”);}</p>
<p>​       void bark(long L) {System.out.println(“lalala”);}</p>
<p>​       void bark(float f) {System.out.println(“fififoofum”);}</p>
<p>​       void bark(double d) {System.out.println(“dodo”);}</p>
<p>}     </p>
<p>public class DogTalk {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Dog d = new Dog();</p>
<p>​              char c = ‘c’;</p>
<p>​              byte b = 0;</p>
<p>​              short s = 0;</p>
<p>​              d.bark();</p>
<p>​              d.bark((char)c);</p>
<p>​              d.bark((byte)b);</p>
<p>​              d.bark((short)s);</p>
<p>​              d.bark(1);</p>
<p>​              d.bark(1L);</p>
<p>​              d.bark(1.0f);</p>
<p>​              d.bark(1.0);</p>
<p>​       }</p>
<p>}</p>
<p>class Dog {</p>
<p>​       void bark() {System.out.println(“quiet”);}</p>
<p>​       void bark(char c) {System.out.println(“cawcaw”);}</p>
<p>​       void bark(byte b) {System.out.println(“barkbark”);}</p>
<p>​       void bark(short s) {System.out.println(“slurpslurp”);}</p>
<p>​       void bark(int i) {System.out.println(“iyow”);}</p>
<p>​       void bark(long L) {System.out.println(“lalala”);}</p>
<p>​       void bark(float f) {System.out.println(“fififoofum”);}</p>
<p>​       void bark(double d) {System.out.println(“dodo”);}</p>
<p>​       void bark(char c, int i) {System.out.println(“caw-iyow”);}</p>
<p>​       void bark(int i, char c) {System.out.println(“iyow-caw”);}</p>
<p>}     </p>
<p>public class DogTalk2 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Dog d = new Dog();</p>
<p>​              char c = ‘c’;</p>
<p>​              byte b = 0;</p>
<p>​              short s = 0;</p>
<p>​              d.bark();</p>
<p>​              d.bark((char)c);</p>
<p>​              d.bark((byte)b);</p>
<p>​              d.bark((short)s);</p>
<p>​              d.bark(1);</p>
<p>​              d.bark(1L);</p>
<p>​              d.bark(1.0f);</p>
<p>​              d.bark(1.0);</p>
<p>​              d.bark(c, 1);</p>
<p>​              d.bark(1, c);</p>
<p>​       }</p>
<p>}</p>
<p>class Aso {</p>
<p>​       void bark() {System.out.println(“woof”);}</p>
<p>}     </p>
<p>public class AutomaticConstructor {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Aso a = new Aso();</p>
<p>​              a.bark();</p>
<p>​       }</p>
<p>}</p>
<p>class Doc {     </p>
<p>​       void intubate() {</p>
<p>​              System.out.println(“prepare patient”);</p>
<p>​              laryngoscopy();</p>
<p>​              this.laryngoscopy();      </p>
<p>​       }</p>
<p>​       void laryngoscopy() {</p>
<p>​              System.out.println(“use laryngoscope”);</p>
<p>​       }      </p>
<p>}      </p>
<p>public class PassingThisEx{  </p>
<p>​       public static void main(String[] args) {</p>
<p>​              new Doc().intubate();           </p>
<p>​       }             </p>
<p>}</p>
<p>  class Doc {</p>
<p>​       Doc(int i) {</p>
<p>​              this(“MD”);</p>
<p>​              int yearsTraining = i;</p>
<p>​              System.out.println(“New doc with “ + i + “ years of training”);</p>
<p>​       }</p>
<p>​       Doc(String s) {</p>
<p>​              String degree = s;</p>
<p>​              System.out.println(“New doc with “ + s + “ degree”);</p>
<p>​       }      </p>
<p>​       void intubate() {</p>
<p>​              System.out.println(“prepare patient”);</p>
<p>​              laryngoscopy();</p>
<p>​       }</p>
<p>​       void laryngoscopy() {</p>
<p>​              System.out.println(“use laryngoscope”);</p>
<p>​       }      </p>
<p>}</p>
<p>​       </p>
<p>public class OverloadedConstructors {      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              new Doc(8).intubate();         </p>
<p>​       }             </p>
<p>}</p>
<p>class WebBank {</p>
<p>​       boolean loggedIn = false;</p>
<p>​       WebBank(boolean logStatus) {</p>
<p>​              loggedIn = logStatus;</p>
<p>​       }</p>
<p>​       void logIn() {</p>
<p>​              loggedIn = true;</p>
<p>​       }</p>
<p>​       void logOut() {</p>
<p>​              loggedIn = false;</p>
<p>​       }</p>
<p>​       protected void finalize() {</p>
<p>​              if(loggedIn)</p>
<p>​                     System.out.println(“Error: still logged in”);</p>
<p>​                                 }</p>
<p>}</p>
<p>public class TerminationConditionEx {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              WebBank bank1 = new WebBank(true);</p>
<p>​              WebBank bank2 = new WebBank(true);</p>
<p>​                           bank1.logOut();</p>
<p>​                           new WebBank(true);</p>
<p>​                           System.gc();</p>
<p>​       }      </p>
<p>}</p>
<p>class WebBank {</p>
<p>​       boolean loggedIn = false;</p>
<p>​       WebBank(boolean logStatus) {</p>
<p>​              loggedIn = logStatus;</p>
<p>​       }</p>
<p>​       void logOut() {</p>
<p>​              loggedIn = false;</p>
<p>​       }</p>
<p>​       protected void finalize() {</p>
<p>​              if(loggedIn)</p>
<p>​                     System.out.println(“Error: still logged in”);</p>
<p>​                                 }</p>
<p>}</p>
<p>public class BankTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              WebBank bank1 = new WebBank(true);</p>
<p>​              WebBank bank2 = new WebBank(true);</p>
<p>​              new WebBank(true);</p>
<p>​                           bank1.logOut();</p>
<p>​                                        System.out.println(“Try 1: “); </p>
<p>​              System.runFinalization();</p>
<p>​              System.out.println(“Try 2: “);       </p>
<p>​              Runtime.getRuntime().runFinalization();</p>
<p>​              System.out.println(“Try 3: “); </p>
<p>​              System.gc();</p>
<p>​              System.out.println(“Try 4: “);</p>
<p>​                           System.runFinalizersOnExit(true);       </p>
<p>​       }      </p>
<p>} </p>
<p>class Tank {</p>
<p>​       int howFull = 0;</p>
<p>​       Tank() { this(0); }</p>
<p>​       Tank(int fullness) {</p>
<p>​              howFull = fullness;       </p>
<p>​       }</p>
<p>​       void sayHowFull() {</p>
<p>​              if(howFull == 0) System.out.println(“Tank is empty”);</p>
<p>​              else System.out.println(“Tank filling status = “ + howFull);</p>
<p>​       }</p>
<p>​       void empty() {</p>
<p>​              howFull = 0;</p>
<p>​       }</p>
<p>​       protected void finalize() {</p>
<p>​              if(howFull != 0)</p>
<p>​                     System.out.println(“Error: Tank not empty”);</p>
<p>​                                 }</p>
<p>}</p>
<p>public class TankTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Tank tank1 = new Tank();</p>
<p>​              Tank tank2 = new Tank(3);</p>
<p>​              Tank tank3 = new Tank(5);</p>
<p>​                           tank2.empty();</p>
<p>​                           new Tank(6);</p>
<p>​              System.out.println(“Check tanks:”);</p>
<p>​              System.out.println(“tank1: “);</p>
<p>​              tank1.sayHowFull();</p>
<p>​              System.out.println(“tank2: “);</p>
<p>​              tank2.sayHowFull();</p>
<p>​              System.out.println(“tank3: “);</p>
<p>​              tank3.sayHowFull();</p>
<p>​              System.out.println(“first forced gc():”);</p>
<p>​              System.gc();</p>
<p>​                                        System.out.println(“try deprecated runFinalizersOnExit(true):”);</p>
<p>​              System.runFinalizersOnExit(true);</p>
<p>​              System.out.println(“last forced gc():”);</p>
<p>​              System.gc();</p>
<p>​       }      </p>
<p>}</p>
<p>class Cup {</p>
<p>​       Cup(int marker) {</p>
<p>​              print(“Cup(“ + marker + “)”);</p>
<p>​       }</p>
<p>​       void f(int marker) {</p>
<p>​              print(“f(“ + marker + “)”);</p>
<p>​       }</p>
<p>}</p>
<p>class Cups {</p>
<p>​       static Cup cup1;</p>
<p>​       static Cup cup2;</p>
<p>​       static {</p>
<p>​              cup1 = new Cup(1);</p>
<p>​              cup2 = new Cup(2);</p>
<p>​       }</p>
<p>​       Cups() {</p>
<p>​              print(“Cups()”);</p>
<p>​       }</p>
<p>}</p>
<p>public class ExplicitStatic {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              print(“Inside main()”);</p>
<p>​              Cups.cup1.f(99);   }</p>
<p>​       static Cups cups1 = new Cups();       static Cups cups2 = new Cups();  }</p>
<p>class Go {</p>
<p>​       static String s1 = “run”;</p>
<p>​       static String s2, s3;</p>
<p>​       static {</p>
<p>​              s2 = “drive car”;</p>
<p>​              s3 = “fly plane”;</p>
<p>​              print(“s2 &amp; s3 initialized”);</p>
<p>​       }</p>
<p>​       static void how() {</p>
<p>​              print(s1 + “ or “ + s2 + “ or “ + s3);</p>
<p>​       }</p>
<p>​       Go() { print(“Go()”); }     </p>
<p>}</p>
<p>public class ExplicitStaticEx {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              print(“Inside main()”);</p>
<p>​              Go.how();</p>
<p>​              print(“Go.s1: “ + Go.s1);              </p>
<p>​       }</p>
<p>​       static Go g1 = new Go();</p>
<p>​       static Go g2 = new Go();</p>
<p>}</p>
<p> class Tester {</p>
<p>​       String s;</p>
<p>​       {</p>
<p>​              s = “Initializing string in Tester”;</p>
<p>​              System.out.println(s);</p>
<p>​       }</p>
<p>​       Tester() {</p>
<p>​              System.out.println(“Tester()”);</p>
<p>​       }</p>
<p>}</p>
<p>public class InstanceClauseTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              new Tester();                       </p>
<p>​       }</p>
<p>}</p>
<p>public class StringArrayEx16 {</p>
<p>​       public static void main(String[] args) {                     </p>
<p>​              String[] s = { “one”, “two”, “three”, };          </p>
<p>​              for(int i = 0; i &lt; s.length; i++)</p>
<p>​                     System.out.println(“s[“ + i + “] = “ + s[i]);</p>
<p>​       }</p>
<p>}</p>
<p>class InitTest {</p>
<p>​       InitTest(String s) {</p>
<p>​              System.out.println(“InitTest()”);</p>
<p>​              System.out.println(s);</p>
<p>​       }</p>
<p>}</p>
<p>public class InitTest17 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              InitTest[] it = new InitTest[10];</p>
<p>​       }</p>
<p>}</p>
<p>class InitTest {</p>
<p>​       InitTest(String s) {</p>
<p>​              System.out.println(“InitTest()”);</p>
<p>​              System.out.println(s);</p>
<p>​       }</p>
<p>}</p>
<p>public class InitTest18 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              InitTest[] it = new InitTest[5];</p>
<p>​              for(int i = 0; i &lt; it.length; i++)</p>
<p>​                     it[i] = new InitTest(Integer.toString(i));</p>
<p>​       }</p>
<p>}</p>
<p>public class VarargEx19 {</p>
<p>​       static void showStrings(String… args) {</p>
<p>​              for(String s : args)</p>
<p>​                     System.out.print(s + “ “);</p>
<p>​              System.out.println();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              showStrings(“one”, “TWO”, “three”, “four”);</p>
<p>​              showStrings(new String[]{“1”, “2”, “3”, “4”});</p>
<p>​       }</p>
<p>public class VarargEx20 {</p>
<p>​       public static void main(String… args) {</p>
<p>​              for(String s : args)</p>
<p>​                     System.out.print(s + “ “);</p>
<p>​              System.out.println();</p>
<p>​       }</p>
<p>}</p>
<p>public class EnumEx21 {</p>
<p>​       public enum Bills {</p>
<p>​              ONE, FIVE, TEN, TWENTY, FIFTY, HUNDRED</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              for(Bills b : Bills.values())</p>
<p>​                     System.out.println(b + “, ordinal “ + b.ordinal());      </p>
<p>​       }      </p>
<p>}</p>
<p>public class Wallet {</p>
<p>​       Bills b;</p>
<p>​       public static void main(String[] args) {</p>
<p>​              for(Bills b : Bills.values()) {</p>
<p>​                     System.out.print(“Worth: “);</p>
<p>​                     switch(b) {</p>
<p>​                            case ONE: System.out.println(“$1”); break; </p>
<p>​                            case FIVE: System.out.println(“$5”); break;</p>
<p>​                            case TEN: System.out.println(“$10”); break;</p>
<p>​                            case TWENTY: System.out.println(“$20”); break; </p>
<p>​                            case FIFTY: System.out.println(“$50”); break;</p>
<p>​                            case HUNDRED: System.out.println(“$100”); break;</p>
<p>​                            default: break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​       }</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解处理异常/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/2019-10-06-Java题解处理异常/" itemprop="url">Java题解处理异常</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第十二章-处理异常"><a href="#第十二章-处理异常" class="headerlink" title="第十二章 处理异常"></a>第十二章 处理异常</h2><p>class Exception1 extends Exception {</p>
<p>​       public Exception1(String msg) { </p>
<p>​              super(msg); </p>
<p>​              System.out.println(“Exception1(String msg)”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex1 {</p>
<p>​       public static void f() throws Exception1 {</p>
<p>​              System.out.println(“Throwing MyException from f()”);</p>
<p>​              throw new Exception1(“From f()”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     f();</p>
<p>​              } catch(Exception1 e) {</p>
<p>​                     System.err.println(“Caught Exception1”);</p>
<p>​                     e.printStackTrace();</p>
<p>​              } finally {</p>
<p>​                     System.out.println(“Made it to finally”);</p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex2 {</p>
<p>​       private static Integer i = null;      </p>
<p>​       public static void main(String[] args) {</p>
<p>​                                        try {</p>
<p>​                     System.out.println(i.toString());</p>
<p>​              } catch(NullPointerException e) {</p>
<p>​                     System.err.println(“Caught NullPointerException”);</p>
<p>​                     e.printStackTrace();</p>
<p>​              } </p>
<p>​              try {</p>
<p>​                     i = 10;</p>
<p>​                     System.out.println(i.toString());</p>
<p>​              } catch(NullPointerException e) {</p>
<p>​                     System.err.println(“Caught NullPointerException”);</p>
<p>​                     e.printStackTrace();</p>
<p>​              } finally {</p>
<p>​                     System.out.println(“Got through it”);</p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p> public class Ex3 {</p>
<p>​       private static int[] ia = new int[2];       </p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     ia[2] = 3; </p>
<p>​              } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                     System.err.println(</p>
<p>​                            “Caught ArrayIndexOutOfBoundsException”);</p>
<p>​                     e.printStackTrace();</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class Exception4 extends Exception {</p>
<p>​       private String msg;</p>
<p>​       Exception4(String msg) {</p>
<p>​              super(msg);</p>
<p>​              System.out.println(“Exception4()”);</p>
<p>​              this.msg = msg;</p>
<p>​       }</p>
<p>​       protected void showS() { </p>
<p>​              System.out.println(“Message from Exception4: “ + msg);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex4 {</p>
<p>​       public static void f() throws Exception4 {</p>
<p>​              System.out.println(“f()”);</p>
<p>​              throw new Exception4(“Ouch from f()”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     f();   </p>
<p>​              } catch(Exception4 e) {</p>
<p>​                     System.err.println(“Caught Exception4”);</p>
<p>​                     e.printStackTrace();</p>
<p>​                     e.showS();</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex5 {</p>
<p>​       private static int[] ia = new int[2];</p>
<p>​       static int x = 5;      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              while(true) {</p>
<p>​                     try {</p>
<p>​                            ia[x] = 1;</p>
<p>​                            System.out.println(ia[x]);</p>
<p>​                            break;     </p>
<p>​                     } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                            System.err.println(</p>
<p>​                                   “Caught ArrayIndexOutOfBoundsException”);</p>
<p>​                                   e.printStackTrace();</p>
<p>​                            x–;</p>
<p>​                     } finally {</p>
<p>​                            System.out.println(“Are we done yet?”);            </p>
<p>​                     }</p>
<p>​              }</p>
<p>​              System.out.println(“Now, we’re done.”);</p>
<p>​       }      </p>
<p>}</p>
<p>class Oops1 extends Exception {</p>
<p>​       private static Logger logger = Logger.getLogger(“LoggingException”);</p>
<p>​       public Oops1() { </p>
<p>​              StringWriter trace = new StringWriter();</p>
<p>​              printStackTrace(new PrintWriter(trace));</p>
<p>​              logger.severe(trace.toString());          </p>
<p>​       }</p>
<p>}</p>
<p>class Oops2 extends Exception {</p>
<p>​       private static Logger logger = Logger.getLogger(“LoggingException”);</p>
<p>​       public Oops2() {</p>
<p>​       StringWriter trace = new StringWriter();</p>
<p>​       printStackTrace(new PrintWriter(trace));</p>
<p>​       logger.severe(trace.toString());</p>
<p>​       } </p>
<p>}</p>
<p>public class Ex6 {</p>
<p>​       static void f() throws Oops1, Oops2 {</p>
<p>​              throw new Oops1();</p>
<p>​       }</p>
<p>​       static void g() throws Oops2 {</p>
<p>​              throw new Oops2();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     f();</p>
<p>​              } catch(Exception Oops1) {}</p>
<p>​              try {</p>
<p>​                     g();</p>
<p>​              } catch(Exception Oops2) {}</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex7 {</p>
<p>​       private static int[] ia = new int[2];       </p>
<p>​       private static Logger logger = Logger.getLogger(“Ex7 Exceptions”);</p>
<p>​       static void logException(Exception e) {            StringWriter trace = new StringWriter();</p>
<p>​              e.printStackTrace(new PrintWriter(trace));</p>
<p>​              logger.severe(trace.toString());   </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     ia[2] = 3; </p>
<p>​              } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                     System.err.println(</p>
<p>​                            “Caught ArrayIndexOutOfBoundsException”);</p>
<p>​                     e.printStackTrace();</p>
<p>​                                         logException(e);</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class Exception4 extends Exception {</p>
<p>​       private String msg;</p>
<p>​       Exception4(String msg) {</p>
<p>​              super(msg);</p>
<p>​              System.out.println(“Exception4()”);</p>
<p>​              this.msg = msg;</p>
<p>​       }</p>
<p>​       protected void showS() { </p>
<p>​              System.out.println(“Message from Exception4: “ + msg);</p>
<p>​       }</p>
<p>}</p>
<p>class Test8 {</p>
<p>​       public static void f() throws Exception4 {</p>
<p>​              System.out.println(“f()”);</p>
<p>​              throw new Exception4(“Ouch from f()”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex8 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     Test8 t = new Test8();</p>
<p>​                     t.f();  </p>
<p>​              } catch(Exception4 e) {</p>
<p>​                     System.err.println(“Caught Exception4”);</p>
<p>​                     e.printStackTrace();</p>
<p>​                     e.showS();</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class ExceptionA extends Exception {</p>
<p>​       ExceptionA(String msg) { super(msg); }     </p>
<p>}</p>
<p>class ExceptionB extends Exception {</p>
<p>​       ExceptionB(String msg) { super(msg); }     </p>
<p>}</p>
<p>class ExceptionC extends Exception {</p>
<p>​       ExceptionC(String msg) { super(msg); }            </p>
<p>}</p>
<p>public class Ex9 {</p>
<p>​       public static void f(int x) throws ExceptionA, ExceptionB, ExceptionC {</p>
<p>​              if(x &lt; 0) throw new ExceptionA(“x &lt; 0”);</p>
<p>​              if(x == 0) throw new ExceptionB(“x == 0”);</p>
<p>​              if(x &gt; 0) throw new ExceptionC(“x &gt; 0”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     f(0);</p>
<p>​                     f(1);</p>
<p>​                     f(-1);</p>
<p>​                           } catch(Exception e) {</p>
<p>​                     print(“Caught Exception”);</p>
<p>​                     e.printStackTrace(System.out);</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class GException extends Exception {</p>
<p>​       GException(String s) { super(s); }</p>
<p>}</p>
<p>class HException extends Exception {</p>
<p>​       HException(String s) { super(s); }</p>
<p>}</p>
<p>public class Ex10 {</p>
<p>​       static void f() {</p>
<p>​              try {</p>
<p>​                     try {</p>
<p>​                            g();</p>
<p>​                     } catch(GException ge) {</p>
<p>​                            println(“Caught GException in f inner try”);</p>
<p>​                            ge.printStackTrace();</p>
<p>​                            throw new HException(“from f(), inner try”);</p>
<p>​                     }</p>
<p>​              } catch(HException he) {</p>
<p>​                     println(“Caught HException in f() outer try”);</p>
<p>​                     he.printStackTrace(System.out);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       static void g() throws GException {</p>
<p>​              throw new GException(“from g()”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              f();</p>
<p>​       }      </p>
<p>}</p>
<p>class GException extends Exception {</p>
<p>​       GException(String s) { super(s); }</p>
<p>}</p>
<p>public class Ex11 {</p>
<p>​       static void f() {</p>
<p>​              try {</p>
<p>​                     g();</p>
<p>​              } catch(GException ge) {</p>
<p>​                     println(“Caught GException in f try”);</p>
<p>​                     ge.printStackTrace();</p>
<p>​                     throw new RuntimeException(ge);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       static void g() throws GException {</p>
<p>​              throw new GException(“from g()”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              f();</p>
<p>​       }      </p>
<p>}</p>
<p>interface Selector {</p>
<p>​       boolean end();</p>
<p>​       Object current();</p>
<p>​       void next();</p>
<p>}</p>
<p>public class Sequence12 {</p>
<p>​       private Object[] items;</p>
<p>​       private int next = 0;</p>
<p>​       public Sequence12(int size) { items = new Object[size]; }</p>
<p>​       public void add(Object x) throws ArrayIndexOutOfBoundsException {</p>
<p>​                           if(next == items.length)</p>
<p>​                     throw new ArrayIndexOutOfBoundsException();</p>
<p>​                           if(next &lt; items.length)</p>
<p>​                     items[next++] = x;       </p>
<p>​       }</p>
<p>​       private class SequenceSelector implements Selector {</p>
<p>​              private int i = 0;</p>
<p>​              public boolean end() { return i == items.length; }</p>
<p>​              public Object current() { return items[i]; }</p>
<p>​              public void next() { if(i &lt; items.length) i++; } </p>
<p>​       }</p>
<p>​       public Selector selector() {</p>
<p>​              return new SequenceSelector();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Sequence12 sequence = new Sequence12(10);</p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     sequence.add(Integer.toString(i));</p>
<p>​              Selector selector = sequence.selector();</p>
<p>​              while(!selector.end()) {</p>
<p>​                     System.out.print(selector.current() + “ “);</p>
<p>​                     selector.next();</p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​                                        sequence.add(Integer.toString(10));</p>
<p>​       }</p>
<p>}</p>
<p>class ExceptionA extends Exception {</p>
<p>​       ExceptionA(String msg) { super(msg); }     </p>
<p>}</p>
<p>class ExceptionB extends Exception {</p>
<p>​       ExceptionB(String msg) { super(msg); }     </p>
<p>}</p>
<p>class ExceptionC extends Exception {</p>
<p>​       ExceptionC(String msg) { super(msg); }            </p>
<p>}</p>
<p>public class Ex13 {</p>
<p>​             private static Integer[] x = new Integer[1];</p>
<p>​       public static void f(int x) </p>
<p>​       throws ExceptionA, ExceptionB, ExceptionC {</p>
<p>​              if(x &lt; 0) throw new ExceptionA(“x &lt; 0”);</p>
<p>​              if(x == 0) throw new ExceptionB(“x == 0”);</p>
<p>​              if(x &gt; 0) throw new ExceptionC(“x &gt; 0”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                                         f(x[0]);</p>
<p>​                     f(0);</p>
<p>​                     f(1);</p>
<p>​                     f(-1);</p>
<p>​                           } catch(Exception e) {</p>
<p>​                     print(“Caught Exception”);</p>
<p>​                     e.printStackTrace(System.out);</p>
<p>​              } finally {</p>
<p>​                     print(“made it to finally”);</p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p>  public class OnOffSwitch14 {</p>
<p>​       private static Switch sw = new Switch();</p>
<p>​       static Integer[] x = new Integer[1];</p>
<p>​       public static void f(int i) </p>
<p>​       throws OnOffException1, OnOffException2 {}</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     sw.on();</p>
<p>​                                                             f(x[0]);</p>
<p>​                     sw.off();</p>
<p>​              } catch(OnOffException1 e) {</p>
<p>​                     System.out.println(“OnOffException1”);</p>
<p>​                     sw.off();</p>
<p>​              } catch(OnOffException2 e) {</p>
<p>​                     System.out.println(“OnOffException2”);</p>
<p>​                     sw.off();</p>
<p>​              } </p>
<p>​       }             </p>
<p>} </p>
<p>  public class WithFinally15 {</p>
<p>​       private static Switch sw = new Switch();</p>
<p>​             private static Integer[] x = new Integer[1];</p>
<p>​       public static void f(int i) </p>
<p>​       throws OnOffException1, OnOffException2 {}</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     sw.on();</p>
<p>​                                         f(x[0]);</p>
<p>​              } catch(OnOffException1 e) {</p>
<p>​                     System.out.println(“OnOffException1”);</p>
<p>​              } catch(OnOffException2 e) {</p>
<p>​                     System.out.println(“OnOffException2”);</p>
<p>​              } finally {</p>
<p>​                     sw.off();</p>
<p>​              } </p>
<p>​       }             </p>
<p>} </p>
<p>class Shape {</p>
<p>​       Shape(int i) { print(“Shape constructor”); }</p>
<p>​       void dispose() { print(“Shape dispose”); }          </p>
<p>}</p>
<p>class Circle extends Shape {</p>
<p>​       Circle(int i) {</p>
<p>​              super(i);</p>
<p>​              print(“Drawing Circle”);</p>
<p>​       }</p>
<p>​       void Dispose() {</p>
<p>​              print(“Erasing circle”);</p>
<p>​              super.dispose();</p>
<p>​       }</p>
<p>}</p>
<p>class Triangle extends Shape {</p>
<p>​       Triangle(int i) {</p>
<p>​              super(i);</p>
<p>​              print(“Drawing Triangle”);</p>
<p>​       }      </p>
<p>​       void dipsose() { </p>
<p>​              print(“Erasing Triangle”); </p>
<p>​              super.dispose();     </p>
<p>​       }</p>
<p>}</p>
<p>class Line extends Shape {</p>
<p>​       private int start, end;</p>
<p>​       Line(int start, int end) {</p>
<p>​              super(start);</p>
<p>​              this.start = start;</p>
<p>​              this.end = end;</p>
<p>​              print(“Drawing Line: “ + start + “, “ + end); </p>
<p>​       }</p>
<p>​       void dispose() {</p>
<p>​              print(“Erasing Line: “ + start + “, “ + end);</p>
<p>​              super.dispose();</p>
<p>​       }</p>
<p>}</p>
<p>public class CADSystem16 extends Shape {</p>
<p>​       private Circle c;</p>
<p>​       private Triangle t;</p>
<p>​       private Line[] lines = new Line[3];</p>
<p>​       public CADSystem16(int i) {</p>
<p>​              super(i + 1);</p>
<p>​              for(int j = 0; j &lt; lines.length; j++)</p>
<p>​                     lines[j] = new Line(j, j*j);</p>
<p>​              c = new Circle(1);</p>
<p>​              t = new Triangle(1);</p>
<p>​              print(“Combined constructor”);</p>
<p>​       }</p>
<p>​       public void dispose() {</p>
<p>​              print(“CADSystem.dispose()”);</p>
<p>​                                        t.dispose();</p>
<p>​              c.dispose();</p>
<p>​              for(int i = lines.length - 1; i &gt;= 0; i–)</p>
<p>​                     lines[i].dispose();</p>
<p>​              super.dispose();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              CADSystem16 x = new CADSystem16(47);</p>
<p>​              try {</p>
<p>​                     print(“Returning from try block”);</p>
<p>​                     return;</p>
<p>​                                                                          } finally {</p>
<p>​                     x.dispose();</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class Characteristic {</p>
<p>​       private String s;</p>
<p>​       Characteristic(String s) {</p>
<p>​              this.s = s;</p>
<p>​              print(“Creating Characteristic “ + s);</p>
<p>​       }</p>
<p>​       protected void dispose() {</p>
<p>​              print(“disposing Characteristic “ + s);</p>
<p>​       }</p>
<p>}</p>
<p>class Description {</p>
<p>​       private String s;</p>
<p>​       Description(String s) {</p>
<p>​              this.s = s;</p>
<p>​              print(“Creating Description “ + s);</p>
<p>​       }</p>
<p>​       protected void dispose() {</p>
<p>​              print(“disposing Description “ + s);</p>
<p>​       }</p>
<p>}</p>
<p>class LivingCreature {</p>
<p>​       private Characteristic p = new Characteristic(“is alive”);</p>
<p>​       private Description t = new Description(“Basic Living Creature”);</p>
<p>​       LivingCreature() {</p>
<p>​              print(“LivingCreature()”);</p>
<p>​       }             </p>
<p>​       protected void dispose() {</p>
<p>​              print(“LivingCreature dispose”);</p>
<p>​              t.dispose();</p>
<p>​              p.dispose();</p>
<p>​       }</p>
<p>}</p>
<p>class Animal extends LivingCreature {</p>
<p>​       private Characteristic p = new Characteristic(“has heart”);</p>
<p>​       private Description t = new Description(“Animal not Vegetable”);</p>
<p>​       Animal() { print(“Animal()”); }</p>
<p>​       protected void dispose() {</p>
<p>​              print(“Animal dispose”);</p>
<p>​              t.dispose();</p>
<p>​              p.dispose();</p>
<p>​              super.dispose();</p>
<p>​       }</p>
<p>}</p>
<p>class Amphibian extends Animal {</p>
<p>​       private Characteristic p = new Characteristic(“can live in water”);</p>
<p>​       private Description t = new Description(“Both water and land”);</p>
<p>​       Amphibian() { print(“Amphibian()”); }</p>
<p>​       protected void dispose() {</p>
<p>​              print(“Amphibian dispose”);</p>
<p>​              t.dispose();</p>
<p>​              p.dispose();</p>
<p>​              super.dispose();</p>
<p>​       }</p>
<p>}</p>
<p>public class Frog17 extends Amphibian {</p>
<p>​       private Characteristic p = new Characteristic(“Croaks”);</p>
<p>​       private Description t = new Description(“Eats Bugs”);</p>
<p>​       public Frog17() { print(“Frog17()”); }</p>
<p>​       public static void jump() { print(“frog jumps”); }</p>
<p>​       protected void dispose() {</p>
<p>​              print(“Frog17 dispose”);</p>
<p>​              t.dispose();</p>
<p>​              p.dispose();</p>
<p>​              super.dispose();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Frog17 frog = new Frog17();</p>
<p>​              try {</p>
<p>​                     frog.jump();</p>
<p>​                     print(“Returning from try-finally”);</p>
<p>​                     return;                  </p>
<p>​              } finally {</p>
<p>​                     print(“Bye!”);</p>
<p>​                     frog.dispose();</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>  class VeryImportantException extends Exception {</p>
<p>​       public String toString() {</p>
<p>​              return “A very important exception!”;</p>
<p>​       }</p>
<p>}</p>
<p>class HoHumException extends Exception {</p>
<p>​       public String toString() {</p>
<p>​              return “A trivial exception”;</p>
<p>​       }</p>
<p>}</p>
<p>class MeaninglessException extends Exception {</p>
<p>​       public String toString() {</p>
<p>​              return “A meaningless exception”;</p>
<p>​       }</p>
<p>}      </p>
<p>public class LostMessage18 {</p>
<p>​       void f() throws VeryImportantException {</p>
<p>​              throw new VeryImportantException();</p>
<p>​       }</p>
<p>​       void dispose() throws HoHumException {</p>
<p>​              throw new HoHumException();</p>
<p>​       }</p>
<p>​       void eliminate() throws MeaninglessException {</p>
<p>​              throw new MeaninglessException();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     LostMessage18 lm = new LostMessage18();</p>
<p>​                     try {</p>
<p>​                            try {</p>
<p>​                                   lm.f();</p>
<p>​                                   lm.dispose();</p>
<p>​                            } finally {</p>
<p>​                                   lm.eliminate();</p>
<p>​                            }</p>
<p>​                     } catch(Exception e) {</p>
<p>​                            System.out.println(e);</p>
<p>​                     }</p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.out.println(e);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>  class VeryImportantException extends Exception {</p>
<p>​       public String toString() {</p>
<p>​              return “A very important exception!”;</p>
<p>​       }</p>
<p>}</p>
<p>class HoHumException extends Exception {</p>
<p>​       public String toString() {</p>
<p>​              return “A trivial exception”;</p>
<p>​       }</p>
<p>}</p>
<p>public class LostMessageFound19 {</p>
<p>​       void f() throws VeryImportantException {</p>
<p>​              throw new VeryImportantException();</p>
<p>​       }</p>
<p>​       void dispose() throws HoHumException {</p>
<p>​              throw new HoHumException();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     LostMessageFound19 lmf = new LostMessageFound19();</p>
<p>​                     try {</p>
<p>​                            lmf.f();</p>
<p>​                     } catch(Exception e) {</p>
<p>​                            System.out.println(e);</p>
<p>​                     } finally {</p>
<p>​                            lmf.dispose();</p>
<p>​                     }</p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.out.println(e);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class BaseballException extends Exception {}</p>
<p>class Foul extends BaseballException {}</p>
<p>class Strike extends BaseballException {}</p>
<p>class UmpireArgument extends BaseballException {}</p>
<p>class ThrownFromGame extends UmpireArgument {}</p>
<p>abstract class Inning {</p>
<p>​       public Inning() throws BaseballException {}</p>
<p>​       public void event() throws BaseballException {</p>
<p>​                    }</p>
<p>​       public abstract void atBat() throws Strike, Foul, UmpireArgument;</p>
<p>​       public void questionableCall() throws UmpireArgument {}</p>
<p>​       public void walk() {}  }</p>
<p>class StormException extends Exception {}</p>
<p>class RainedOut extends StormException {}</p>
<p>class PopFoul extends Foul {}</p>
<p>interface Storm {</p>
<p>​       public void event() throws RainedOut;</p>
<p>​       public void rainHard() throws RainedOut;</p>
<p>}</p>
<p>public class StormyInning20 extends Inning implements Storm {</p>
<p>​                   public StormyInning20()</p>
<p>​              throws UmpireArgument, RainedOut, BaseballException {}</p>
<p>​       public StormyInning20(String s)</p>
<p>​              throws Foul, BaseballException {}</p>
<p>​                                                 public void rainHard() throws RainedOut {}</p>
<p>​                   public void event() {}</p>
<p>​             public void atBat() throws PopFoul, ThrownFromGame { </p>
<p>​              throw new ThrownFromGame(); </p>
<p>​       }      </p>
<p>​       public void questionableCall() throws UmpireArgument {</p>
<p>​              throw new UmpireArgument();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     StormyInning20 si = new StormyInning20();</p>
<p>​                     si.atBat();</p>
<p>​                     si.questionableCall();</p>
<p>​              } catch(PopFoul e) {</p>
<p>​                     System.out.println(“Pop foul”);</p>
<p>​              } catch(UmpireArgument e) {</p>
<p>​                     System.out.println(“Umpire argument (StormyInning20)”);</p>
<p>​                                        } catch(RainedOut e) {</p>
<p>​                     System.out.println(“Rained out”);</p>
<p>​              } catch(BaseballException e) {</p>
<p>​                     System.out.println(“Generic baseball exception”);</p>
<p>​              } </p>
<p>​                           try {</p>
<p>​                                         Inning i = new StormyInning20();</p>
<p>​                     i.atBat();</p>
<p>​                                                      } catch(Strike e) {</p>
<p>​                     System.out.println(“Strike”);</p>
<p>​              } catch(Foul e) {</p>
<p>​                     System.out.println(“Foul”);</p>
<p>​              } catch(ThrownFromGame e) {</p>
<p>​                     System.out.println(“Thrown from game (Inning)”);   </p>
<p>​              } catch(RainedOut e) {</p>
<p>​                     System.out.println(“Rained out”);</p>
<p>​              } catch(BaseballException e) {</p>
<p>​                     System.out.println(“Generic baseball exception”);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>  class BaseException extends Exception {}</p>
<p>class Base {</p>
<p>​       Base() throws BaseException {</p>
<p>​              throw new BaseException();</p>
<p>​       }</p>
<p>}</p>
<p>class Derived extends Base {</p>
<p>​                   Derived() throws BaseException {</p>
<p>​              super();</p>
<p>​                                                                                                  }</p>
<p>}</p>
<p>public class Ex21 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     Derived d = new Derived();</p>
<p>​       } catch(BaseException e) {</p>
<p>​                     System.out.println(“BaseException caught in main()”);</p>
<p>​              }</p>
<p>​                     </p>
<p>​       }</p>
<p>}</p>
<p>public class FailingConstructor22 {</p>
<p>​       Integer[] ia = new Integer[2];</p>
<p>​       String s;</p>
<p>​       FailingConstructor22(String s) throws Exception {</p>
<p>​              ia[0] = 0;</p>
<p>​              ia[1] = 1;</p>
<p>​              ia[2] = 2;</p>
<p>​              this.s = s; </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     FailingConstructor22 fc = new FailingConstructor22(“hi”);</p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.err.println(“Caught Exception in main()”);</p>
<p>​                     e.printStackTrace(System.err);</p>
<p>​              } finally {</p>
<p>​                     </p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p>public class FailingConstructor22b {</p>
<p>​       private BufferedReader in;</p>
<p>​       public FailingConstructor22b(String fname) throws Exception {</p>
<p>​              try {</p>
<p>​                     in = new BufferedReader(new FileReader(fname));</p>
<p>​              } catch(FileNotFoundException e) {</p>
<p>​                     System.out.println(“Could not find file “ + fname);</p>
<p>​                     throw e;</p>
<p>​              } catch(Exception e) {</p>
<p>​                     try {</p>
<p>​                            in.close();</p>
<p>​                     } catch(IOException e2) {</p>
<p>​                            System.out.println(“in.close() failed”);</p>
<p>​                     }</p>
<p>​                     throw e;</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public String getLine() {</p>
<p>​              String s;</p>
<p>​              try {</p>
<p>​                     s = in.readLine();</p>
<p>​              } catch(IOException e) {</p>
<p>​                     throw new RuntimeException(“readLine() failed”);</p>
<p>​              }</p>
<p>​              return s;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     FailingConstructor22b fc = </p>
<p>​                            new FailingConstructor22b(“AlwaysFinally.java”);</p>
<p>​                     try {</p>
<p>​                            String s;</p>
<p>​                            int i = 1;</p>
<p>​                            while((s = fc.getLine()) != null) {</p>
<p>​                                                                                                                                  }</p>
<p>​                     } catch(Exception e) {</p>
<p>​                            System.out.println(“Exception caught in main()”);</p>
<p>​                            e.printStackTrace(System.err);</p>
<p>​                     } </p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.out.println(“FailingConstructor22b construction failed”);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class Disposable {</p>
<p>​       private static int counter = 0;</p>
<p>​       private int id = counter++;</p>
<p>​       private boolean disposed;</p>
<p>​       Disposable() {</p>
<p>​              disposed = false;</p>
<p>​       }</p>
<p>​       void dispose() {</p>
<p>​              disposed = true;</p>
<p>​       }</p>
<p>​       String checkStatus() {</p>
<p>​              return (id + “ “ + (disposed ? “disposed” : “not disposed”));</p>
<p>​       }</p>
<p>}</p>
<p>public class FailingConstructor23 {</p>
<p>​       private Integer[] ia = new Integer[2];</p>
<p>​       private static Disposable d0;</p>
<p>​       private static Disposable d1; </p>
<p>​       FailingConstructor23() throws Exception {</p>
<p>​              try {</p>
<p>​                     d0 = new Disposable();</p>
<p>​                     try {</p>
<p>​                            ia[2] = 2;                                                                           try { </p>
<p>​                                   d1 = new Disposable();                      </p>
<p>​                            } catch(Exception e) {</p>
<p>​                                   println(“Caught e in inner try loop”);</p>
<p>​                                   e.printStackTrace(System.err);</p>
<p>​                                   println(“Failed to create d1”);</p>
<p>​                            }</p>
<p>​                     } catch(Exception e) {</p>
<p>​                            println(“Caught e in middle try loop”);</p>
<p>​                            e.printStackTrace(System.err);</p>
<p>​                            println(“Disposing d0”);</p>
<p>​                            d0.dispose();                             }     </p>
<p>​              } catch(Exception e) {</p>
<p>​                     println(“Caught e in outer try loop”);</p>
<p>​                     e.printStackTrace(System.err);</p>
<p>​                     println(“Failed to create d0”);</p>
<p>​              }</p>
<p>​              </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                                         FailingConstructor23 fc = new FailingConstructor23();</p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.err.println(“Caught Exception in main()”);</p>
<p>​                     e.printStackTrace(System.err);</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class NeedsCleanup { </p>
<p>​       private static long counter = 1;   </p>
<p>​       private final long id = counter++;</p>
<p>​       public void dispose() {</p>
<p>​              System.out.println(“NeedsCleanup “ + id + “ disposed”);</p>
<p>​       }                    </p>
<p>}</p>
<p>public class FailingConstructor23b {</p>
<p>​       private BufferedReader in;</p>
<p>​       NeedsCleanup nc1;</p>
<p>​       NeedsCleanup nc2;</p>
<p>​       public FailingConstructor23b(String fname) throws Exception {</p>
<p>​              nc1 = new NeedsCleanup();</p>
<p>​              try {</p>
<p>​                     in = new BufferedReader(new FileReader(fname));</p>
<p>​              } catch(FileNotFoundException e) {</p>
<p>​                     System.out.println(“Could not find file “ + fname);</p>
<p>​                     throw e;</p>
<p>​              } catch(Exception e) {</p>
<p>​                     try {</p>
<p>​                            in.close();</p>
<p>​                     } catch(IOException e2) {</p>
<p>​                            System.out.println(“in.close() failed”);</p>
<p>​                     }</p>
<p>​                     throw e;</p>
<p>​              }</p>
<p>​              nc2 = new NeedsCleanup();</p>
<p>​       }</p>
<p>​       public String getLine() {</p>
<p>​              String s;</p>
<p>​              try {</p>
<p>​                     s = in.readLine();</p>
<p>​              } catch(IOException e) {</p>
<p>​                     throw new RuntimeException(“readLine() failed”);</p>
<p>​              }</p>
<p>​              return s;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     FailingConstructor23b fc = </p>
<p>​                            new FailingConstructor23b(“AlwaysFinally.java”);</p>
<p>​                     try {</p>
<p>​                            String s;</p>
<p>​                            int i = 1;</p>
<p>​                            while((s = fc.getLine()) != null) {</p>
<p>​                                                                                                                                  }</p>
<p>​                     } catch(Exception e) {</p>
<p>​                            System.out.println(“Exception caught in main()”);</p>
<p>​                            e.printStackTrace(System.err);</p>
<p>​                     } finally {</p>
<p>​                            fc.nc1.dispose();</p>
<p>​                            fc.nc2.dispose();</p>
<p>​                     }</p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.out.println(“FailingConstructor23b construction failed”);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class FailingConstructor24b {</p>
<p>​       private BufferedReader in;</p>
<p>​       public FailingConstructor24b(String fname) throws Exception {</p>
<p>​              try {</p>
<p>​                     in = new BufferedReader(new FileReader(fname));</p>
<p>​              } catch(FileNotFoundException e) {</p>
<p>​                     System.out.println(“Could not find file “ + fname);</p>
<p>​                     throw e;</p>
<p>​              } catch(Exception e) {</p>
<p>​                     try {</p>
<p>​                            in.close();</p>
<p>​                     } catch(IOException e2) {</p>
<p>​                            System.out.println(“in.close() failed”);</p>
<p>​                     }</p>
<p>​                     throw e;</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public String getLine() {</p>
<p>​              String s;</p>
<p>​              try {</p>
<p>​                     s = in.readLine();</p>
<p>​              } catch(IOException e) {</p>
<p>​                     throw new RuntimeException(“readLine() failed”);</p>
<p>​              }</p>
<p>​              return s;</p>
<p>​       }</p>
<p>​       public void dispose() {</p>
<p>​              try {</p>
<p>​                     in.close();</p>
<p>​                     System.out.println(“dispose() successful”);</p>
<p>​              } catch(IOException e2) {</p>
<p>​                     throw new RuntimeException(“in.close() failed”);</p>
<p>​              }</p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     FailingConstructor24b fc = </p>
<p>​                            new FailingConstructor24b(“AlwaysFinally.java”);</p>
<p>​                     try {</p>
<p>​                            String s;</p>
<p>​                            int i = 1;</p>
<p>​                            while((s = fc.getLine()) != null) {</p>
<p>​                                                                                                                                  }</p>
<p>​                     } catch(Exception e) {</p>
<p>​                            System.out.println(“Exception caught in main()”);</p>
<p>​                            e.printStackTrace(System.err);</p>
<p>​                     } finally {</p>
<p>​                            fc.dispose();</p>
<p>​                     }</p>
<p>​              } catch(Exception e) {</p>
<p>​                     System.out.println(“FailingConstructor22b construction failed”);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class LevelOneException extends Exception {}</p>
<p>class LevelTwoException extends LevelOneException {}</p>
<p>class LevelThreeException extends LevelTwoException {} </p>
<p>class A {</p>
<p>​       void f() throws LevelOneException {</p>
<p>​              throw new LevelOneException();</p>
<p>​       }</p>
<p>}</p>
<p>class B extends A {</p>
<p>​       void f() throws LevelTwoException {</p>
<p>​              throw new LevelTwoException();</p>
<p>​       }</p>
<p>}</p>
<p>class C extends B {</p>
<p>​       void f() throws LevelThreeException {</p>
<p>​              throw new LevelThreeException();</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex25 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              A a = new C();</p>
<p>​              try {</p>
<p>​                     a.f();</p>
<p>​              }      catch(LevelThreeException e3) {</p>
<p>​                     System.out.println(“Caught e3”);               </p>
<p>​              }      catch(LevelTwoException e2) {</p>
<p>​                     System.out.println(“Caught e2”);</p>
<p>​              }      catch(LevelOneException e1) {</p>
<p>​                     System.out.println(“Caught e1”);</p>
<p>​              }             </p>
<p>​       }</p>
<p>}</p>
<p>public class MainException26 {</p>
<p>​             public static void main(String[] args) throws Exception {</p>
<p>​                           FileInputStream file =</p>
<p>​                     new FileInputStream(“null.jv”);</p>
<p>​                                        file.close();</p>
<p>​       }</p>
<p>}</p>
<p> public class Ex27 {</p>
<p>​       private static int[] ia = new int[2];       </p>
<p>​       public static void main(String[] args) {</p>
<p>​              try {</p>
<p>​                     ia[2] = 3; </p>
<p>​              } catch(ArrayIndexOutOfBoundsException e) {                      throw new RuntimeException(e);</p>
<p>​              } </p>
<p>​       }      </p>
<p>}</p>
<p>class Exception28 extends RuntimeException {</p>
<p>​       private String msg;</p>
<p>​       Exception28(String msg) {</p>
<p>​              super(msg);</p>
<p>​              System.out.println(“Exception28()”);</p>
<p>​              this.msg = msg;</p>
<p>​       }</p>
<p>​       protected void showS() { </p>
<p>​              System.out.println(“Message from Exception4: “ + msg);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex28 {</p>
<p>​       public static void f() throws Exception28 {</p>
<p>​              System.out.println(“f()”);</p>
<p>​              throw new Exception28(“Ouch from f()”);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              f();   </p>
<p>​       }      </p>
<p>}</p>
<p>class BaseballException extends RuntimeException {}</p>
<p>class Foul extends RuntimeException {}</p>
<p>class Strike extends RuntimeException {}</p>
<p>abstract class Inning {</p>
<p>​       public Inning() {}</p>
<p>​       public void event() {}</p>
<p>​       public abstract void atBat();</p>
<p>​       public void walk() {} </p>
<p>}</p>
<p>class StormException extends RuntimeException {}</p>
<p>class RainedOut extends RuntimeException {}</p>
<p>class PopFoul extends RuntimeException {}</p>
<p>interface Storm {</p>
<p>​       public void event();</p>
<p>​       public void rainHard();</p>
<p>}</p>
<p>public class StormyInning29 extends Inning implements Storm {</p>
<p>​       public StormyInning29() {}</p>
<p>​       public StormyInning29(String s) {}</p>
<p>​       public void walk() {}</p>
<p>​       public void event() {}</p>
<p>​       public void rainHard() {}</p>
<p>​       public void atBat() {}</p>
<p>​       public static void main(String[] args) {</p>
<p>​              StormyInning29 si = new StormyInning29();</p>
<p>​              si.atBat();</p>
<p>​                           Inning i = new StormyInning29();</p>
<p>​              i.atBat();         </p>
<p>​       }</p>
<p>}</p>
<p>class Annoyance extends RuntimeException {}</p>
<p>class Sneeze extends Annoyance {}</p>
<p>class WrapCheckedExceptions {</p>
<p>​       void throwRuntimeException(int type) {</p>
<p>​              try {</p>
<p>​                     switch(type) {</p>
<p>​                            case(0): </p>
<p>​                                   throw new Annoyance();</p>
<p>​                            case(1): </p>
<p>​                                   throw new Sneeze();</p>
<p>​                            case(2): </p>
<p>​                     throw new RuntimeException(“Where am I?”);</p>
<p>​                            default: return;</p>
<p>​                     }</p>
<p>​              }     catch(Exception e) { </p>
<p>​                                         throw new RuntimeException(e);</p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p>public class Human30 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              WrapCheckedExceptions wce = </p>
<p>​                     new WrapCheckedExceptions();</p>
<p>​              for(int i = 0; i &lt; 3; i++)</p>
<p>​                     try {</p>
<p>​                            if(i &lt; 3)</p>
<p>​                                   wce.throwRuntimeException(i);</p>
<p>​                            else</p>
<p>​                                   throw new RuntimeException();                 </p>
<p>​                     }      catch(RuntimeException re) {</p>
<p>​                            try {</p>
<p>​                                   throw re.getCause();</p>
<p>​                            }     catch(Sneeze e) {</p>
<p>​                                   print(“Sneeze: “ + e);</p>
<p>​                            }      catch(Annoyance e) {</p>
<p>​                                   print(“Annoyance: “ + e);</p>
<p>​                            }      catch(Throwable e) {</p>
<p>​                                   print(“Throwable: “ + e);</p>
<p>​                            }</p>
<p>​                     }             </p>
<p>​       }</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/2019-10-06-Java题解对象/" itemprop="url">Java题解对象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第一章对象"><a href="#第一章对象" class="headerlink" title="第一章对象"></a>第一章对象</h2><p>​       public class PrimitiveTest {</p>
<p>​       static int i;</p>
<p>​       static char c;   </p>
<p>​       public static void main(String[] args) {       </p>
<p>​              System.out.println(“int = “ + i);</p>
<p>​              System.out.println(“char = “ + c);</p>
<p>​       }</p>
<p>}</p>
<p>  public class HelloWorld {</p>
<p>​       public static void main(String[] args) {       </p>
<p>​              System.out.println(“Hello World!”);</p>
<p>​       }</p>
<p>}</p>
<p>  public class ATNTest {             </p>
<p>​       public static void main(String[] args) {</p>
<p>​              class ATypeName {</p>
<p>​                     int i;</p>
<p>​                     double d;</p>
<p>​                     boolean b;</p>
<p>​                     void show() {</p>
<p>​                            System.out.println(i);</p>
<p>​                            System.out.println(d);</p>
<p>​                            System.out.println(b);   </p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              ATypeName a = new ATypeName();</p>
<p>​              a.i = 3;</p>
<p>​              a.d = 2.71828;</p>
<p>​              a.b = false;            </p>
<p>​              a.show();</p>
<p>​       }</p>
<p>}</p>
<p> public class DataOnlyTest { </p>
<p>​       public static void main(String[] args) {</p>
<p>​              class DataOnly {</p>
<p>​                     int i;</p>
<p>​                     double d;</p>
<p>​                     boolean b;</p>
<p>​                     void show() {</p>
<p>​                            System.out.println(i);</p>
<p>​                            System.out.println(d);</p>
<p>​                            System.out.println(b);   </p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              DataOnly data = new DataOnly();</p>
<p>​              data.i = 3;</p>
<p>​              data.d = 2.71828;</p>
<p>​              data.b = false;              </p>
<p>​              data.show();</p>
<p>​       }</p>
<p>}</p>
<p>  public class DOTest2 {             </p>
<p>​       public static void main(String[] args) {</p>
<p>​              class DataOnly {</p>
<p>​                     int i;</p>
<p>​                     double d;</p>
<p>​                     boolean b;</p>
<p>​                     void show() {</p>
<p>​                            System.out.println(i);</p>
<p>​                            System.out.println(d);</p>
<p>​                            System.out.println(b);   </p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              DataOnly data = new DataOnly();</p>
<p>​              data.i = 234;</p>
<p>​              data.d = 2.1234545;</p>
<p>​              data.b = true;        </p>
<p>​              data.show();</p>
<p>​       }</p>
<p>}</p>
<p>  public class StorageTest { </p>
<p>​       public static void main(String[] args) {</p>
<p>​              class StoreStuff {</p>
<p>​                     int storage(String s) {</p>
<p>​                            return s.length() * 2;</p>
<p>​                     }      </p>
<p>​              }</p>
<p>​              StoreStuff x = new StoreStuff();</p>
<p>​              System.out.println(x.storage(“hi”));             </p>
<p>​       }</p>
<p>}</p>
<p> class StaticTest {</p>
<p>​       static int i = 47;</p>
<p>}</p>
<p>class Incrementable {</p>
<p>​       static void increment() { StaticTest.i++; }</p>
<p>}</p>
<p>public class ITest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​       System.out.println(“StaticTest.i= “ + StaticTest.i);</p>
<p>​       StaticTest st1 = new StaticTest();</p>
<p>​       StaticTest st2 = new StaticTest();</p>
<p>​       System.out.println(“st1.i= “ + st1.i);</p>
<p>​       System.out.println(“st2.i= “ + st2.i);</p>
<p>​       Incrementable sf = new Incrementable();</p>
<p>​       sf.increment();</p>
<p>​       System.out.println(“After sf.increment() called: “);</p>
<p>​       System.out.println(“st1.i = “ + st1.i);</p>
<p>​       System.out.println(“st2.i = “ + st2.i);</p>
<p>​       Incrementable.increment();</p>
<p>​       System.out.println(“After Incrementable.increment called: “);</p>
<p>​       System.out.println(“st1.i = “ + st1.i);</p>
<p>​       System.out.println(“st2.i = “ + st2.i);</p>
<p>​       }</p>
<p>}</p>
<p>class StaticTest {</p>
<p>​       static int i = 47;</p>
<p>}</p>
<p>class Incrementable {</p>
<p>​       static void increment() { StaticTest.i++; }</p>
<p>}</p>
<p>public class OneStaticTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              System.out.println(“StaticTest.i= “ + StaticTest.i);</p>
<p>​              StaticTest st1 = new StaticTest();</p>
<p>​              StaticTest st2 = new StaticTest();</p>
<p>​              System.out.println(“st1.i= “ + st1.i);</p>
<p>​              System.out.println(“st2.i= “ + st2.i);</p>
<p>​              Incrementable.increment();</p>
<p>​              System.out.println(“After Incrementable.increment() called: “);</p>
<p>​              System.out.println(“st1.i = “ + st1.i);</p>
<p>​              System.out.println(“st2.i = “ + st2.i);</p>
<p>​              Incrementable.increment();</p>
<p>​              System.out.println(“After Incrementable.increment called: “);</p>
<p>​              System.out.println(“st1.i = “ + st1.i);</p>
<p>​              System.out.println(“st2.i = “ + st2.i);</p>
<p>​              st1.i = 3;</p>
<p>​              System.out.println(“After st1.i = 3, “);</p>
<p>​              System.out.println(“st1.i = “ + st1.i);</p>
<p>​              System.out.println(“st2.i = “ + st2.i);</p>
<p>​              System.out.println(“Create another StaticTest, st3.”);</p>
<p>​              StaticTest st3 = new StaticTest();</p>
<p>​              System.out.println(“st3.i = “ + st3.i);</p>
<p>​       }</p>
<p>}</p>
<p>public class AutoboxTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              boolean b = false;</p>
<p>​              char c = ‘x’;</p>
<p>​              byte t = 8;</p>
<p>​              short s = 16;</p>
<p>​              int i = 32;</p>
<p>​              long l = 64;</p>
<p>​              float f = 0.32f;</p>
<p>​              double d = 0.64;</p>
<p>​              Boolean B = b;</p>
<p>​              System.out.println(“boolean b = “ + b);           </p>
<p>​              System.out.println(“Boolean B = “ + B); </p>
<p>​              Character C = c;</p>
<p>​              System.out.println(“char c = “ + c);</p>
<p>​              System.out.println(“Character C = “ + C);</p>
<p>​              Byte T = t;</p>
<p>​              System.out.println(“byte t = “ + t);</p>
<p>​              System.out.println(“Byte T = “ + T);</p>
<p>​              Short S = s;</p>
<p>​              System.out.println(“short s = “ + s);</p>
<p>​              System.out.println(“Short S = “ + S);</p>
<p>​              Integer I = i;</p>
<p>​              System.out.println(“int i = “ + i);</p>
<p>​              System.out.println(“Integer I = “ + I);</p>
<p>​              Long L = l;</p>
<p>​              System.out.println(“long l = “ + l);</p>
<p>​              System.out.println(“Long L = “ + L);</p>
<p>​              Float F = f;</p>
<p>​              System.out.println(“float f = “ + f);</p>
<p>​              System.out.println(“Float F = “ + F);</p>
<p>​              Double D = d;</p>
<p>​              System.out.println(“double d = “ + d);</p>
<p>​              System.out.println(“Double D = “ + D</p>
<p>public class CommandArgTest {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              System.out.println(“args[0] = “ + args[0]);</p>
<p>​              System.out.println(“args[1] = “ + args[1]);</p>
<p>​              System.out.println(“args[2] = “ + args[2]);  </p>
<p>​       }</p>
<p>}</p>
<p> public class Rainbow {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              AllTheColorsOfTheRainbow atc = new AllTheColorsOfTheRainbow();</p>
<p>​              System.out.println(“atc.anIntegerRepresentingColors = “ + atc.anIntegerRepresentingColors);</p>
<p>​              atc.changeColor(7);</p>
<p>​              atc.changeTheHueOfTheColor(77);</p>
<p>​              System.out.println(“After color change, atc.anIntegerRepresentingColors = “ + atc.anIntegerRepresentingColors);</p>
<p>​              System.out.println(“atc.hue = “ + atc.hue); </p>
<p>​       }</p>
<p>}</p>
<p>class AllTheColorsOfTheRainbow {</p>
<p>​       int anIntegerRepresentingColors = 0;</p>
<p>​       int hue = 0;</p>
<p>​       void changeTheHueOfTheColor(int newHue) {</p>
<p>​              hue = newHue;</p>
<p>​       }</p>
<p>​       int changeColor(int newColor) {</p>
<p>​              return anIntegerRepresentingColors = newColor;           </p>
<p>​       }</p>
<p>}</p>
<p>​       public static void main(String[] args) {</p>
<p>​       System.out.println(“Hello World!”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Overloading {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              for(int i = 0; i &lt; 5; i++) {</p>
<p>​                     Tree t = new Tree(i);</p>
<p>​                     t.info();</p>
<p>​                     t.info(“overloading method”);</p>
<p>​              }</p>
<p>​                           new Tree();</p>
<p>​       }</p>
<p>}</p>
<hr>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解字符串/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/2019-10-06-Java题解字符串/" itemprop="url">Java题解字符串</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第十三章-字符串"><a href="#第十三章-字符串" class="headerlink" title="第十三章 字符串"></a>第十三章 字符串</h2><p>class WaterSource {</p>
<p>​       private String s;</p>
<p>​       WaterSource() {</p>
<p>​              System.out.println(“WaterSource()”);</p>
<p>​              s = “Constructed”;</p>
<p>​       }</p>
<p>​       public String toString() { return s; }</p>
<p>}</p>
<p>public class SprinklerSystem1 {</p>
<p>​       private String valve1, valve2, valve3, valve4;     </p>
<p>​       private WaterSource source = new WaterSource();</p>
<p>​       private int i;</p>
<p>​       private float f;</p>
<p>​             public String toString() {</p>
<p>​              return</p>
<p>​                     “valve1 = “ + valve1 + “ “ + </p>
<p>​                     “valve2 = “ + valve2 + “ “ +</p>
<p>​                     “valve3 = “ + valve3 + “ “ +</p>
<p>​                     “valve4 = “ + valve4 + “ “ +</p>
<p>​                     “i = “ + i + “ “ + “f = “ + f + “ “ +</p>
<p>​                     “source = “ + source;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SprinklerSystem1 sprinklers = new SprinklerSystem1();</p>
<p>​              System.out.println(sprinklers);</p>
<p>​       }</p>
<p>}</p>
<p>public class InfiniteRecursion2 {  </p>
<p>​       public String toString() {</p>
<p>​              return “ InfiniteRecursion address: “ + super.toString() + “\n”;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<infiniterecursion2> v = new ArrayList<infiniterecursion2>();</infiniterecursion2></infiniterecursion2></p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     v.add(new InfiniteRecursion2());</p>
<p>​              System.out.println(v);</p>
<p>​       }</p>
<p>}</p>
<p>public class Turtle3 {</p>
<p>​       private String name;</p>
<p>​       private Formatter f;</p>
<p>​       public Turtle3(String name, Formatter f) {</p>
<p>​              this.name = name;</p>
<p>​              this.f = f;</p>
<p>​       }</p>
<p>​       public void move(int x, int y) {</p>
<p>​              f.format(“%s The Turtle is at (%d,%d)\n”, name, x, y);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              PrintStream outAlias = System.err;</p>
<p>​              Turtle3 tommy = new Turtle3(“Tommy”, new Formatter(System.err));</p>
<p>​              Turtle3 terry = new Turtle3(“Terry”, new Formatter(outAlias));</p>
<p>​              tommy.move(0,0);</p>
<p>​              terry.move(4,8);</p>
<p>​              tommy.move(3,4);</p>
<p>​              terry.move(2,5);</p>
<p>​              tommy.move(3,3);</p>
<p>​              terry.move(3,3);     </p>
<p>​       }</p>
<p>}</p>
<p>public class Receipt4 {</p>
<p>​       private double total = 0;</p>
<p>​       private Formatter f = new Formatter(System.out);</p>
<p>​       private static final int W1 = 15;</p>
<p>​       private static final int W2 = 5;</p>
<p>​       private static final int W3 = 10;</p>
<p>​       private String s1 = “%-“ + W1 + “s %” + W2 + “s %” + W3 + “s\n”;</p>
<p>​       private String s2 = “%-“ + W1 + “.15s %” + W2 + “d %” + W3 + “.2f\n”;</p>
<p>​       private String s3 = “%-“ + W1 + “s %” + W2 + “s %” + W3 + “.2f\n”;</p>
<p>​       public void printTitle() {</p>
<p>​              f.format(s1, “Item”, “Qty”, “Price”);</p>
<p>​              f.format(s1, “—-“, “—“, “—–”);</p>
<p>​       }</p>
<p>​       public void print(String name, int qty, double price) {</p>
<p>​              f.format(s2, name, qty, price);</p>
<p>​              total += price;</p>
<p>​       }</p>
<p>​       public void printTotal() {</p>
<p>​              f.format(s3, “Tax”, “”, total * 0.06);</p>
<p>​              f.format(s1, “”, “”, “—–”);</p>
<p>​              f.format(s3, “Total”, “”, total * 1.06);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Receipt4 receipt = new Receipt4();</p>
<p>​              receipt.printTitle();</p>
<p>​              receipt.print(“Jack’s Magic Beans”, 4, 4.25);</p>
<p>​              receipt.print(“Princess Peas”, 3, 5.1);</p>
<p>​              receipt.print(“Three Bears Porridge”, 1, 14.29);</p>
<p>​              receipt.printTotal();              </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex5 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Formatter f = new Formatter(System.out);</p>
<p>​              char u = ‘a’;</p>
<p>​              System.out.println(“char u = &#39;a&#39;“);</p>
<p>​              f.format(“%-2s%-2S%-2c%-2C%-5b%-5B%-3h%-3H%%\n”, u,u,u,u,u,u,u,u);</p>
<p>​              </p>
<p>​              int v = 121;</p>
<p>​              System.out.println(“int v = 121”);</p>
<p>​              f.format(“%-4s%-4S%-4d%-4c%-4C%-5b%-5B%-4x%-4X%-4h%-4H%%\n”, v,v,v,v,v,v,v,v,v,v,v);</p>
<p>​              </p>
<p>​              BigInteger w = new BigInteger(“50000000000000”);</p>
<p>​              System.out.println(“BigInteger w = 50000000000000”);</p>
<p>​              f.format(“%-15s%-15S%-5b%-5B%-15x%-15X%-5h%-5H%%\n”, w,w,w,w,w,w,w,w); </p>
<p>​              double x = 179.543;</p>
<p>​              System.out.println(“double x = 179.543”);</p>
<p>​              f.format(“%-8s%-8S%-5b%-5B%-15f%-15e%-15E%-12h%-12H%%\n”, x,x,x,x,x,x,x,x,x);</p>
<p>​              </p>
<p>​              Conversion y = new Conversion();</p>
<p>​              System.out.println(“Conversion y = new Conversion()”);</p>
<p>​              f.format(“%-20s%-20S%-5b%-5B%-10h%-10H%%\n”, y,y,y,y,y,y);</p>
<p>​              boolean z = false;</p>
<p>​              System.out.println(“boolean z = false”);</p>
<p>​              f.format(“%-7s%-7S%-7b%-7B%-7h%-7H%%\n”, z,z,z,z,z,z);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex6 {</p>
<p>​       int i = 0;</p>
<p>​       long l = 0;</p>
<p>​       float f = 0.0f;</p>
<p>​       double d = 0.0;</p>
<p>​       Ex6(int i, long l, float f, double d) {</p>
<p>​              this.i = i;</p>
<p>​              this.l = l;</p>
<p>​              this.f = f;</p>
<p>​              this.d = d;</p>
<p>​       }      </p>
<p>​       public String toString() {</p>
<p>​              return String.format(“i = %d\nl = %d\nf = %.16g\nd = %.16g\n”, i, l, f, d);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex6 x = new Ex6(2, 45l, 1.2f, 2.7182818289);</p>
<p>​              Ex6 ex = new Ex6(-2147483648, -9223372036854775808L, 1.1754943508222875E-38f, 2.2250738585072014E-308);</p>
<p>​              Ex6 exMax = new Ex6(2147483647, 9223372036854775807L, 3.4028234663852886E38f, 1.7976931348623157E308);</p>
<p>​              System.out.println(x);</p>
<p>​              System.out.println(ex);</p>
<p>​              System.out.println(exMax);</p>
<p>​       }</p>
<p>}</p>
<p>public class Sentence7 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​                                                     String sen = “^[A-Z].*[\.]$”;</p>
<p>​              String s1 = “Once upon a time.”;</p>
<p>​              String s2 = “abcd.”;</p>
<p>​              String s3 = “Abcd?”;</p>
<p>​              String s4 = “An easy way out.”;</p>
<p>​              String s5 = “Zorro.”;</p>
<p>​              String s6 = “X.”;</p>
<p>​              println(s1.matches(sen));</p>
<p>​              println(s2.matches(sen));</p>
<p>​              println(s3.matches(sen));</p>
<p>​              println(s4.matches(sen));</p>
<p>​              println(s5.matches(sen));</p>
<p>​              println(s6.matches(sen));</p>
<p>​       }</p>
<p>}</p>
<p>public class Splitting8 {</p>
<p>​       public static String knights =</p>
<p>​              “Then, when you have found the shrubbery, you must “ +</p>
<p>​              “cut down the mightiest tree in the forest… “ +</p>
<p>​              “with… a herring!”;</p>
<p>​       public static void split(String regex) {</p>
<p>​              System.out.println(Arrays.toString(knights.split(regex)));</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              split(“the|you”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Replacing9 {</p>
<p>​       public static String knights =</p>
<p>​              “Then, when you have found the shrubbery, you must “ +</p>
<p>​              “cut down the mightiest tree in the forest… “ +</p>
<p>​              “with… a herring!”;</p>
<p>​       public static void main(String[] args) {</p>
<p>​              System.out.println(knights.replaceAll(“[aeiouAEIOU]”, “_”));</p>
<p>​       }</p>
<p>}</p>
<p>public class TestRegularExpression10 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &lt; 2) {</p>
<p>​                     print(“Usage:\njava TestRegularExpression “ + </p>
<p>​                            “characterSequence regularExpression+”);</p>
<p>​                     System.exit(0);  </p>
<p>​              }</p>
<p>​              print(“Input: &quot;“ + args[0] + “&quot;“);</p>
<p>​              for(String arg : args) {</p>
<p>​                     print(“Regular expression: &quot;“ + arg + “&quot;“);</p>
<p>​                     Pattern p = Pattern.compile(arg);</p>
<p>​                     Matcher m = p.matcher(args[0]);</p>
<p>​                     if(!m.find()) </p>
<p>​                           print(“No match found for “ + “&quot;“ + arg + “&quot;“);</p>
<p>​                     m.reset();</p>
<p>​                     while(m.find()) {</p>
<p>​                            print(“Match &quot;“ + m.group() + “&quot; at position “ +</p>
<p>​                                   m.start() + ((m.end() - m.start() &lt; 2) ? “” :  (“-“ + (m.end() - 1))));</p>
<p>​                     }</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class TestRegularExpression11 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &lt; 2) {</p>
<p>​                     print(“Usage:\njava TestRegularExpression “ + </p>
<p>​                            “characterSequence regularExpression+”);</p>
<p>​                     System.exit(0);  </p>
<p>​              }</p>
<p>​              print(“Input: &quot;“ + args[0] + “&quot;“);</p>
<p>​              for(String arg : args) {</p>
<p>​                     print(“Regular expression: &quot;“ + arg + “&quot;“);</p>
<p>​                     Pattern p = Pattern.compile(arg);</p>
<p>​                     Matcher m = p.matcher(args[0]);</p>
<p>​                     if(!m.find()) </p>
<p>​                           print(“No match found for “ + “&quot;“ + arg + “&quot;“);</p>
<p>​                     m.reset();</p>
<p>​                     while(m.find()) {</p>
<p>​                            print(“Match &quot;“ + m.group() + “&quot; at position “ +</p>
<p>​                                   m.start() + ((m.end() - m.start() &lt; 2) ? “” :  (“-“ + (m.end() - 1))));</p>
<p>​                     }</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class RegEx11 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Pattern p = </p>
<p>​       Pattern.compile(“(?i)((^[aeiou])|(\s+[aeiou]))\w+[aeiou]\b”);</p>
<p>​              Matcher m = p.matcher(“Arline ate eight apples and one orange while Anita hadn’t any”);</p>
<p>​              while(m.find())</p>
<p>​                     System.out.println(“Match &quot;“ + m.group() + “&quot; at “ + m.start());</p>
<p>​       }</p>
<p>}</p>
<p>public class Groups12 {</p>
<p>​       static public final String POEM =</p>
<p>​       “Twas brillig, and the slithy toves\n” +</p>
<p>​       “Did gyre and gimble in the wabe.\n” +</p>
<p>​       “All mimsy were the borogoves,\n” +</p>
<p>​       “And the mome raths outgrabe.\n\n” +</p>
<p>​       “Beware the Jabberwock, my son,\n” +</p>
<p>​       “The jaws that bite, the claws that catch,\n” +</p>
<p>​       “Beware the Jubjub bird, and shun\n” +</p>
<p>​       “The frumious Bandersnatch.”;</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Matcher m = Pattern.compile(“(^[a-z]|\s+[a-z])\w+”).matcher(POEM);</p>
<p>​              Set<string> words = new TreeSet<string>();</string></string></p>
<p>​              while(m.find()) {</p>
<p>​                     words.add(m.group());</p>
<p>​              }</p>
<p>​              print(“Number of unique non-cap words = “ + words.size());</p>
<p>​              print(words);</p>
<p>​       }</p>
<p>}</p>
<p>public class StartEnd13 {</p>
<p>​       public static String input =</p>
<p>​              “Twas brillig, and the slithy toves\n” +</p>
<p>​              “Did gyre and gimble in the wabe.\n” +</p>
<p>​              “All mimsy were the borogoves,\n” +</p>
<p>​              “And the mome raths outgrabe.\n\n” +</p>
<p>​              “Beware the Jabberwock, my son,\n” +</p>
<p>​              “The jaws that bite, the claws that catch,\n” +</p>
<p>​              “Beware the Jubjub bird, and shun\n” +</p>
<p>​              “The frumious Bandersnatch.”;</p>
<p>​       private static class Display {</p>
<p>​              private boolean regexPrinted = false;</p>
<p>​              private String regex;</p>
<p>​              Display(String regex) { this.regex = regex; }</p>
<p>​              void display(String message) {</p>
<p>​                     if(!regexPrinted) {</p>
<p>​                            print(regex);</p>
<p>​                            regexPrinted = true;</p>
<p>​                     }</p>
<p>​                     print(message);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       static void examine(String s, String regex) {</p>
<p>​              Display d = new Display(regex);</p>
<p>​              Pattern p = Pattern.compile(regex);</p>
<p>​              Matcher m = p.matcher(s);</p>
<p>​              while(m.find())</p>
<p>​                     d.display(“find() ‘“ + m.group() + “‘ start = “ + m.start() + “ end  = “ + m.end());</p>
<p>​              if(m.lookingAt())                 d.display(“lookingAt() start = “ + m.start() + “ end = “ + m.end());</p>
<p>​              if(m.matches())                  d.display(“matches() start = “ + m.start() + “ end = “ + m.end());   </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              for(String in : input.split(“\n”)) {</p>
<p>​                     print(“input : “ + in);</p>
<p>​                     for(String regex : new String[]{“\w<em>are\w</em>“, “A\w*”, “T\w+”, “Did.*”})</p>
<p>​                            examine(in, regex);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class SplitDemo14 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              String input = “This!!unusual use!!of exclamation!!points”;</p>
<p>​              print(Arrays.toString(input.split(“!!”)));</p>
<p>​                           print(Arrays.toString(input.split(“!!”, 3)));</p>
<p>​       }</p>
<p>}</p>
<p>​     import java.util.regex.*;</p>
<p>import net.mindview.util.*;</p>
<p>public class JGrep15  {</p>
<p>​       public static void main(String[] args) throws Exception {</p>
<p>​              if(args.length &lt; 3) {</p>
<p>​                     System.out.println(“Usage: java JGrep file regex flag”);</p>
<p>​                     System.exit(0);</p>
<p>​              }</p>
<p>​              int flag = 0;</p>
<p>​              if(args[2].equals(“Pattern.CASE_INSENSITIVE”)) </p>
<p>​                     flag = Pattern.CASE_INSENSITIVE;</p>
<p>​              else if(args[2].equals(“Pattern.CANON_EQ”))</p>
<p>​                     flag = Pattern.CANON_EQ;</p>
<p>​              else if(args[2].equals(“Pattern.COMMENTS”))</p>
<p>​                     flag = Pattern.COMMENTS;</p>
<p>​              else if(args[2].equals(“Pattern.DOTALL”))</p>
<p>​                     flag = Pattern.DOTALL;</p>
<p>​              else if(args[2].equals(“Pattern.LITERAL”))</p>
<p>​                     flag = Pattern.LITERAL;</p>
<p>​              else if(args[2].equals(“Pattern.MULTILINE”))</p>
<p>​                     flag = Pattern.MULTILINE;</p>
<p>​              else if(args[2].equals(“Pattern.UNICODE_CASE”))</p>
<p>​                     flag = Pattern.UNICODE_CASE;</p>
<p>​              else if(args[2].equals(“Pattern.UNIX_LINES”))</p>
<p>​                     flag = Pattern.UNIX_LINES;</p>
<p>​              Pattern p = Pattern.compile(args[1], flag);</p>
<p>​                           int index = 0;</p>
<p>​              Matcher m = p.matcher(“”);              for(String line : new TextFile(args[0])) {</p>
<p>​                     m.reset(line);</p>
<p>​                     while(m.find())</p>
<p>​                            System.out.println(index++ + “: “ + </p>
<p>​                                   m.group() + “: “ + m.start());</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class JGrep16  {</p>
<p>​       public static void main(String[] args) throws Exception {</p>
<p>​              if(args.length &lt; 2) {</p>
<p>​                     System.out.println(“Usage: java JGrep (file or directory) regex”);</p>
<p>​                     System.exit(0);</p>
<p>​              }</p>
<p>​              Pattern p = Pattern.compile(args[1]);</p>
<p>​              Matcher d = Pattern.compile(“\w+\.{1}\w+”).matcher(args[0]);</p>
<p>​              if(d.find()) {</p>
<p>​                     System.out.println(“File: “ + args[0]);</p>
<p>​                                         int index = 0;</p>
<p>​                     Matcher m = p.matcher(“”);                     for(String line : new TextFile(args[0])) {</p>
<p>​                            m.reset(line);</p>
<p>​                            while(m.find())</p>
<p>​                                   System.out.println(index++ + “: “ + </p>
<p>​                                          m.group() + “: “ + m.start());</p>
<p>​                     }</p>
<p>​              }             </p>
<p>​              Matcher e = Pattern.compile(“^\.{1}$”).matcher(args[0]);</p>
<p>​              if(e.find()) {</p>
<p>​                     File[] files = new File(args[0]).listFiles();</p>
<p>​                     System.out.println(“root dir of files: “ + Arrays.asList(files));</p>
<p>​                                         for(File f : files) {</p>
<p>​                            if(f.getName().matches(“\w+\.{1}\w+”)) {</p>
<p>​                                   System.out.println(f.getName() + “:”);</p>
<p>​                                   int index = 0;</p>
<p>​                                   Matcher m = p.matcher(“”);                                   for(String line : new TextFile(f.getName())) {</p>
<p>​                                          m.reset(line);</p>
<p>​                                          while(m.find())</p>
<p>​                                                 System.out.println(index++ + “: “ + </p>
<p>​                                                        m.group() + “: “ + m.start());</p>
<p>​                                   }</p>
<p>​                            }</p>
<p>​                            System.out.println();</p>
<p>​                     }</p>
<p>​              }</p>
<p>​              d.reset();</p>
<p>​              e.reset();</p>
<p>​              if(!(d.find() || e.find())) {</p>
<p>​                     if(new File(args[0]).listFiles() == null) { </p>
<p>​                            System.out.println(“no such directory: “ + args[0]);</p>
<p>​                            System.exit(0); </p>
<p>​                     }</p>
<p>​                     File[] files = new File(args[0]).listFiles();</p>
<p>​                     System.out.println(args[0] + “: subdir of files: “ + Arrays.asList(files));</p>
<p>​                                         for(File f : files) {</p>
<p>​                            int index = 0;</p>
<p>​                            Matcher m = p.matcher(“”);                            for(String line : new TextFile(args[0] + “\“ + f.getName())) {</p>
<p>​                                   m.reset(line);</p>
<p>​                                   while(m.find())</p>
<p>​                                          System.out.println(index++ + “: “ + </p>
<p>​                                                 m.group() + “: “ + m.start());</p>
<p>​                            }</p>
<p>​                            System.out.println();</p>
<p>​                     }</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex17  {</p>
<p>​       public static void main(String[] args) throws Exception {</p>
<p>​              if(args.length &lt; 1) {</p>
<p>​                     System.out.println(“Usage: fileName”);</p>
<p>​                     System.exit(0);</p>
<p>​              }</p>
<p>​              Pattern p = Pattern.compile(“(                       int index = 0;</p>
<p>​              Matcher m = p.matcher(“”);              System.out.println(args[0] + “ comments: “);</p>
<p>​              for(String line : new TextFile(args[0])) {</p>
<p>​                     m.reset(line);</p>
<p>​                     while(m.find())</p>
<p>​                            System.out.println(index++ + “: “ + m.group());</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex18  {</p>
<p>​       public static void main(String[] args) throws Exception {</p>
<p>​              if(args.length &lt; 1) {</p>
<p>​                     System.out.println(“Usage: fileName”);</p>
<p>​                     System.exit(0);</p>
<p>​              }</p>
<p>​              Pattern p = Pattern.compile(“&quot;.*&quot;“);</p>
<p>​              System.out.println(args[0] + “ string literals:”);</p>
<p>​                           int index = 0;</p>
<p>​              Matcher m = p.matcher(“”);              for(String line : new TextFile(args[0])) {</p>
<p>​                     m.reset(line);</p>
<p>​                     while(m.find())</p>
<p>​                            System.out.println(index++ + “: “ + m.group());</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex19  {</p>
<p>​       public static void main(String[] args) throws Exception {</p>
<p>​              if(args.length &lt; 1) {</p>
<p>​                     System.out.println(“Usage: fileName”);</p>
<p>​                     System.exit(0);</p>
<p>​              }             </p>
<p>​                           Pattern p = Pattern.compile(“class \w+\s+”);</p>
<p>​                           Pattern q = Pattern.compile(“^(        System.out.println(“classes in “ + args[0] + “:”);</p>
<p>​                           int index = 0;</p>
<p>​              Matcher m = p.matcher(“”);              Matcher n = q.matcher(“”);</p>
<p>​              for(String line : new TextFile(args[0])) {</p>
<p>​                     m.reset(line);</p>
<p>​                     n.reset(line);</p>
<p>​                     while(m.find() &amp;&amp; !n.find())</p>
<p>​                            System.out.println(index++ + “: “ + m.group());</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Scanner20 {</p>
<p>​       int i;</p>
<p>​       long L;</p>
<p>​       float f;</p>
<p>​       double d;</p>
<p>​       String s;</p>
<p>​       Scanner20(String s) {</p>
<p>​              Scanner sc = new Scanner(s);</p>
<p>​              i = sc.nextInt();</p>
<p>​              L = sc.nextLong();</p>
<p>​              f = sc.nextFloat();</p>
<p>​              d = sc.nextDouble();</p>
<p>​              this.s = sc.next();          </p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return i + “ “ + L + “ “ + f + “ “ + d + “ “ + s;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Scanner20 s20 = new Scanner20(“17 56789 2.7 3.61412 hello”);</p>
<p>​              System.out.println(s20);</p>
<p>​       }</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解多态/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/2019-10-06-Java题解多态/" itemprop="url">Java题解多态</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第八章-多态"><a href="#第八章-多态" class="headerlink" title="第八章 多态"></a>第八章 多态</h2><p>class Cycle {</p>
<p>​       private String name = “Cycle”;</p>
<p>​       public static void travel(Cycle c) {</p>
<p>​              println(“Cycle.ride() “ + c);</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }</p>
<p>}</p>
<p>class Unicycle extends Cycle {</p>
<p>​       private String name = “Unicycle”;</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>class Bicycle extends Cycle {</p>
<p>​       private String name = “Bicycle”;</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>class Tricycle extends Cycle {</p>
<p>​       private String name = “Tricycle”;</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>public class Biking {</p>
<p>​       public static void ride(Cycle c) {</p>
<p>​              c.travel(c);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Unicycle u = new Unicycle();</p>
<p>​              Bicycle b = new Bicycle();</p>
<p>​              Tricycle t = new Tricycle();</p>
<p>​              ride(u);</p>
<p>​              ride(b);</p>
<p>​              ride(t);            </p>
<p>​       }</p>
<p>}</p>
<p>public class Shapes {</p>
<p>​       private static RandomShapeGenerator gen = new RandomShapeGenerator();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Shape[] s = new Shape[10];</p>
<p>​                           for(int i = 0; i &lt; s.length; i++)</p>
<p>​                     s[i] = gen.next();</p>
<p>​                           for(Shape shp : s)</p>
<p>​                     shp.draw();     </p>
<p>​       }</p>
<p>}</p>
<p>public class Shapes3 {</p>
<p>​       private static RandomShapeGenerator gen = new RandomShapeGenerator();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Shape[] s = new Shape[10];</p>
<p>​                           for(int i = 0; i &lt; s.length; i++)</p>
<p>​                     s[i] = gen.next();</p>
<p>​                           for(Shape shp : s) {</p>
<p>​                     shp.draw();</p>
<p>​                     shp.amend();</p>
<p>​              }      </p>
<p>​       }</p>
<p>public class Shapes4 {</p>
<p>​       private static RandomShapeGenerator4 gen = new RandomShapeGenerator4();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Shape[] s = new Shape[10];</p>
<p>​                           for(int i = 0; i &lt; s.length; i++)</p>
<p>​                     s[i] = gen.next();</p>
<p>​                           for(Shape shp : s) {</p>
<p>​                     shp.draw();</p>
<p>​                     shp.amend();</p>
<p>​              }      </p>
<p>​       }</p>
<p>class Cycle {</p>
<p>​       private String name = “Cycle”;</p>
<p>​       private int wheels = 0;</p>
<p>​       public static void travel(Cycle c) {</p>
<p>​              println(“Cycle.ride() “ + c);</p>
<p>​       }</p>
<p>​       public int wheels() { return wheels; }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }</p>
<p>}</p>
<p>class Unicycle extends Cycle {</p>
<p>​       private String name = “Unicycle”;</p>
<p>​       private int wheels = 1;</p>
<p>​       @Override public int wheels() { return wheels; }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>class Bicycle extends Cycle {</p>
<p>​       private String name = “Bicycle”;</p>
<p>​       private int wheels = 2;</p>
<p>​       @Override public int wheels() { return wheels; }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>class Tricycle extends Cycle {</p>
<p>​       private String name = “Tricycle”;</p>
<p>​       private int wheels = 3;</p>
<p>​       @Override public int wheels() { return wheels; }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>public class Biking5 {</p>
<p>​       public static void ride(Cycle c) {</p>
<p>​              c.travel(c);</p>
<p>​              println(“wheels: “ + c.wheels());</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Unicycle u = new Unicycle();</p>
<p>​              Bicycle b = new Bicycle();</p>
<p>​              Tricycle t = new Tricycle();</p>
<p>​              ride(u);                ride(b);</p>
<p>​              ride(t);            </p>
<p>​       }</p>
<p>}</p>
<p>class Instrument {</p>
<p>​       void play(Note n) { print(“Instrument.play() “ + n); }</p>
<p>​       public String toString() { return “Instrument”; }</p>
<p>​       void adjust() { print(“Adjusting Instrument”); }</p>
<p>}</p>
<p>class Wind extends Instrument {</p>
<p>​       void play(Note n) { print(“Wind.play() “ + n); }</p>
<p>​       public String toString() { return “Wind”; }</p>
<p>​       void adjust() { print(“Adjusting Wind”); }</p>
<p>}</p>
<p>class Percussion extends Instrument {</p>
<p>​       void play(Note n) { print(“Percussion.play() “ + n); }</p>
<p>​       public String toString() { return “Percussion”; }</p>
<p>​       void adjust() { print(“Adjusting Percussion”); } </p>
<p>}</p>
<p>class Stringed extends Instrument {</p>
<p>​       void play(Note n) { print(“Stringed.play() “ + n); }</p>
<p>​       public String toString() { return “Stringed”; }</p>
<p>​       void adjust() { print(“Adjusting Stringed”); } </p>
<p>}</p>
<p>class Keyboard extends Instrument {</p>
<p>​       void play(Note n) { print(“Keyboard.play() “ + n); }</p>
<p>​       public String toString() { return “Keyboard”; }</p>
<p>​       void adjust() { print(“Adjusting Keyboard”); } </p>
<p>}</p>
<p>class Brass extends Wind {</p>
<p>​       void play(Note n) { print(“Brass.play() “ + n); }</p>
<p>​       public String toString() { return “Brass”; }</p>
<p>​       void adjust() { print(“Adjusting Brass”); }</p>
<p>}</p>
<p>class Woodwind extends Wind {</p>
<p>​       void play(Note n) { print(“Woodwind.play() “ + n); }</p>
<p>​       public String toString() { return “Woodwind”; }</p>
<p>}</p>
<p>class Piano extends Keyboard {</p>
<p>​       void play(Note n) { print(“Piano.play() “ + n); }</p>
<p>​       public String toString() { return “Piano”; }</p>
<p>}</p>
<p>public class Music7 {</p>
<p>​                   public static void tune(Instrument i) {</p>
<p>​                           i.play(Note.MIDDLE_C);</p>
<p>​       }</p>
<p>​       public static void tuneAll(Instrument[] e) {</p>
<p>​              for(Instrument i : e)</p>
<p>​                     tune(i);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​                           Instrument[] orchestra = {</p>
<p>​                     new Wind(),</p>
<p>​                     new Percussion(),</p>
<p>​                     new Stringed(),</p>
<p>​                     new Brass(),</p>
<p>​                     new Woodwind(),</p>
<p>​                     new Piano()</p>
<p>​              };</p>
<p>​              tuneAll(orchestra);</p>
<p>​              for(Instrument i : orchestra)</p>
<p>​                     System.out.println(i);</p>
<p>​       }</p>
<p>}</p>
<p>class Instrument {</p>
<p>​       void play(Note n) { print(“Instrument.play() “ + n); }</p>
<p>​       public String toString() { return “Instrument”; }</p>
<p>​       void adjust() { print(“Adjusting Instrument”); }</p>
<p>}</p>
<p>class Wind extends Instrument {</p>
<p>​       void play(Note n) { print(“Wind.play() “ + n); }</p>
<p>​       public String toString() { return “Wind”; }</p>
<p>​       void adjust() { print(“Adjusting Wind”); }</p>
<p>}</p>
<p>class Percussion extends Instrument {</p>
<p>​       void play(Note n) { print(“Percussion.play() “ + n); }</p>
<p>​       public String toString() { return “Percussion”; }</p>
<p>​       void adjust() { print(“Adjusting Percussion”); } </p>
<p>}</p>
<p>class Stringed extends Instrument {</p>
<p>​       void play(Note n) { print(“Stringed.play() “ + n); }</p>
<p>​       public String toString() { return “Stringed”; }</p>
<p>​       void adjust() { print(“Adjusting Stringed”); } </p>
<p>}</p>
<p>class Keyboard extends Instrument {</p>
<p>​       void play(Note n) { print(“Keyboard.play() “ + n); }</p>
<p>​       public String toString() { return “Keyboard”; }</p>
<p>​       void adjust() { print(“Adjusting Keyboard”); } </p>
<p>}</p>
<p>class Brass extends Wind {</p>
<p>​       void play(Note n) { print(“Brass.play() “ + n); }</p>
<p>​       public String toString() { return “Brass”; }</p>
<p>​       void adjust() { print(“Adjusting Brass”); }</p>
<p>}</p>
<p>class Woodwind extends Wind {</p>
<p>​       void play(Note n) { print(“Woodwind.play() “ + n); }</p>
<p>​       public String toString() { return “Woodwind”; }</p>
<p>}</p>
<p>class Piano extends Keyboard {</p>
<p>​       void play(Note n) { print(“Piano.play() “ + n); }</p>
<p>​       public String toString() { return “Piano”; }</p>
<p>}</p>
<p>public class Music8 {</p>
<p>​                   public static void tune(Instrument i) {</p>
<p>​                           i.play(Note.MIDDLE_C);</p>
<p>​       }</p>
<p>​       public static void tuneAll(Instrument[] e) {</p>
<p>​              for(Instrument i : e)</p>
<p>​                     tune(i);</p>
<p>​       }</p>
<p>​       private static RandomInstrumentGenerator gen = new RandomInstrumentGenerator();    </p>
<p>​       public static void main(String[] args) {</p>
<p>​                           Instrument[] orchestra = new Instrument[20];</p>
<p>​                           for(int i = 0; i &lt; orchestra.length; i++)</p>
<p>​                     orchestra[i] = gen.next();</p>
<p>​              tuneAll(orchestra);</p>
<p>​              for(Instrument i : orchestra)</p>
<p>​                     System.out.println(i);</p>
<p>​       }</p>
<p>}</p>
<p>class Rodent {</p>
<p>​       private String name = “Rodent”;</p>
<p>​       protected void eat() { println(“Rodent.eat()”); }</p>
<p>​       protected void run() { println(“Rodent.run()”); }</p>
<p>​       protected void sleep() { println(“Rodent.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>class Mouse extends Rodent {</p>
<p>​       private String name = “Mouse”;</p>
<p>​       protected void eat() { println(“Mouse.eat()”); }</p>
<p>​       protected void run() { println(“Mouse.run()”); }</p>
<p>​       protected void sleep() { println(“Mouse.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>class Rat extends Rodent {</p>
<p>​       private String name = “Rat”;</p>
<p>​       protected void eat() { println(“Rat.eat()”); }</p>
<p>​       protected void run() { println(“Rat.run()”); }</p>
<p>​       protected void sleep() { println(“Rat.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>class Squirrel extends Rodent {</p>
<p>​       private String name = “Squirrel”;</p>
<p>​       protected void eat() { println(“Squirrel.eat()”); }</p>
<p>​       protected void run() { println(“Squirrel.run()”); }</p>
<p>​       protected void sleep() { println(“Squirrel.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>public class Rodent9 {</p>
<p>​       private static RandomRodentGenerator gen = new RandomRodentGenerator();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Rodent[] rodents = new Rodent[10];</p>
<p>​              for(Rodent r : rodents) {</p>
<p>​                     r = gen.next();</p>
<p>​                     println(r + “: “);</p>
<p>​                     r.eat();</p>
<p>​                     r.run();</p>
<p>​                     r.sleep();                </p>
<p>​              }             </p>
<p>​       }</p>
<p>}</p>
<p>class A {</p>
<p>​       protected void f() { </p>
<p>​              System.out.println(“A.f()”);</p>
<p>​              this.g(); </p>
<p>​       }</p>
<p>​       protected void g() {</p>
<p>​              System.out.println(“A.g()”); </p>
<p>​       }</p>
<p>}</p>
<p>class B extends A {</p>
<p>​       @Override protected void g() {</p>
<p>​              System.out.println(“B.g()”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex10 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              B b = new B();</p>
<p>​                                        b.f();</p>
<p>​       }</p>
<p>}</p>
<p>class Meal {</p>
<p>​       Meal() { print(“Meal()”); } </p>
<p>}</p>
<p>class Bread {</p>
<p>​       Bread() { print(“Bread()”); } </p>
<p>}</p>
<p>class Cheese {</p>
<p>​       Cheese() { print(“Cheese()”); } </p>
<p>}</p>
<p>class Lettuce {</p>
<p>​       Lettuce() { print(“Lettuce()”); } </p>
<p>}</p>
<p>class Pickle {</p>
<p>​       Pickle() { print(“Pickle()”); }</p>
<p>}</p>
<p>class Lunch extends Meal {</p>
<p>​       Lunch() { print(“Lunch()”); } </p>
<p>}</p>
<p>class PortableLunch extends Lunch {</p>
<p>​       PortableLunch() { print(“PortableLunch()”); } </p>
<p>}      </p>
<p>public class Sandwich11 extends PortableLunch {</p>
<p>​       private Bread b = new Bread();</p>
<p>​       private Cheese c = new Cheese();</p>
<p>​       private Pickle p = new Pickle();</p>
<p>​       private Lunch l = new Lunch();</p>
<p>​       public Sandwich11() { print(“Sandwich()”); }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              new Sandwich11();</p>
<p>​       } </p>
<p>}</p>
<p>class Shared {</p>
<p>​       private int refcount = 0;</p>
<p>​       private static long counter = 0;</p>
<p>​       private final long id = counter++;</p>
<p>​       public Shared() {</p>
<p>​              print(“Creating “ + this);</p>
<p>​       }</p>
<p>​       public void addRef() { refcount++; }</p>
<p>​       protected void finalize() {</p>
<p>​              if(refcount &gt; 0)</p>
<p>​                     print(“Error: “ + refcount + “ Shared “ + id + “ objects in use”);</p>
<p>​       }</p>
<p>​       protected void dispose() {</p>
<p>​              if(–refcount == 0)</p>
<p>​                     print(“Disposing “ + this);</p>
<p>​       }</p>
<p>​       public String toString() { return “Shared “ + id; }</p>
<p>}</p>
<p>class Composing {</p>
<p>​       private Shared shared;</p>
<p>​       private static long counter = 0;</p>
<p>​       private final long id = counter++;</p>
<p>​       public Composing(Shared shared) {</p>
<p>​              print(“Creating “ + this);</p>
<p>​              this.shared = shared;</p>
<p>​              this.shared.addRef();</p>
<p>​       }</p>
<p>​       protected void dispose() {</p>
<p>​              print(“Disposing “ + this);</p>
<p>​              shared.dispose();</p>
<p>​       }</p>
<p>​       public String toString() { return “Composing “ + id; }</p>
<p>}</p>
<p>public class ReferenceCounting13 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Shared shared = new Shared();</p>
<p>​              Composing[] composing = { new Composing(shared),</p>
<p>​                     new Composing(shared), new Composing(shared),</p>
<p>​                     new Composing(shared), new Composing(shared)                </p>
<p>​              };</p>
<p>​              for(Composing c : composing)</p>
<p>​                     c.dispose();</p>
<p>​              Composing compTest = new Composing(shared);</p>
<p>​              Composing compTest2 = new Composing(shared);</p>
<p>​                           shared.finalize();</p>
<p>​              Shared sharedTest = new Shared();</p>
<p>​              Composing compTest3 = new Composing(sharedTest);</p>
<p>​                           sharedTest.finalize();</p>
<p>​       }</p>
<p>}</p>
<p>class Characteristic {</p>
<p>​       private String s;</p>
<p>​       Characteristic(String s) {</p>
<p>​              this.s = s;</p>
<p>​              println(“Creating Characteristic “ + s);</p>
<p>​       }      </p>
<p>}</p>
<p>class Description {</p>
<p>​       private String s;</p>
<p>​       Description(String s) {</p>
<p>​              this.s = s;</p>
<p>​              println(“Creating Description “ + s);</p>
<p>​       }</p>
<p>}</p>
<p>class Rodent {</p>
<p>​       private String name = “Rodent”;</p>
<p>​       private Shared shared;</p>
<p>​       private static long counter = 0;</p>
<p>​       private final long id = counter++; </p>
<p>​       private Characteristic c = new Characteristic(“has tail”);</p>
<p>​       private Description d = new Description(“small mammal”);</p>
<p>​       Rodent(Shared shared) { </p>
<p>​              println(“Rodent() “ + id); </p>
<p>​              this.shared = shared;</p>
<p>​              this.shared.addRef();</p>
<p>​       }</p>
<p>​       protected void eat() { println(“Rodent.eat()”); }</p>
<p>​       protected void run() { println(“Rodent.run()”); }</p>
<p>​       protected void sleep() { println(“Rodent.sleep()”); }</p>
<p>​       public String toString() { return name + “ “ + id; }</p>
<p>}</p>
<p>class Mouse extends Rodent {</p>
<p>​       private String name = “Mouse”;</p>
<p>​       private Characteristic c = new Characteristic(“likes cheese”);</p>
<p>​       private Description d = new Description(“nocturnal”);</p>
<p>​       Mouse(Shared shared) {</p>
<p>​              super(shared); </p>
<p>​              println(“Mouse()”);        </p>
<p>​       }</p>
<p>​       protected void eat() { println(“Mouse.eat()”); }</p>
<p>​       protected void run() { println(“Mouse.run()”); }</p>
<p>​       protected void sleep() { println(“Mouse.sleep()”); }</p>
<p>​       public String toString() { return name + “, “ + super.toString(); }</p>
<p>}</p>
<p>class Rat extends Rodent {</p>
<p>​       private String name = “Rat”;</p>
<p>​       private Characteristic c = new Characteristic(“larger”);</p>
<p>​       private Description d = new Description(“black”);</p>
<p>​       Rat(Shared shared) { </p>
<p>​              super(shared);</p>
<p>​              println(“Rat()”); </p>
<p>​       }</p>
<p>​       protected void eat() { println(“Rat.eat()”); }</p>
<p>​       protected void run() { println(“Rat.run()”); }</p>
<p>​       protected void sleep() { println(“Rat.sleep()”); }</p>
<p>​       public String toString() { return name + “, “ + super.toString(); }</p>
<p>}</p>
<p>class Squirrel extends Rodent {</p>
<p>​       private String name = “Squirrel”;</p>
<p>​       private Characteristic c = new Characteristic(“climbs trees”);</p>
<p>​       private Description d = new Description(“likes nuts”);</p>
<p>​       Squirrel(Shared shared) { </p>
<p>​              super(shared);</p>
<p>​              println(“Squirrel()”); </p>
<p>​       }</p>
<p>​       protected void eat() { println(“Squirrel.eat()”); }</p>
<p>​       protected void run() { println(“Squirrel.run()”); }</p>
<p>​       protected void sleep() { println(“Squirrel.sleep()”); }</p>
<p>​       public String toString() { return name + “, “ + super.toString(); }</p>
<p>}</p>
<p>public class Rodent14 {</p>
<p>​       private static RandomRodentGenerator gen = new RandomRodentGenerator();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Rodent[] rodents = new Rodent[5];</p>
<p>​              for(Rodent r : rodents) {</p>
<p>​                     r = gen.next();</p>
<p>​                     println(r);</p>
<p>​              }</p>
<p>​              gen.shared.showRefcount();        </p>
<p>​       }</p>
<p>}</p>
<p>class Glyph {</p>
<p>​       void draw() { print(“Glyph.draw()”); }</p>
<p>​       Glyph() {</p>
<p>​              print(“Glyph() before draw()”);</p>
<p>​              draw();</p>
<p>​              print(“Glyph() after draw()”); </p>
<p>​       }</p>
<p>}</p>
<p>class RoundGlyph extends Glyph {</p>
<p>​       private int radius = 1;</p>
<p>​       RoundGlyph(int r) {</p>
<p>​              radius = r;</p>
<p>​              print(“RoundGlyph.RoundGlyph(), radius = “ + radius);</p>
<p>​       }</p>
<p>​       void draw() {</p>
<p>​              print(“RoundGlyph.draw(), radius = “ + radius);</p>
<p>​       }</p>
<p>}</p>
<p>class RectangularGlyph extends Glyph {</p>
<p>​       private int length = 2;</p>
<p>​       private int width = 4;</p>
<p>​       RectangularGlyph(int l, int w) {</p>
<p>​              length = l;</p>
<p>​              width = w;</p>
<p>​              print(“RectangularGlyph.RectangularGlyph(), length = “ </p>
<p>​                     + length + “, width = “ + width);</p>
<p>​       }</p>
<p>​       void draw() {</p>
<p>​              print(“RectangularGlyph.draw(), length = “ + length </p>
<p>​                     + “, width = “ + width);</p>
<p>​       }</p>
<p>}</p>
<p>public class PolyConstructors15 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              new RoundGlyph(5);</p>
<p>​              new RectangularGlyph(3, 6);</p>
<p>​       }</p>
<p>}</p>
<p>class AlertStatus {</p>
<p>​       public void alert() {}</p>
<p>}</p>
<p>class NormalAlert extends AlertStatus {</p>
<p>​       public void alert() { println(“AlertStatus Normal”); }</p>
<p>}  </p>
<p>class HighAlert extends AlertStatus {</p>
<p>​       public void alert() { println(“AlertStatus High”); }</p>
<p>} </p>
<p>class MaximumAlert extends AlertStatus {</p>
<p>​       public void alert() { println(“AlertStatus Maximum”); }</p>
<p>}</p>
<p>class Starship {</p>
<p>​       private AlertStatus alertStatus = new NormalAlert();</p>
<p>​       public void normalAlert() { alertStatus = new NormalAlert(); }</p>
<p>​       public void highAlert() { alertStatus = new HighAlert(); }</p>
<p>​       public void maximumAlert() { alertStatus = new MaximumAlert(); }</p>
<p>​       public void checkAlertStatus() { alertStatus.alert(); } </p>
<p>}</p>
<p>public class Transmogrify16 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Starship ss = new Starship();</p>
<p>​              ss.checkAlertStatus();</p>
<p>​              ss.highAlert();</p>
<p>​              ss.checkAlertStatus();</p>
<p>​              ss.maximumAlert();</p>
<p>​              ss.checkAlertStatus();</p>
<p>​              ss.normalAlert();</p>
<p>​              ss.checkAlertStatus();</p>
<p>​       }</p>
<p>}</p>
<p>class Cycle {</p>
<p>​       private String name = “Cycle”;</p>
<p>​       public static void travel(Cycle c) {</p>
<p>​              println(“Cycle.ride() “ + c);</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }</p>
<p>}</p>
<p>class Unicycle extends Cycle {</p>
<p>​       private String name = “Unicycle”;</p>
<p>​       public void balance() { println(“Balance Unicycle”); }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>class Bicycle extends Cycle {</p>
<p>​       private String name = “Bicycle”;</p>
<p>​       public void balance() { println(“Balance Bicycle”); }</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>class Tricycle extends Cycle {</p>
<p>​       private String name = “Tricycle”;</p>
<p>​       public String toString() {</p>
<p>​              return this.name;</p>
<p>​       }      </p>
<p>}</p>
<p>public class Biking17 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Cycle[] ride = {</p>
<p>​                     new Unicycle(),</p>
<p>​                     new Bicycle(),</p>
<p>​                     new Tricycle(),</p>
<p>​              };</p>
<p>​                                                                  ((Unicycle)ride[0]).balance();</p>
<p>​              ((Bicycle)ride[1]).balance();</p>
<p>​                                                           }</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解持有对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/2019-10-06-Java题解持有对象/" itemprop="url">Java题解持有对象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第十一章持有对象"><a href="#第十一章持有对象" class="headerlink" title="第十一章持有对象"></a>第十一章持有对象</h2><p>class Gerbil {</p>
<p>​       private int gerbilNumber;</p>
<p>​       public Gerbil(int i) {</p>
<p>​              gerbilNumber = i;</p>
<p>​       }</p>
<p>​       public void hop() {</p>
<p>​              System.out.println(“Gerbil “ + gerbilNumber + “ hops”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex1 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              ArrayList<gerbil> gerbils = new ArrayList<gerbil>();</gerbil></gerbil></p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     gerbils.add(new Gerbil(i));</p>
<p>​              for(int i = 0; i &lt; 10; i++) </p>
<p>​                     gerbils.get(i).hop();</p>
<p>​                           for(Gerbil g : gerbils)</p>
<p>​                     g.hop();</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex2 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Set<integer> c = new HashSet<integer>();</integer></integer></p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     c.add(i);               for(Integer i : c)</p>
<p>​                     System.out.print(i + “, “);</p>
<p>​       }      </p>
<p>}</p>
<p>interface Selector {</p>
<p>​       boolean end();</p>
<p>​       Object current();</p>
<p>​       void next();</p>
<p>}</p>
<p>public class Sequence3 {</p>
<p>​       private ArrayList<object> items = new ArrayList<object>();</object></object></p>
<p>​       public void add(Object x) {</p>
<p>​              items.add(x);</p>
<p>​       }</p>
<p>​       private class Sequence3Selector implements Selector {</p>
<p>​              private int i = 0;</p>
<p>​              public boolean end() {</p>
<p>​                     return i == items.size();               </p>
<p>​              }</p>
<p>​              public Object current() {</p>
<p>​                     return items.get(i);</p>
<p>​              }</p>
<p>​              public void next() {</p>
<p>​                     i++;</p>
<p>​              }      </p>
<p>​       }</p>
<p>​       public Selector selector() {</p>
<p>​              return new Sequence3Selector();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Sequence3 s3 = new Sequence3();</p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     s3.add(i);</p>
<p>​              Selector selector = s3.selector();</p>
<p>​              while(!selector.end()) {</p>
<p>​                     System.out.print(selector.current() + “ “);</p>
<p>​                     selector.next();</p>
<p>​              }</p>
<p>​              s3.add(10);</p>
<p>​              s3.add(11);</p>
<p>​              s3.add(12);</p>
<p>​              s3.add(13);</p>
<p>​              s3.add(13);</p>
<p>​              s3.add(“good bye”);</p>
<p>​              while(!selector.end()) {</p>
<p>​                     System.out.print(selector.current() + “ “);</p>
<p>​                     selector.next();</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class Generator {</p>
<p>​       int key = 0;</p>
<p>​       public String next() {</p>
<p>​              switch(key) {</p>
<p>​                     default:</p>
<p>​                     case 0 : key++; return “Snow White”;</p>
<p>​                     case 1 : key++; return “Bashful”;</p>
<p>​                     case 2 : key++; return “Doc”;</p>
<p>​                     case 3 : key++; return “Dopey”;</p>
<p>​                     case 4 : key++; return “Grumpy”;</p>
<p>​                     case 5 : key++; return “Happy”;</p>
<p>​                     case 6 : key++; return “Sleepy”;</p>
<p>​                     case 7 : key = 0; return “Sneezy”;              </p>
<p>​              }</p>
<p>​       } </p>
<p>​       public void fillA(String[] a) {</p>
<p>​              for(int i = 0; i &lt; a.length; i++)</p>
<p>​                     a[i] = next();</p>
<p>​       }</p>
<p>​       public Collection fill(Collection<string> c, int n) {</string></p>
<p>​              for(int i = 0; i &lt; n; i++) c.add(next());</p>
<p>​              return c;</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex4 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Generator gen = new Generator();            </p>
<p>​              String[] a = new String[10];</p>
<p>​              gen.fillA(a);</p>
<p>​              for(String s : a) System.out.print(s + “, “);</p>
<p>​              System.out.println();     </p>
<p>​              System.out.println(gen.fill(new ArrayList<string>(), 10));</string></p>
<p>​              System.out.println(gen.fill(new LinkedList<string>(), 10));</string></p>
<p>​              System.out.println(gen.fill(new HashSet<string>(), 10));</string></p>
<p>​              System.out.println(gen.fill(new LinkedHashSet<string>(), 10));</string></p>
<p>​              System.out.println(gen.fill(new TreeSet<string>(), 10));                        </string></p>
<p>​       }</p>
<p>}</p>
<p>public class Ex5 {</p>
<p>​             public static List<integer> listOfRandInteger(int length, int n) {</integer></p>
<p>​              Random rand = new Random();</p>
<p>​              List<integer> li = new ArrayList<integer>(); </integer></integer></p>
<p>​              for(int i = 0; i &lt; length; i++)</p>
<p>​                     li.add(rand.nextInt(n));         </p>
<p>​              return li;  </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Random rand = new Random();</p>
<p>​              List<integer> li = listOfRandInteger(7, 10);</integer></p>
<p>​              print(“1: “ + li);</p>
<p>​              Integer h = new Integer(rand.nextInt(10));</p>
<p>​              li.add(h);</p>
<p>​              print(“2: “ + li);</p>
<p>​              print(“3: “ + li.contains(h));</p>
<p>​                           li.remove(h);</p>
<p>​              print(“3.5: “ + li);</p>
<p>​              Integer p = li.get(2);</p>
<p>​              print(“4: “ + p + “ “ +  li.indexOf(p));</p>
<p>​              Integer cy = new Integer(rand.nextInt(10));</p>
<p>​              print(“5: “ + cy +” “ + li.indexOf(cy));</p>
<p>​              print(“6: “ + li.remove(cy));</p>
<p>​              print(“7: “ + li.remove(p));</p>
<p>​              print(“8: “ + li);</p>
<p>​              li.add(3, new Integer(rand.nextInt(10)));</p>
<p>​              print(“9: “ + li);</p>
<p>​              List<integer> sub = li.subList(1, 4);</integer></p>
<p>​              print(“sublist: “ + sub);</p>
<p>​              print(“10: “ + li.containsAll(sub));</p>
<p>​                           Collections.sort(sub);</p>
<p>​              print(“sorted sublist: “ + sub);</p>
<p>​              print(“11: “ + li.containsAll(sub));</p>
<p>​              print(“11.25: “ + li);</p>
<p>​                           Collections.shuffle(sub, rand);</p>
<p>​              print(“11.5: “ + li);</p>
<p>​              print(“shuffled sublist: “ + sub);</p>
<p>​              print(“12: “ + li.containsAll(sub));</p>
<p>​              List<integer> copy = new ArrayList<integer>(li);</integer></integer></p>
<p>​              print(“12.5: “ + li);</p>
<p>​              sub = Arrays.asList(li.get(1), li.get(4));</p>
<p>​              print(“sub: “ + sub);      </p>
<p>​              copy.retainAll(sub);</p>
<p>​              print(“13: “ + copy);</p>
<p>​              copy = new ArrayList<integer>(li);</integer></p>
<p>​              copy.remove(2);</p>
<p>​              print(“14: “ + copy);</p>
<p>​              copy.removeAll(sub); </p>
<p>​              print(“15: “ + copy);</p>
<p>​              if(copy.size() &gt; 1)                      copy.set(1, 8);             print(“16: “ + copy);</p>
<p>​              if(copy.size() &gt; 2)</p>
<p>​                     copy.addAll(2, sub);</p>
<p>​              print(“17: “ + copy);</p>
<p>​              print(“18: “ + li.isEmpty());</p>
<p>​              li.clear();</p>
<p>​              print(“19: “ + li);</p>
<p>​              print(“20: “ + li.isEmpty());</p>
<p>​              li.addAll(listOfRandInteger(4, 10));</p>
<p>​              print(“21: “ + li);</p>
<p>​              Object[] o = li.toArray();</p>
<p>​              print(“22: “ + o[3]);</p>
<p>​              Integer[] ia = li.toArray(new Integer[0]);</p>
<p>​              print(“23: “ + ia[3]);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex6 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Random rand = new Random();</p>
<p>​              List<string> ls = new ArrayList<string>();</string></string></p>
<p>​              print(“0: “ + ls);</p>
<p>​              Collections.addAll(ls, “oh”, “what”, “a”, “beautiful”, “Manila”, “Monday”, “morning”);</p>
<p>​              print(“1: “ + ls);</p>
<p>​              String h = new String(“hi”);</p>
<p>​              ls.add(h);</p>
<p>​              print(“2: “ + ls);</p>
<p>​              print(“3: “ + ls.contains(h));</p>
<p>​                           ls.remove(h);</p>
<p>​              print(“3.5: “ + ls);</p>
<p>​              String p = ls.size() &gt; 2 ? ls.get(2) : null;</p>
<p>​              print(“4: “ + p + “ “ +  ls.indexOf(p));</p>
<p>​              String cy = new String(“cy”);</p>
<p>​              print(“5: “ + cy +” “ + ls.indexOf(cy));</p>
<p>​              print(“6: “ + ls.remove(cy));</p>
<p>​              print(“7: “ + ls.remove(p));</p>
<p>​              print(“8: “ + ls);</p>
<p>​              if(ls.size() &gt; 3)</p>
<p>​                     ls.add(3, “wonderful”);</p>
<p>​              print(“9: “ + ls);</p>
<p>​              if(ls.size() &lt; 4) {</p>
<p>​                     List<string> s = </string></p>
<p>​                        Arrays.asList(“let’s”, “jump”, “in”, “here”);</p>
<p>​                     ls.addAll(0, s);</p>
<p>​              }</p>
<p>​              List<string> sub = ls.subList(1, 4);</string></p>
<p>​              print(“sublist: “ + sub);</p>
<p>​              print(“10: “ + ls.containsAll(sub));</p>
<p>​                           Collections.sort(sub);</p>
<p>​              print(“sorted sublist: “ + sub);</p>
<p>​              print(“11: “ + ls.containsAll(sub));</p>
<p>​              print(“11.25: “ + ls);</p>
<p>​                           Collections.shuffle(sub, rand);</p>
<p>​              print(“11.5: “ + ls);</p>
<p>​              print(“shuffled sublist: “ + sub);</p>
<p>​              print(“12: “ + ls.containsAll(sub));</p>
<p>​              List<string> copy = new ArrayList<string>(ls);</string></string></p>
<p>​              print(“12.5: “ + ls);</p>
<p>​              if(ls.size() &lt; 5) {</p>
<p>​                     ls.add(“two”);</p>
<p>​                     ls.add(“more”);</p>
<p>​              }</p>
<p>​              sub = Arrays.asList(ls.get(1), ls.get(4));</p>
<p>​              print(“sub: “ + sub);      </p>
<p>​              copy.retainAll(sub);</p>
<p>​              print(“13: “ + copy);</p>
<p>​              copy = new ArrayList<string>(ls);</string></p>
<p>​              copy.remove(2);</p>
<p>​              print(“14: “ + copy);</p>
<p>​              copy.removeAll(sub); </p>
<p>​              print(“15: “ + copy);</p>
<p>​              if(copy.size() &gt; 1)                      copy.set(1, “excellent”); </p>
<p>​              print(“16: “ + copy);</p>
<p>​              if(copy.size() &gt; 2)</p>
<p>​                     copy.addAll(2, sub);</p>
<p>​              print(“17: “ + copy);</p>
<p>​              print(“18: “ + ls.isEmpty());</p>
<p>​              ls.clear();</p>
<p>​              print(“19: “ + ls);</p>
<p>​              print(“20: “ + ls.isEmpty());</p>
<p>​              ls.addAll(0, sub);</p>
<p>​              ls.addAll(2, sub);</p>
<p>​              print(“21: “ + ls);</p>
<p>​              Object[] o = ls.toArray();</p>
<p>​              print(“22: “ + o[3]);</p>
<p>​              String[] sa = ls.toArray(new String[0]);</p>
<p>​              print(“23: “ + sa[3]);</p>
<p>​       }</p>
<p>}</p>
<p>class Tester {</p>
<p>​       public static int counter = 0;</p>
<p>​       private int id = counter++;</p>
<p>​       public String toString() { return String.valueOf(id); } </p>
<p>}</p>
<p>public class Ex7 {</p>
<p>​       public static void main(String[] args) {       </p>
<p>​              Tester[] t = new Tester[10];</p>
<p>​              for(int i = 0; i &lt; t.length; i++)</p>
<p>​                     t[i] = new Tester();</p>
<p>​              List<tester> lt = new ArrayList<tester>();</tester></tester></p>
<p>​              for(Tester x : t) lt.add(x);</p>
<p>​              print(“list of Tester: “ + lt);</p>
<p>​              List<tester> sub = lt.subList(2, 6);</tester></p>
<p>​              print(“subList: “ + sub);</p>
<p>​                                                     List<tester> copy = new ArrayList<tester>(lt);</tester></tester></p>
<p>​              copy.removeAll(sub);</p>
<p>​              print(“copy: “ + copy);</p>
<p>​              lt = copy;</p>
<p>​              print(“list of Tester: “ + lt);</p>
<p>​       }</p>
<p>}</p>
<p>​    import java.util.*;</p>
<p>class Gerbil {</p>
<p>​       private int gerbilNumber;</p>
<p>​       public Gerbil(int i) {</p>
<p>​              gerbilNumber = i;</p>
<p>​       }</p>
<p>​       public void hop() {</p>
<p>​              System.out.println(“Gerbil “ + gerbilNumber + “ hops”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex8 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              ArrayList<gerbil> gerbils = new ArrayList<gerbil>();</gerbil></gerbil></p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     gerbils.add(new Gerbil(i));</p>
<p>​              Iterator<gerbil> it = gerbils.iterator();</gerbil></p>
<p>​              while(it.hasNext()) </p>
<p>​                     it.next().hop();</p>
<p>​       }</p>
<p>}</p>
<p>public class Sequence9 {</p>
<p>​       private ArrayList<object> items = new ArrayList<object>();</object></object></p>
<p>​       public void add(Object x) {</p>
<p>​              items.add(x);</p>
<p>​       }</p>
<p>​       public Iterator iterator() {</p>
<p>​              return items.iterator();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Sequence9 sequence = new Sequence9();</p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     sequence.add(Integer.toString(i));</p>
<p>​              Iterator it = sequence.iterator();</p>
<p>​              while(it.hasNext()) {                                                               System.out.print(it.next() + “ “);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class RandomRodentGenerator {</p>
<p>​       private Random rand = new Random();</p>
<p>​       public Rodent next() {</p>
<p>​              switch(rand.nextInt(3)) {</p>
<p>​                     default:</p>
<p>​                     case 0: return new Mouse();</p>
<p>​                     case 1: return new Rat();</p>
<p>​                     case 2: return new Squirrel();                     </p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class Rodent {</p>
<p>​       private String name = “Rodent”;</p>
<p>​       protected void eat() { println(“Rodent.eat()”); }</p>
<p>​       protected void run() { println(“Rodent.run()”); }</p>
<p>​       protected void sleep() { println(“Rodent.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>class Mouse extends Rodent {</p>
<p>​       private String name = “Mouse”;</p>
<p>​       protected void eat() { println(“Mouse.eat()”); }</p>
<p>​       protected void run() { println(“Mouse.run()”); }</p>
<p>​       protected void sleep() { println(“Mouse.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>class Rat extends Rodent {</p>
<p>​       private String name = “Rat”;</p>
<p>​       protected void eat() { println(“Rat.eat()”); }</p>
<p>​       protected void run() { println(“Rat.run()”); }</p>
<p>​       protected void sleep() { println(“Rat.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>class Squirrel extends Rodent {</p>
<p>​       private String name = “Squirrel”;</p>
<p>​       protected void eat() { println(“Squirrel.eat()”); }</p>
<p>​       protected void run() { println(“Squirrel.run()”); }</p>
<p>​       protected void sleep() { println(“Squirrel.sleep()”); }</p>
<p>​       public String toString() { return name; }</p>
<p>}</p>
<p>public class Rodent10 {</p>
<p>​       private static RandomRodentGenerator gen = </p>
<p>​              new RandomRodentGenerator();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<rodent> rodentList = new ArrayList<rodent>();</rodent></rodent></p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     rodentList.add(gen.next());</p>
<p>​              Iterator<rodent> it = rodentList.iterator();</rodent></p>
<p>​              while(it.hasNext()) {</p>
<p>​                     Rodent r = it.next();</p>
<p>​                     print(r + “: “);</p>
<p>​                     r.eat();</p>
<p>​                     r.run();</p>
<p>​                     r.sleep();</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex11 {</p>
<p>​       public static void printAny(Collection c) {</p>
<p>​              Iterator it = c.iterator();</p>
<p>​              while(it.hasNext())</p>
<p>​                     print(it.next() + “ “);</p>
<p>​              println();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              ArrayList<integer> al = </integer></p>
<p>​                     new ArrayList<integer>(Arrays.asList(1, 2, 3));</integer></p>
<p>​              LinkedList<character> ll =</character></p>
<p>​                     new LinkedList<character>(Arrays.asList(‘a’, ‘b’, ‘c’));       </character></p>
<p>​              HashSet<float> hs = </float></p>
<p>​                     new HashSet<float>(Arrays.asList(1.1f, 2.2f, 3.3f));</float></p>
<p>​              TreeSet<double> ts =</double></p>
<p>​                     new TreeSet<double>(Arrays.asList(1.11, 2.22, 3.33));</double></p>
<p>​              LinkedHashSet<integer> lhs =</integer></p>
<p>​                     new LinkedHashSet<integer>(Arrays.asList(11, 22, 33));</integer></p>
<p>​              printAny(al);</p>
<p>​              printAny(ll);</p>
<p>​              printAny(hs);</p>
<p>​              printAny(ts);</p>
<p>​              printAny(lhs);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex12 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<integer> li1 = </integer></p>
<p>​                     new ArrayList<integer>(Arrays.asList(0, 1, 2, 3, 4));</integer></p>
<p>​              List<integer> li2 = </integer></p>
<p>​                     new ArrayList<integer>(Arrays.asList(5, 6, 7, 8, 9));</integer></p>
<p>​              ListIterator<integer> it1 = li1.listIterator();</integer></p>
<p>​              ListIterator<integer> it2 = li2.listIterator();</integer></p>
<p>​              println(“li1: “ + li1);</p>
<p>​              println(“li2: “ + li2);</p>
<p>​                           while(it1.hasNext())</p>
<p>​                     it1.next();</p>
<p>​                           while(it2.hasNext()) {     </p>
<p>​                     it2.next();        </p>
<p>​                     it2.set(it1.previous());</p>
<p>​              }</p>
<p>​              println(“li1: “ + li1);</p>
<p>​              println(“li2: “ + li2);</p>
<p>​              </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex12a {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<integer> li1 = </integer></p>
<p>​                     new ArrayList<integer>(Arrays.asList(0, 1, 2, 3, 4));</integer></p>
<p>​              List<integer> li2 = </integer></p>
<p>​                     new ArrayList<integer>(Arrays.asList(5, 6, 7, 8, 9));</integer></p>
<p>​                           ListIterator<integer> it1 = li1.listIterator(5);</integer></p>
<p>​              ListIterator<integer> it2 = li2.listIterator();</integer></p>
<p>​              println(“li1: “ + li1);</p>
<p>​              println(“li2: “ + li2);</p>
<p>​                           while(it2.hasNext()) {     </p>
<p>​                     it2.next();        </p>
<p>​                     it2.set(it1.previous());</p>
<p>​              }</p>
<p>​              println(“li1: “ + li1);</p>
<p>​              println(“li2: “ + li2);</p>
<p>​              </p>
<p>​       }</p>
<p>}</p>
<p>public class Controller13 {</p>
<p>​             private LinkedList<event> eventList = new LinkedList<event>();</event></event></p>
<p>​       public void addEvent(Event c) { eventList.add(c); }           </p>
<p>​       public void run() {         </p>
<p>​              LinkedList<event> eventListCopy = </event></p>
<p>​                     new LinkedList<event>(eventList);</event></p>
<p>​              ListIterator<event> it </event></p>
<p>​                     = eventListCopy.listIterator();</p>
<p>​              while(it.hasNext()) {       </p>
<p>​                     it.next().action();</p>
<p>​                     it.previous();          </p>
<p>​                     System.out.println(it.next());         </p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex14 {</p>
<p>​       static void addMiddle(LinkedList<integer> l, Integer[] ia) {</integer></p>
<p>​              </p>
<p>​              for(Integer i : ia) {</p>
<p>​                     ListIterator<integer> it = </integer></p>
<p>​                            l.listIterator((l.size())                   it.add(i);</p>
<p>​                     System.out.println(l);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              LinkedList<integer> li = new LinkedList<integer>();</integer></integer></p>
<p>​              Integer[] x = {0, 1, 2, 3, 4, 5, 6, 7};</p>
<p>​              Ex14.addMiddle(li, x);</p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex15 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Stack<character> sc = new Stack<character>();</character></character></p>
<p>​              sc.push(‘U’);</p>
<p>​              sc.push(‘n’);</p>
<p>​              sc.push(‘c’);</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              sc.push(‘e’);</p>
<p>​              sc.push(‘r’);</p>
<p>​              sc.push(‘t’);</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              sc.push(‘a’);</p>
<p>​              sc.push(‘i’);</p>
<p>​              sc.push(‘n’);</p>
<p>​              sc.push(‘t’);</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              sc.push(‘ ‘);</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              sc.push(‘r’);</p>
<p>​              sc.push(‘u’);</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              sc.push(‘l’);</p>
<p>​              sc.push(‘e’);</p>
<p>​              sc.push(‘s’);</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());</p>
<p>​              System.out.print(sc.pop());          </p>
<p>​       }             </p>
<p>}</p>
<p>public class Vowels16 {</p>
<p>​       static void vowelCounter(Set<string> st) {</string></p>
<p>​              Set<character> vowels = new TreeSet<character>();</character></character></p>
<p>​              Collections.addAll(vowels, </p>
<p>​                     ‘A’, ‘E’, ‘I’, ‘O’, ‘U’, ‘a’, ‘e’, ‘i’, ‘o’, ‘u’);</p>
<p>​              int allVowels = 0;</p>
<p>​              for(String s : st) {</p>
<p>​                     int count = 0;</p>
<p>​                     for(Character v : s.toCharArray()) {             </p>
<p>​                            if(vowels.contains(v)) {</p>
<p>​                                   count++;</p>
<p>​                                   allVowels++; </p>
<p>​                            }</p>
<p>​                     }</p>
<p>​                     System.out.print(s + “: “ + count + “, “);            </p>
<p>​              }</p>
<p>​              System.out.println();     </p>
<p>​              System.out.print(“Total vowels: “ + allVowels);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Set<string> words = new TreeSet<string>(</string></string></p>
<p>​                     new TextFile(“SetOperations.java”, “\W+”));</p>
<p>​              System.out.println(words);</p>
<p>​              System.out.println();</p>
<p>​              vowelCounter(words);         </p>
<p>​       }             </p>
<p>}</p>
<p>class Gerbil {</p>
<p>​       private int gerbilNumber;</p>
<p>​       public Gerbil(int i) {</p>
<p>​              gerbilNumber = i;</p>
<p>​       }</p>
<p>​       public void hop() {</p>
<p>​              System.out.println(“gerbil “ + gerbilNumber + “ hops”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Gerbils17 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String, Gerbil&gt; gerbils = new HashMap&lt;String, Gerbil&gt;();</p>
<p>​              gerbils.put(“Fuzzy”, new Gerbil(0));</p>
<p>​              gerbils.put(“Spot”, new Gerbil(1));</p>
<p>​              gerbils.put(“Speedy”, new Gerbil(2));</p>
<p>​              gerbils.put(“Dopey”, new Gerbil(3));</p>
<p>​              gerbils.put(“Sleepy”, new Gerbil(4));</p>
<p>​              gerbils.put(“Happy”, new Gerbil(5));</p>
<p>​              Iterator<string> it = gerbils.keySet().iterator();</string></p>
<p>​              while(it.hasNext()) {</p>
<p>​                     String s = it.next();</p>
<p>​                     System.out.print(s + “: “);</p>
<p>​                     gerbils.get(s).hop();</p>
<p>​              }      </p>
<p>​       }</p>
<p>class Gerbil {</p>
<p>​       private int gerbilNumber;</p>
<p>​       public Gerbil(int i) {</p>
<p>​              gerbilNumber = i;</p>
<p>​       }</p>
<p>​       public void hop() {</p>
<p>​              System.out.println(“gerbil “ + gerbilNumber + “ hops”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex18 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String, Gerbil&gt; gerbils = new HashMap&lt;String, Gerbil&gt;();</p>
<p>​              gerbils.put(“Fuzzy”, new Gerbil(0));</p>
<p>​              gerbils.put(“Spot”, new Gerbil(1));</p>
<p>​              gerbils.put(“Speedy”, new Gerbil(2));</p>
<p>​              gerbils.put(“Dopey”, new Gerbil(3));</p>
<p>​              gerbils.put(“Sleepy”, new Gerbil(4));</p>
<p>​              gerbils.put(“Happy”, new Gerbil(5));</p>
<p>​              gerbils.put(“Funny”, new Gerbil(6));</p>
<p>​              gerbils.put(“Silly”, new Gerbil(7));</p>
<p>​              gerbils.put(“Goofy”, new Gerbil(8));</p>
<p>​              gerbils.put(“Wowee”, new Gerbil(9));</p>
<p>​              System.out.println(gerbils);</p>
<p>​              System.out.println();</p>
<p>​              Set<string> sortedKeys = </string></p>
<p>​                     new TreeSet<string>(gerbils.keySet());</string></p>
<p>​              System.out.println(sortedKeys);</p>
<p>​              System.out.println();</p>
<p>​              Map&lt;String, Gerbil&gt; sortedGerbils = </p>
<p>​                     new LinkedHashMap&lt;String, Gerbil&gt;();</p>
<p>​              for(String s : sortedKeys) {</p>
<p>​                     System.out.print(“Adding “ + s + “, “);</p>
<p>​                     sortedGerbils.put(s, gerbils.get(s));                   </p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(sortedGerbils);</p>
<p>​              System.out.println();</p>
<p>​                           Map&lt;String, Gerbil&gt; sortedGerbils2 =</p>
<p>​                     new TreeMap&lt;String, Gerbil&gt;(gerbils);</p>
<p>​              System.out.println(sortedGerbils2);            </p>
<p>​       }</p>
<p>}</p>
<p>class Gerbil {</p>
<p>​       private int gerbilNumber;</p>
<p>​       public Gerbil(int i) {</p>
<p>​              gerbilNumber = i;</p>
<p>​       }</p>
<p>​       public void hop() {</p>
<p>​              System.out.println(“gerbil “ + gerbilNumber + “ hops”);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex19 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String, Gerbil&gt; gerbils = new HashMap&lt;String, Gerbil&gt;();</p>
<p>​              gerbils.put(“Fuzzy”, new Gerbil(0));</p>
<p>​              gerbils.put(“Spot”, new Gerbil(1));</p>
<p>​              gerbils.put(“Speedy”, new Gerbil(2));</p>
<p>​              gerbils.put(“Dopey”, new Gerbil(3));</p>
<p>​              gerbils.put(“Sleepy”, new Gerbil(4));</p>
<p>​              gerbils.put(“Happy”, new Gerbil(5));</p>
<p>​              gerbils.put(“Funny”, new Gerbil(6));</p>
<p>​              gerbils.put(“Silly”, new Gerbil(7));</p>
<p>​              gerbils.put(“Goofy”, new Gerbil(8));</p>
<p>​              gerbils.put(“Wowee”, new Gerbil(9));</p>
<p>​              System.out.println(gerbils);</p>
<p>​              System.out.println();</p>
<p>​              Set<string> hashedKeys = </string></p>
<p>​                     new HashSet<string>(gerbils.keySet());</string></p>
<p>​              System.out.println(“HashSet: “ + hashedKeys);</p>
<p>​              System.out.println();</p>
<p>​              Map&lt;String, Gerbil&gt; hashedGerbils = </p>
<p>​                     new LinkedHashMap&lt;String, Gerbil&gt;();</p>
<p>​              for(String s : hashedKeys) {</p>
<p>​                     System.out.print(“Adding “ + s + “, “);              </p>
<p>​                     hashedGerbils.put(s, gerbils.get(s));</p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(“From HashSet: “ + hashedGerbils);</p>
<p>​              </p>
<p>​              System.out.println();</p>
<p>​              Set<string> linkedHashedKeys = </string></p>
<p>​                     new LinkedHashSet<string>(gerbils.keySet());</string></p>
<p>​              System.out.println(“LinkedHashSet: “ + linkedHashedKeys);</p>
<p>​              System.out.println();</p>
<p>​              Map&lt;String, Gerbil&gt; linkedHashedGerbils = </p>
<p>​                     new LinkedHashMap&lt;String, Gerbil&gt;();</p>
<p>​              for(String s : linkedHashedKeys) {</p>
<p>​                     System.out.print(“Adding “ + s + “, “);              </p>
<p>​                     linkedHashedGerbils.put(s, gerbils.get(s));</p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(“From LinkedHashSet: “ </p>
<p>​                     + linkedHashedGerbils);</p>
<p>​              }</p>
<p>}</p>
<p>public class Vowels20 {</p>
<p>​       static void vowelCounter20(Set<string> st) {           </string></p>
<p>​              Set<character> vowels = new TreeSet<character>();</character></character></p>
<p>​              Collections.addAll(vowels, </p>
<p>​                     ‘A’, ‘E’, ‘I’, ‘O’, ‘U’, ‘a’, ‘e’, ‘i’, ‘o’, ‘u’);</p>
<p>​              int allVowels = 0;</p>
<p>​              Map&lt;Character,Integer&gt; vowelMap =</p>
<p>​                     new TreeMap&lt;Character,Integer&gt;();</p>
<p>​              for(String s : st) {</p>
<p>​                     for(Character v : s.toCharArray()) {             </p>
<p>​                            if(vowels.contains(v)) {</p>
<p>​                                   Integer count = vowelMap.get(v);</p>
<p>​                                   vowelMap.put(v, </p>
<p>​                                          count == null ? 1 : count + 1);</p>
<p>​                                   allVowels++; </p>
<p>​                            }</p>
<p>​                     }</p>
<p>​              }</p>
<p>​              System.out.println(“Vowels: “ + vowelMap);      </p>
<p>​              System.out.println(“Total vowels: “ + allVowels);</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Set<string> words = new TreeSet<string>(</string></string></p>
<p>​                     new TextFile(“SetOperations.java”, “\W+”));</p>
<p>​              System.out.println(words);</p>
<p>​              System.out.println();</p>
<p>​              vowelCounter20(words);             </p>
<p>​       }             </p>
<p>}</p>
<p>public class UniqueWords21 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<string> words = new ArrayList<string>(</string></string></p>
<p>​                     new TextFile(“SetOperations.java”, “\W+”));</p>
<p>​              System.out.println(“Words to count: “ + words);</p>
<p>​              Collections.sort(words, String.CASE_INSENSITIVE_ORDER);</p>
<p>​              Map&lt;String,Integer&gt; wordCount =</p>
<p>​                     new LinkedHashMap&lt;String,Integer&gt;();</p>
<p>​              Iterator it = words.iterator();</p>
<p>​              int totalWords = 0;</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     String s = (String)it.next();</p>
<p>​                     if(words.contains(s)) {</p>
<p>​                            Integer count = wordCount.get(s);</p>
<p>​                            wordCount.put(s,</p>
<p>​                                   count == null ? 1 : count + 1);</p>
<p>​                            totalWords++;</p>
<p>​                     }</p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(“Word count: “ + wordCount);</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(“Total words: “ + totalWords);            </p>
<p>​       }             </p>
<p>}</p>
<p>class Word {</p>
<p>​       static int totalWords = 0;     </p>
<p>​       String s;  </p>
<p>​       int count;</p>
<p>​       Word(String s, int count) { </p>
<p>​              this.s = s; </p>
<p>​              this.count = count;</p>
<p>​              totalWords++;</p>
<p>​       }</p>
<p>​       public String toString() { return s + “: “ + count; }</p>
<p>}</p>
<p>public class UniqueWords22 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<string> words = new ArrayList<string>(</string></string></p>
<p>​                     new TextFile(“SetOperations.java”, “\W+”));            </p>
<p>​              Collections.sort(words, String.CASE_INSENSITIVE_ORDER);</p>
<p>​              System.out.println(“Words to count, sorted: “ + words);</p>
<p>​              Set<word> wordObjects = new HashSet<word>();</word></word></p>
<p>​              Iterator it = words.iterator(); </p>
<p>​              while(it.hasNext()) {</p>
<p>​                     String s = (String)it.next();</p>
<p>​                     int count = 0;               </p>
<p>​                     for(int i = 0; i &lt; words.size(); i++) {</p>
<p>​                            if(s.equals(words.get(i))) count++;</p>
<p>​                     }</p>
<p>​                     Word w = new Word(s, count);</p>
<p>​                     wordObjects.add(w);</p>
<p>​              }             </p>
<p>​              System.out.println(“Word count: “ + wordObjects);</p>
<p>​              System.out.println(“Total words: “ + Word.totalWords);          </p>
<p>​       }             </p>
<p>}</p>
<p>public class Statistics23 {</p>
<p>​       private static int getBestInt20(int n) {</p>
<p>​              Random rand = new Random();</p>
<p>​              Map&lt;Integer, Integer&gt; m =</p>
<p>​                     new TreeMap&lt;Integer, Integer&gt;();</p>
<p>​              for(int i = 0; i &lt; 10000; i++) {</p>
<p>​                                         int r = rand.nextInt(20);</p>
<p>​                     Integer freq = m.get(r);</p>
<p>​                     m.put(r, freq == null ? 1 : freq + 1);</p>
<p>​              }</p>
<p>​              int max = 0;</p>
<p>​              for(int i = 0; i &lt; m.keySet().size(); i++) {</p>
<p>​                     max = max &lt; m.get(i) ? m.get(i) : max;</p>
<p>​              }</p>
<p>​              Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; me = new </p>
<p>​                     LinkedHashSet&lt;Map.Entry&lt;Integer,Integer&gt;&gt;(m.entrySet());</p>
<p>​              int maxKey = 0;</p>
<p>​              Iterator&lt;Map.Entry&lt;Integer,Integer&gt;&gt; it = me.iterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     Map.Entry&lt;Integer,Integer&gt; findMax = it.next();</p>
<p>​                     if(findMax.getValue() == max)</p>
<p>​                     maxKey = findMax.getKey();</p>
<p>​              }</p>
<p>​              return maxKey;                    </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;Integer,Integer&gt; m20 =            </p>
<p>​                     new TreeMap&lt;Integer,Integer&gt;();</p>
<p>​              for(int i = 0; i &lt; 2000; i++) {</p>
<p>​                     int x = getBestInt20(10000);</p>
<p>​                     Integer freq = m20.get(x);</p>
<p>​                     m20.put(x, freq == null ? 1 : freq + 1);</p>
<p>​              }</p>
<p>​              System.out.println(“Most often picked ints, 0 - 19, in 2000 tests of 10,000 random picks: “ + m20);</p>
<p>​       }</p>
<p>}      </p>
<p>public class Ex24{  </p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String,Integer&gt; m = </p>
<p>​                     new LinkedHashMap&lt;String,Integer&gt;();</p>
<p>​              m.put(“ten”, 10);</p>
<p>​              m.put(“nine”, 9);</p>
<p>​              m.put(“eight”, 8);</p>
<p>​              m.put(“seven”, 7);</p>
<p>​              m.put(“six”, 6);</p>
<p>​              m.put(“five”, 5);</p>
<p>​              m.put(“four”, 4);</p>
<p>​              m.put(“three”, 3);</p>
<p>​              m.put(“two”, 2);</p>
<p>​              m.put(“one”, 1);</p>
<p>​              m.put(“zero”, 0);</p>
<p>​              println(“Map to sort: “ + m);</p>
<p>​                           Map&lt;String,Integer&gt; mTemp = </p>
<p>​                     new LinkedHashMap&lt;String,Integer&gt;();</p>
<p>​                           Set<string> ss = new TreeSet<string>(m.keySet());</string></string></p>
<p>​                           Iterator<string> itss = ss.iterator();</string></p>
<p>​              while(itss.hasNext()) {</p>
<p>​                     String s = (String)itss.next();</p>
<p>​                     Integer i = m.get(s);</p>
<p>​                     m.remove(s);</p>
<p>​                     mTemp.put(s, i);</p>
<p>​              }</p>
<p>​                           Set<string> ssTemp = </string></p>
<p>​                     new TreeSet<string>(mTemp.keySet());</string></p>
<p>​                           Iterator<string> itssTemp = ssTemp.iterator();</string></p>
<p>​              while(itssTemp.hasNext()) {</p>
<p>​                     String s = (String)itssTemp.next();</p>
<p>​                     Integer i = mTemp.get(s);</p>
<p>​                     mTemp.remove(s);</p>
<p>​                     m.put(s, i);</p>
<p>​              }</p>
<p>​                           mTemp.clear();</p>
<p>​              println(“Sorted map: “ + m);</p>
<p>​       }</p>
<p>}      </p>
<p>public class Ex24b{       </p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String,Integer&gt; m = </p>
<p>​                     new LinkedHashMap&lt;String,Integer&gt;();</p>
<p>​              m.put(“ten”, 10);</p>
<p>​              m.put(“nine”, 9);</p>
<p>​              m.put(“eight”, 8);</p>
<p>​              m.put(“seven”, 7);</p>
<p>​              m.put(“six”, 6);</p>
<p>​              m.put(“five”, 5);</p>
<p>​              m.put(“four”, 4);</p>
<p>​              m.put(“three”, 3);</p>
<p>​              m.put(“two”, 2);</p>
<p>​              m.put(“one”, 1);</p>
<p>​              m.put(“zero”, 0);</p>
<p>​              println(“Map to sort: “ + m);</p>
<p>​                           Map&lt;String,Integer&gt; mTemp = </p>
<p>​                     new LinkedHashMap&lt;String,Integer&gt;();</p>
<p>​                                        List<string> ss2List = </string></p>
<p>​                     new LinkedList<string>(m.keySet());</string></p>
<p>​                           Collections.sort(ss2List);</p>
<p>​                           Iterator<string> itss2List = ss2List.iterator();</string></p>
<p>​              while(itss2List.hasNext()) {</p>
<p>​                     String s = (String)itss2List.next();</p>
<p>​                     Integer i = m.get(s);</p>
<p>​                     m.remove(s);</p>
<p>​                     mTemp.put(s, i);</p>
<p>​              }</p>
<p>​                           List<string> ssTemp = </string></p>
<p>​                     new LinkedList<string>(mTemp.keySet());</string></p>
<p>​                           Iterator<string> itssTemp = ssTemp.iterator();</string></p>
<p>​              while(itssTemp.hasNext()) {</p>
<p>​                     String s = (String)itssTemp.next();</p>
<p>​                     Integer i = mTemp.get(s);</p>
<p>​                     mTemp.remove(s);</p>
<p>​                     m.put(s, i);</p>
<p>​              }</p>
<p>​                           mTemp.clear();</p>
<p>​              println(“Sorted map: “ + m);       </p>
<p>​       }</p>
<p>}      </p>
<p>public class Ex25 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String,ArrayList<integer>&gt; m = </integer></p>
<p>​                     new LinkedHashMap&lt;String,ArrayList<integer>&gt;();</integer></p>
<p>​              List<string> words = new LinkedList<string>();</string></string></p>
<p>​              words.addAll(new TextFile(“SetOperations.java”, “\W+”));</p>
<p>​              System.out.println(“Words in file: “ + words);</p>
<p>​              Iterator itWords = words.iterator();</p>
<p>​              int count = 0;</p>
<p>​              while(itWords.hasNext()) {</p>
<p>​                     String s = (String)itWords.next();</p>
<p>​                     count++;                     </p>
<p>​                     if(!m.keySet().contains(s)) {   </p>
<p>​                            ArrayList<integer> ai = </integer></p>
<p>​                                   new ArrayList<integer>();           </integer></p>
<p>​                            ai.add(0, count);</p>
<p>​                            m.put(s, ai);</p>
<p>​                     }</p>
<p>​                     else {</p>
<p>​                            m.get(s).add(count);</p>
<p>​                            m.put(s, m.get(s));       </p>
<p>​                     }</p>
<p>​              }</p>
<p>​              System.out.println(“Map of word locations: “ + m);                </p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex26 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String,ArrayList<integer>&gt; m = </integer></p>
<p>​                     new LinkedHashMap&lt;String,ArrayList<integer>&gt;();</integer></p>
<p>​              List<string> words = new LinkedList<string>();</string></string></p>
<p>​              words.addAll(new TextFile(“SetOperations.java”, “\W+”));</p>
<p>​              System.out.println(“Words in file: “ + words);</p>
<p>​              Iterator itWords = words.iterator();</p>
<p>​              int count = 0;</p>
<p>​              while(itWords.hasNext()) {</p>
<p>​                     String s = (String)itWords.next();</p>
<p>​                     count++;                     </p>
<p>​                     if(!m.keySet().contains(s)) {   </p>
<p>​                            ArrayList<integer> ai = </integer></p>
<p>​                                   new ArrayList<integer>();           </integer></p>
<p>​                            ai.add(0, count);</p>
<p>​                            m.put(s, ai);</p>
<p>​                     }</p>
<p>​                     else {</p>
<p>​                            m.get(s).add(count);</p>
<p>​                            m.put(s, m.get(s));       </p>
<p>​                     }</p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(“Map of word locations: “ + m);</p>
<p>​                           Map&lt;Integer,String&gt; replay = new TreeMap&lt;Integer,String&gt;();</p>
<p>​              Iterator&lt;Map.Entry&lt;String,ArrayList<integer>&gt;&gt; it = </integer></p>
<p>​                     m.entrySet().iterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     Map.Entry&lt;String,ArrayList<integer>&gt; me = it.next();</integer></p>
<p>​                     for(int i = 0; i &lt; me.getValue().size(); i++)</p>
<p>​                            replay.put(me.getValue().get(i),</p>
<p>​                                   me.getKey());</p>
<p>​              }</p>
<p>​              System.out.println();</p>
<p>​              System.out.println(“TreeMap of ordered locations, words: “ + replay);</p>
<p>​              System.out.println();</p>
<p>​                           System.out.println(“Words in original order: “ +</p>
<p>​                     replay.values());</p>
<p>​       }      </p>
<p>}</p>
<p>class Command {</p>
<p>​       String s;</p>
<p>​       Command(String s) { this.s = s; }</p>
<p>​       void operation() { System.out.print(s); }</p>
<p>}</p>
<p>class Build {    </p>
<p>​       Queue<command> makeQ() {</p>
<p>​              Queue<command> q = new LinkedList<command>();</p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     q.offer(new Command(i + “ “));</p>
<p>​              return q;</p>
<p>​       }</p>
<p>}</p>
<p>public class Queue27 {</p>
<p>​       public static void commandEater(Queue<command> qc) {</p>
<p>​              while(qc.peek() != null)</p>
<p>​                     qc.poll().operation();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Build b = new Build();</p>
<p>​              commandEater(b.makeQ()); </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex28 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Random rand = new Random();</p>
<p>​              PriorityQueue<double> d = new PriorityQueue<double>();</double></double></p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     d.offer(rand.nextDouble() * i);</p>
<p>​              while(d.peek() != null)</p>
<p>​                     System.out.print(d.poll() + “ “);</p>
<p>​       }</p>
<p>}</p>
<p>class Simple extends Object {}</p>
<p>public class Ex29 {</p>
<p>​       public static void main(String[] args) {       </p>
<p>​              PriorityQueue<simple> s = new PriorityQueue<simple>();</simple></simple></p>
<p>​                           s.offer(new Simple());</p>
<p>​                                        s.offer(new Simple());</p>
<p>​       }</p>
<p>}</p>
<p> import typeinfo.pets.*;</p>
<p>import java.util.*;</p>
<p>public class CollectionSequence30 implements Collection<pet> {</pet></p>
<p>​       private Pet[] pets = Pets.createArray(8);</p>
<p>​       public int size() { return pets.length; }</p>
<p>​       public Iterator<pet> iterator() {</pet></p>
<p>​              return new Iterator<pet>() {</pet></p>
<p>​                     private int index = 0;</p>
<p>​                     public boolean hasNext() {</p>
<p>​                            return index &lt; pets.length; </p>
<p>​                     }</p>
<p>​                     public Pet next() { return pets[index++]; }</p>
<p>​                     public void remove() {                             throw new UnsupportedOperationException();</p>
<p>​                     }</p>
<p>​              };</p>
<p>​       }</p>
<p>​       public void clear() { </p>
<p>​              if(this.size() != 0)</p>
<p>​              for(Pet p : pets)</p>
<p>​                     p = null;</p>
<p>​       }</p>
<p>​       public boolean retainAll(Collection&lt;?&gt; c) { </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public boolean removeAll(Collection&lt;?&gt; c) { </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public boolean addAll(Collection&lt;? extends Pet&gt; c) { </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public boolean contains(Object o) {   </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public boolean isEmpty() {   </p>
<p>​              return (this.size() == 0) ? true : false;</p>
<p>​       }</p>
<p>​       public boolean containsAll(Collection&lt;?&gt; c) { </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public boolean remove(Object o) { </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public boolean add(Pet p) { </p>
<p>​              throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public Object[] toArray() {</p>
<p>​              return pets;</p>
<p>​       }</p>
<p>​       public <t> T[] toArray(T[] a) {</t></p>
<p>​            throw new UnsupportedOperationException();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              CollectionSequence30 c = new CollectionSequence30();</p>
<p>​              InterfaceVsIterator.display(c);</p>
<p>​              InterfaceVsIterator.display(c.iterator());</p>
<p>​       }</p>
<p>}</p>
<p>public class RandomShapeGenerator31 implements Iterable<shape> {</shape></p>
<p>​       private Random rand = new Random();</p>
<p>​       public Shape make() {          </p>
<p>​              switch(rand.nextInt(3)) {</p>
<p>​                     default:</p>
<p>​                     case 0: return new Circle();</p>
<p>​                     case 1: return new Square();</p>
<p>​                     case 2: return new Triangle();</p>
<p>​              }</p>
<p>​       }</p>
<p>​       private Shape[] shapes;</p>
<p>​       RandomShapeGenerator31(int n) {</p>
<p>​              shapes = new Shape[n];</p>
<p>​              for(int i = 0; i &lt; n; i++)</p>
<p>​                     shapes[i] = make();</p>
<p>​                             </p>
<p>​       }</p>
<p>​       public Iterator<shape> iterator() {</shape></p>
<p>​              return new Iterator<shape>() {</shape></p>
<p>​                     private int index = 0;</p>
<p>​                     public boolean hasNext() {</p>
<p>​                            return index &lt; shapes.length;</p>
<p>​                     }</p>
<p>​                     public Shape next() {</p>
<p>​                            return shapes[index++];</p>
<p>​                     }</p>
<p>​                     public void remove() {</p>
<p>​                            throw new UnsupportedOperationException();</p>
<p>​                     }                    </p>
<p>​              };</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              RandomShapeGenerator31 rsg = new RandomShapeGenerator31(20);</p>
<p>​              for(Shape s : rsg)</p>
<p>​                     System.out.println(s);</p>
<p>​       }</p>
<p>}</p>
<p>class PetSequence {</p>
<p>​       protected Pet[] pets = Pets.createArray(8);</p>
<p>}</p>
<p>public class NonCollectionSequence32 </p>
<p>​       extends PetSequence implements Iterable {</p>
<p>​       public Iterator<pet> iterator() {</pet></p>
<p>​              return new Iterator<pet>() {</pet></p>
<p>​                     private int index = 0;</p>
<p>​                     public boolean hasNext() {</p>
<p>​                            return index &lt; pets.length;</p>
<p>​                     }      </p>
<p>​                     public Pet next() { return pets[index++]; }</p>
<p>​                     public void remove() {</p>
<p>​                            throw new UnsupportedOperationException();</p>
<p>​                     }</p>
<p>​              };</p>
<p>​       }</p>
<p>​       public Iterable<pet> reversed() {</pet></p>
<p>​              return new Iterable<pet>() {</pet></p>
<p>​                     public Iterator<pet> iterator() {</pet></p>
<p>​                            return new Iterator<pet>() {</pet></p>
<p>​                                   int current = pets.length - 1;</p>
<p>​                                   public boolean hasNext() {</p>
<p>​                                          return current &gt; -1;</p>
<p>​                                   }</p>
<p>​                                   public Pet next() {</p>
<p>​                                          return pets[current–];</p>
<p>​                                   }</p>
<p>​                                   public void remove() {</p>
<p>​                                          throw new</p>
<p>​                                          UnsupportedOperationException();</p>
<p>​                                   }</p>
<p>​                            };</p>
<p>​                     }</p>
<p>​              };</p>
<p>​       }</p>
<p>​       public Iterable<pet> randomized() {</pet></p>
<p>​              return new Iterable<pet>() {</pet></p>
<p>​                     public Iterator<pet> iterator() {</pet></p>
<p>​                            List<pet> shuffled = new</pet></p>
<p>​                                  ArrayList<pet>(Arrays.asList(pets));</pet></p>
<p>​                            Collections.shuffle(shuffled, new Random());</p>
<p>​                            return shuffled.iterator();</p>
<p>​                     }</p>
<p>​              };</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              NonCollectionSequence32 nc = new NonCollectionSequence32();</p>
<p>​              print(“pets: “);</p>
<p>​              for(Pet p : nc.pets)</p>
<p>​                     print(p + “ “);</p>
<p>​              println();</p>
<p>​              print(“reversed: “);</p>
<p>​              for(Pet p : nc.reversed())</p>
<p>​                     print(p + “ “);</p>
<p>​              println();</p>
<p>​              print(“randomized: “);</p>
<p>​              for(Pet p : nc.randomized())</p>
<p>​                     print(p + “ “);</p>
<p>​       }</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zqfmcl</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">193</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zqfmcl</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
