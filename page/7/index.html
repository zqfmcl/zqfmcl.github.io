<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="Fey's blog" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="Fey&#39;s blog">
<meta property="og:url" content="https://zqfmcl.github.io/dialy/page/7/index.html">
<meta property="og:site_name" content="Fey&#39;s blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fey&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zqfmcl.github.io/dialy/page/7/">





  <title>Fey's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fey's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">个人博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-ES数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/2019-10-04-ES数组/" itemprop="url">ES数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!-- toc orderedList:0 -->

<ul>
<li><a href="#es数组">ES数组</a><ul>
<li><a href="#扩展运算符">扩展运算符</a></li>
<li><a href="#rest运算符">rest运算符</a></li>
<li><a href="#es6数组方法">ES6数组方法</a><ul>
<li><a href="#arrayfrom">Array.from()</a></li>
<li><a href="#arrayof">Array.of()</a></li>
<li><a href="#copywithin">copyWithin</a></li>
<li><a href="#find和findindex">find()和findIndex()</a></li>
<li><a href="#fill">fill()</a></li>
<li><a href="#entrieskeys和values">entries()，keys()和values()</a></li>
<li><a href="#arrayprototypeincludes">Array.prototype.includes</a></li>
<li><a href="#数组的空位">数组的空位</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->

<h1 id="ES数组"><a href="#ES数组" class="headerlink" title="ES数组"></a>ES数组</h1><h2 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h2><p>扩展运算符用三个点号表示，功能是把数组或类数组对象展开成一系列用逗号隔开的值</p>
<pre><code class="js">var foo = function(a, b, c) {
    console.log(a);
    console.log(b);
    console.log(c);
}
var arr = [1, 2, 3];
//传统写法
foo(arr[0], arr[1], arr[2]);

//使用扩展运算符
foo(...arr);
//1
//2
//3</code></pre>
<p>特殊应用场景：</p>
<pre><code class="js">//数组深拷贝
var arr2 = arr;
var arr3 = [...arr];
console.log(arr===arr2); //true, 说明arr和arr2指向同一个数组
console.log(arr===arr3); //false, 说明arr3和arr指向不同数组

//把一个数组插入另一个数组字面量
var arr4 = [...arr, 4, 5, 6];
console.log(arr4);//[1, 2, 3, 4, 5, 6]

//字符串转数组
var str = &#39;love&#39;;
var arr5 = [...str];
console.log(arr5);//[ &#39;l&#39;, &#39;o&#39;, &#39;v&#39;, &#39;e&#39; ]</code></pre>
<h2 id="rest运算符"><a href="#rest运算符" class="headerlink" title="rest运算符"></a>rest运算符</h2><p>rest运算符也是三个点号，不过其功能与扩展运算符恰好相反，把逗号隔开的值序列组合成一个数组</p>
<pre><code class="js">//主要用于不定参数，所以ES6开始可以不再使用arguments对象
var bar = function(...args) {
    for (let el of args) {
        console.log(el);
    }
}
bar(1, 2, 3, 4);
//1
//2
//3
//4

bar = function(a, ...args) {
    console.log(a);
    console.log(args);
}
bar(1, 2, 3, 4);
//1
//[ 2, 3, 4 ]

//rest运算符配合解构使用：

var [a, ...rest] = [1, 2, 3, 4];
console.log(a);//1
console.log(rest);//[2, 3, 4]</code></pre>
<blockquote>
<p>(来源)[<a href="http://www.tuicool.com/articles/26bAzmm]" target="_blank" rel="noopener">http://www.tuicool.com/articles/26bAzmm]</a></p>
</blockquote>
<h2 id="ES6数组方法"><a href="#ES6数组方法" class="headerlink" title="ES6数组方法"></a>ES6数组方法</h2><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p><code>Array.from</code>方法用于将两类对象转为真正的数组：类似数组的对象（<code>array-like object</code>）和可遍历（<code>iterable</code>）的对象（包括ES6新增的数据结构<code>Set</code>和<code>Map</code>）。</p>
<pre><code class="js">let arrayLike = {
    &#39;0&#39;: &#39;a&#39;,
    &#39;1&#39;: &#39;b&#39;,
    &#39;2&#39;: &#39;c&#39;,
    length: 3
};

// ES5的写法
var arr1 = [].slice.call(arrayLike); // [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]

// ES6的写法
let arr2 = Array.from(arrayLike); // [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code></pre>
<p>类数组的特性就是具有<code>length</code>属性。</p>
<p>与ES5的<code>Array.prototype.slice</code>相同。</p>
<p><code>Array.from</code>还可以接受第二个参数，作用类似于数组的<code>map</code>方法。</p>
<pre><code class="js">Array.from(arrayLike, x =&gt; x * x);
// 等同于
Array.from(arrayLike).map(x =&gt; x * x);</code></pre>
<h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h3><p><code>Array.of</code>方法用于将一组值，转换为数组。</p>
<pre><code class="js">Array.of(3, 11, 8) // [3,11,8]

//Array()的使用

Array() // []
Array(3) // [, , ,]
Array(3, 11, 8) // [3, 11, 8]
</code></pre>
<h3 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h3><p>在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组。</p>
<pre><code class="js">Array.prototype.copyWithin(target, start = 0, end = this.length)</code></pre>
<ul>
<li>target（必需）：从该位置开始替换数据。</li>
<li>start（可选）：从该位置开始读取数据，默认为0。如果为负值，表示倒数。</li>
<li>end（可选）：到该位置前停止读取数据，默认等于数组长度。如果为负值，表示倒数。</li>
</ul>
<pre><code class="js">// 将3号位开始到4号位，复制到0号位，原位置数据会给覆盖
[1, 2, 3, 4, 5].copyWithin(0, 3, 4)
// [4, 2, 3, 4, 5]</code></pre>
<h3 id="find-和findIndex"><a href="#find-和findIndex" class="headerlink" title="find()和findIndex()"></a>find()和findIndex()</h3><pre><code class="js">[1, 5, 10, 15].find(function(value, index, arr) {
  return value &gt; 9;
}) // 10</code></pre>
<p>返回第一个符合要求的成员，没有就返回<code>undefined</code>。</p>
<p>findIndex方法的用法与find方法非常类似，没有就返回<code>-1</code>。</p>
<pre><code class="js">[1, 5, 10, 15].findIndex(function(value, index, arr) {
  return value &gt; 9;
}) // 2</code></pre>
<h3 id="fill"><a href="#fill" class="headerlink" title="fill()"></a>fill()</h3><p><code>fill()</code>方法使用给定值，填充一个数组。</p>
<pre><code class="js">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;].fill(7)
// [7, 7, 7]

[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;].fill(7, 1, 2)
// [&#39;a&#39;, 7, &#39;c&#39;]</code></pre>
<p>第二、三个参数，代表填充的起始结束位置。</p>
<h3 id="entries-，keys-和values"><a href="#entries-，keys-和values" class="headerlink" title="entries()，keys()和values()"></a>entries()，keys()和values()</h3><p><code>for...of</code>循环进行遍历,<code>keys()</code>是对键名的遍历、<code>values()</code>是对键值的遍历，<code>entries()</code>是对键值对的遍历。</p>
<pre><code class="js">for (let index of [&#39;a&#39;, &#39;b&#39;].keys()) {
  console.log(index);
}
// 0
// 1

for (let elem of [&#39;a&#39;, &#39;b&#39;].values()) {
  console.log(elem);
}
// &#39;a&#39;
// &#39;b&#39;

for (let [index, elem] of [&#39;a&#39;, &#39;b&#39;].entries()) {
  console.log(index, elem);
}
// 0 &quot;a&quot;
// 1 &quot;b&quot;</code></pre>
<h3 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes"></a>Array.prototype.includes</h3><p><code>Array.prototype.includes</code>方法返回一个布尔值，表示某个数组是否包含给定的值。</p>
<p>该方法的第二个参数表示搜索的起始位置，默认为0，负数为倒数。</p>
<pre><code class="js">[1, 2, 3].includes(3, 3);  // false
[1, 2, 3].includes(3, -1); // true</code></pre>
<h3 id="数组的空位"><a href="#数组的空位" class="headerlink" title="数组的空位"></a>数组的空位</h3><p>数组的空位指，数组的某一个位置没有任何值。</p>
<pre><code class="js">Array(3) // [, , ,]</code></pre>
<p>ES5对空位的处理：</p>
<ul>
<li>forEach(), filter(), every() 和some()都会跳过空位。</li>
<li>map()会跳过空位，但会保留这个值</li>
<li>join()和toString()会将空位视为undefined，而undefined和null会被处理成空字符串。</li>
</ul>
<p>ES6则是明确将空位转为<code>undefined</code>。</p>
<blockquote>
<p><a href="http://es6.ruanyifeng.com/?search=import&x=15&y=8#docs/array" target="_blank" rel="noopener">参考</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-EvenEmmiter-NodeJs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/2019-10-04-EvenEmmiter-NodeJs/" itemprop="url">EvenEmmiter-NodeJs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!-- toc orderedList:0 depthFrom:1 depthTo:6 -->

<ul>
<li><a href="#eventemitter">EventEmitter</a><ul>
<li><a href="#eventemitter-的属性介绍">EventEmitter 的属性介绍</a><ul>
<li><a href="#方法">方法</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->

<h1 id="EventEmitter"><a href="#EventEmitter" class="headerlink" title="EventEmitter"></a>EventEmitter</h1><p>events 模块只提供了一个对象： <code>events.EventEmitter</code>。EventEmitter 的核心就是事件触发与事件监听器功能的封装。</p>
<p>EventEmitter 提供了多个属性，如 <code>on</code> 和 <code>emit</code>。<code>on</code> 函数用于绑定事件函数，<code>emit</code> 属性用于触发一个事件。</p>
<pre><code class="js">//引入events模块
var events = require(&#39;events&#39;);
//创建eventEmitter
var emitter = new events.EventEmitter();

//绑定事件及事件的处理程序
emitter.on(&#39;someEvent&#39;, function(arg1, arg2) {
    console.log(&#39;listener1&#39;, arg1, arg2);
});
emitter.on(&#39;someEvent&#39;, function(arg1, arg2) {
    console.log(&#39;listener2&#39;, arg1, arg2);
});

//出发事件
emitter.emit(&#39;someEvent&#39;, &#39;arg1 参数&#39;, &#39;arg2 参数&#39;);

//打印
//listener1 arg1 参数 arg2 参数
//listener2 arg1 参数 arg2 参数</code></pre>
<h2 id="EventEmitter-的属性介绍"><a href="#EventEmitter-的属性介绍" class="headerlink" title="EventEmitter 的属性介绍"></a>EventEmitter 的属性介绍</h2><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul>
<li>addListener(event, listener)/on(event, listener)</li>
</ul>
<p>为指定事件添加一个监听器到监听器数组的尾部。</p>
<pre><code class="js">//引入events模块
var events = require(&#39;events&#39;);
//创建eventEmitter
var emitter = new events.EventEmitter();

//绑定事件及事件的处理程序
function onfn(arg1, arg2){
    console.log(&#39;listener&gt;&gt;&gt;&gt;&#39;, arg1, arg2);
}

// 触发事件
emitter.on(&#39;someEvent&#39;, onfn);

emitter.addListener(&#39;someEvent&#39;,lsfn);
</code></pre>
<p><code>on()</code>与<code>addListener()</code>效果相同。</p>
<pre><code class="js">//来源自nodejs源码
EventEmitter.prototype.on = EventEmitter.prototype.addListener;</code></pre>
<ul>
<li>once(event,listener)</li>
</ul>
<p>为指定事件注册一个单次监听器，即 监听器最多只会触发一次，触发后立刻解除该监听器。</p>
<ul>
<li>removeListener(event, listener)</li>
</ul>
<p>移除指定事件的某个监听器，监听器 必须是该事件已经注册过的监听器。</p>
<ul>
<li>removeAllListeners([event])</li>
</ul>
<p>移除所有事件的所有监听器， 如果指定事件，则移除指定事件的所有监听器。</p>
<ul>
<li>setMaxListeners(n)</li>
</ul>
<p>默认情况下， EventEmitters 如果你添加的监听器超过 10 个就会输出警告信息。 setMaxListeners 函数用于提高监听器的默认限制的数量。</p>
<ul>
<li>listeners(event)</li>
</ul>
<p>返回指定事件的监听器数组。</p>
<ul>
<li>emit(event, [arg1], [arg2], […])</li>
</ul>
<p>按参数的顺序执行每个监听器，如果事件有注册监听返回 true，否则返回 false。</p>
<blockquote>
<p><a href="http://nodejs.cn/api/events.html#events_events" target="_blank" rel="noopener">中文文档</a></p>
</blockquote>
<p>EventEmitter与其他模块的关系图：</p>
<p><img src="C:%5CUsers%5CADMINI~1%5CAppData%5CLocal%5CTemp%5C1571628016457.png" alt="1571628016457"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-FileSystem-NodeJs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/2019-10-04-FileSystem-NodeJs/" itemprop="url">FileSystem-NodeJs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!-- toc orderedList:0 depthFrom:1 depthTo:6 -->

<ul>
<li><a href="#fs">fs</a><ul>
<li><a href="#filesystem简介">FileSystem简介</a><ul>
<li><a href="#fsopenpath-flags-mode-callback">fs.open(path, flags, [mode], callback)</a></li>
<li><a href="#fsreadfd-buffer-offset-length-position-callback">fs.read(fd, buffer, offset, length, position, callback)</a></li>
<li><a href="#fswritefd-buffer-offset-length-position-callback">fs.write(fd, buffer, offset, length[, position], callback)</a></li>
</ul>
</li>
<li><a href="#文件直接操作">文件直接操作</a><ul>
<li><a href="#fswritefilefilename-data-encodingutf8-callback">fs.writeFile(filename, data, encoding=’utf8’, [callback])</a></li>
<li><a href="#fsreadfilefilename-options-callback">fs.readFile(filename, [options], callback)</a></li>
<li><a href="#fsunlinkpath-callback">fs.unlink(path, callback)</a></li>
<li><a href="#fsrenameoldpath-newpath-callback">fs.rename(oldPath, newPath, callback)</a></li>
<li><a href="#fsstatpath-callback">fs.stat(path, callback)</a></li>
<li><a href="#fswatchfilename-options-listener">fs.watch(filename, [options], [listener])</a></li>
</ul>
</li>
<li><a href="#文件夹操作">文件夹操作</a><ul>
<li><a href="#fsmkdirpath-mode-callback">fs.mkdir(path, [mode], callback)</a></li>
<li><a href="#fsrmdirpath-callback">fs.rmdir(path, callback)</a></li>
<li><a href="#fsreaddirpath-callback">fs.readdir(path, callback)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->

<h1 id="fs"><a href="#fs" class="headerlink" title="fs"></a>fs</h1><h2 id="FileSystem简介"><a href="#FileSystem简介" class="headerlink" title="FileSystem简介"></a>FileSystem简介</h2><p>文件系统模块是一个简单包装的标准 <strong>POSIX</strong> 文件 <strong>I/O</strong> 操作方法集。您可以通过调用<code>require(&#39;fs&#39;)</code>来获取该模块。文件系统模块中的所有方法均有异步和同步版本。</p>
<h3 id="fs-open-path-flags-mode-callback"><a href="#fs-open-path-flags-mode-callback" class="headerlink" title="fs.open(path, flags, [mode], callback)"></a>fs.open(path, flags, [mode], callback)</h3><p>fs.open(path, flags, [mode], callback)</p>
<ul>
<li>path : 要打开的文件的路径</li>
<li>flags : 打开文件的方式 读/写</li>
<li>mode : 设置文件的模式 读/写/执行  4/2/1</li>
<li>callback : 回调<ul>
<li>err : 文件打开失败的错误保存在err里面，如果成功err为null</li>
<li>fd : 被打开文件的标识，</li>
</ul>
</li>
</ul>
<pre><code class="js">fs.open(&#39;1.txt&#39;, &#39;r&#39;, function(err, fd) {

    //console.log(err);
    //console.log(fd);

    if (err) {
        console.log( &#39;文件打开失败&#39; );
    } else {
        console.log( &#39;文件打开成功&#39; );
        console.log( fd );
    }

});</code></pre>
<h3 id="fs-read-fd-buffer-offset-length-position-callback"><a href="#fs-read-fd-buffer-offset-length-position-callback" class="headerlink" title="fs.read(fd, buffer, offset, length, position, callback)"></a>fs.read(fd, buffer, offset, length, position, callback)</h3><ul>
<li>fd : 通过open方法成功打开一个文件返回的编号</li>
<li>buffer : buffer对象</li>
<li>offset : 新的内容添加到buffer中的起始位置</li>
<li>length ： 添加到buffer中内容的长度</li>
<li>position ：读取的文件中的起始位置</li>
<li>callback : 回调<ul>
<li>err</li>
<li>uffer的长度</li>
<li>buffer对象</li>
</ul>
</li>
</ul>
<pre><code class="js">fs.open(&#39;1.txt&#39;, &#39;r&#39;, function(err, fd) {
    if (err) {
        console.log(&#39;文件打开失败&#39;);
        console.log(err);
    } else {
        var bf1 = new Buffer(&#39;123456789&#39;);
        fs.read( fd, bf1, 0, 4, null, function( err, len, newBf ) {
            console.log( newBf );
        } );
    }
});
</code></pre>
<h3 id="fs-write-fd-buffer-offset-length-position-callback"><a href="#fs-write-fd-buffer-offset-length-position-callback" class="headerlink" title="fs.write(fd, buffer, offset, length[, position], callback)"></a>fs.write(fd, buffer, offset, length[, position], callback)</h3><ul>
<li>fs.write(fd, buffer, offset, length[, position], callback)</li>
<li>fd : 打开的文件</li>
<li>buffer : 要写入的数据</li>
<li>offset : buffer对象中要写入的数据的起始位置</li>
<li>length : 要写入的buffer数据的长度</li>
<li>position : fd中的起始位置</li>
<li>callback : 回调<ul>
<li>err:错误信息，没有就显示<code>null</code></li>
<li>written:表明传入的<code>string</code>需要写入的字符串的字节长度</li>
<li>string:表明传入的字符串</li>
</ul>
</li>
</ul>
<pre><code class="js">fs.write( fd, bf, 0, 3, 5, function() {
            console.log(arguments);
        } )</code></pre>
<p>另一种写法：</p>
<p><strong>fs.write(fd, data[, position[, encoding]], callback)</strong></p>
<pre><code class="js">fs.write(fd, &#39;1234aqws你好&#39;, 0, &#39;utf-8&#39;, function(err, written, string) {
            console.log(&quot;ok&quot;);
            console.log(err);
            console.log(written);
            console.log(string);
});</code></pre>
<p>操作结束后，要关闭打开的文件。</p>
<pre><code class="js">fs.close(fd, function() {

});</code></pre>
<h2 id="文件直接操作"><a href="#文件直接操作" class="headerlink" title="文件直接操作"></a>文件直接操作</h2><h3 id="fs-writeFile-filename-data-encoding-’utf8’-callback"><a href="#fs-writeFile-filename-data-encoding-’utf8’-callback" class="headerlink" title="fs.writeFile(filename, data, encoding=’utf8’, [callback])"></a>fs.writeFile(filename, data, encoding=’utf8’, [callback])</h3><p>异步地写入数据到文件，如果文件已经存在，则替代文件。 <code>data</code> 可以是一个字符串或一个 <code>buffer</code>。</p>
<ul>
<li>file <string> | <buffer> | <integer> 文件名或文件描述符</integer></buffer></string></li>
<li>data <string> | <buffer></buffer></string></li>
<li>options <object> | <string><ul>
<li>encoding <string> | <null> 默认 = ‘utf8’</null></string></li>
<li>mode <integer> 默认 = 0o666</integer></li>
<li>flag <string> 默认 = ‘w’</string></li>
</ul>
</string></object></li>
<li>callback <function></function></li>
</ul>
<h3 id="fs-readFile-filename-options-callback"><a href="#fs-readFile-filename-options-callback" class="headerlink" title="fs.readFile(filename, [options], callback)"></a>fs.readFile(filename, [options], callback)</h3><ul>
<li>filename {String}<ul>
<li>options {Object}</li>
<li>encoding {String | Null} default = null</li>
</ul>
</li>
<li>flag {String} default = ‘r’</li>
<li>callback {Function}</li>
</ul>
<p>异步读取一个文件的全部内容。举例：</p>
<pre><code class="js">fs.readFile(&#39;test.txt&#39;, function (err, data) {
  if (err) throw err;
  console.log(data);
});</code></pre>
<h3 id="fs-unlink-path-callback"><a href="#fs-unlink-path-callback" class="headerlink" title="fs.unlink(path, callback)"></a>fs.unlink(path, callback)</h3><p>删除一个文件</p>
<p>完成时的回调函数（callback）只接受一个参数：可能出现的异常信息.</p>
<h3 id="fs-rename-oldPath-newPath-callback"><a href="#fs-rename-oldPath-newPath-callback" class="headerlink" title="fs.rename(oldPath, newPath, callback)"></a>fs.rename(oldPath, newPath, callback)</h3><p>重命名一个函数</p>
<p>完成时的回调函数（callback）只接受一个参数：可能出现的异常信息.</p>
<h3 id="fs-stat-path-callback"><a href="#fs-stat-path-callback" class="headerlink" title="fs.stat(path, callback)"></a>fs.stat(path, callback)</h3><p>返回文件的详细信息</p>
<p>dev : 文件或目录所在的设备ID。该属性值在UNIX系统下有效；<br>mode : 文件或目录的权限标志，采用数值形式表示；<br>nlink : 文件或目录的的硬连接数量；<br>uid : 文件或目录的所有者的用户ID。该属性值在UNIX系统下有效；<br>gid : 文件或目录的所有者的用户组ID。该属性值在UNIX系统下有效；<br>rdev : 字符设备文件或块设备文件所在设备ID。该属性值在UNIX系统下有效；**<br>ino : 文件或目录的索引编号。该属性值仅在UNIX系统下有效；<br>size : 文件的字节数；<br>atime : 文件或目录的访问时间；<br>mtime : 文件或目录的最后修改时间；<br>ctime : 文件或目录状态的最后修改时间(包括权限、所有者等，比mtime范围大)；<br>birthtime : 文件创建时间，文件创建时生成。在一些不提供文件 birthtime 的文件系统中，这个字段会使用 ctime 或 1970-01-01T00:00Z 来填充；</p>
<h3 id="fs-watch-filename-options-listener"><a href="#fs-watch-filename-options-listener" class="headerlink" title="fs.watch(filename, [options], [listener])"></a>fs.watch(filename, [options], [listener])</h3><p>监听文件或者文件夹的变化，监听器的回调函数得到两个参数<code>(event, filename)</code>。其中 <code>event</code> 是 ‘rename’（重命名）或者 ‘change’（改变），而 <code>filename</code> 则是触发事件的文件名。</p>
<h2 id="文件夹操作"><a href="#文件夹操作" class="headerlink" title="文件夹操作"></a>文件夹操作</h2><h3 id="fs-mkdir-path-mode-callback"><a href="#fs-mkdir-path-mode-callback" class="headerlink" title="fs.mkdir(path, [mode], callback)"></a>fs.mkdir(path, [mode], callback)</h3><p>创建文件夹，完成时的回调函数（callback）只接受一个参数：可能出现的异常信息。文件 <code>mode</code> 默认为 0777。</p>
<h3 id="fs-rmdir-path-callback"><a href="#fs-rmdir-path-callback" class="headerlink" title="fs.rmdir(path, callback)"></a>fs.rmdir(path, callback)</h3><p>删除一个文件夹</p>
<h3 id="fs-readdir-path-callback"><a href="#fs-readdir-path-callback" class="headerlink" title="fs.readdir(path, callback)"></a>fs.readdir(path, callback)</h3><p>读取 path 路径所在目录的内容。 回调函数 <code>(callback)</code> 接受两个参数 <code>(err, files)</code>其中 <code>files</code> 是一个存储目录中所包含的文件名称的数组，数组中不包括 ‘.’ 和 ‘..’。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-Generate-Parentheses[M]/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/2019-10-04-Generate-Parentheses[M]/" itemprop="url">Generate Parentheses[M]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><h2 id="Generate-Parentheses-M"><a href="#Generate-Parentheses-M" class="headerlink" title="Generate Parentheses[M]"></a>Generate Parentheses[M]</h2></li>
</ol>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>Given n pairs of parentheses, write a function to generate all combinations of well-formed parentheses.</p>
<blockquote>
<p>For example, given n = 3, a solution set is:</p>
</blockquote>
<blockquote>
<p>“((()))”, “(()())”, “(())()”, “()(())”, “()()()”</p>
</blockquote>
<h1 id="思路1——DP"><a href="#思路1——DP" class="headerlink" title="思路1——DP"></a>思路1——DP</h1><p>设：P[i]表示当n=i的时候括号组合串。<br>观察规律：我们知道，要形成一个括号的组合，肯定不是凭空产生的，产生一个P[3]的组合，那肯定是把”(“和”)”分别插在P[2]中间的。</p>
<p><img src="C:/Users/Administrator/Desktop/leetbook-master/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/22.%20Generate%20Parentheses%5BM%5D/1462892959966.png" alt="Alt text"></p>
<p>我们假设产生P[3]组合的时候，之前的组合都是正确的，那么通过插入”(“，”)”肯定会把P[2]分成两个部分（括号内一个，括号外一个）</p>
<p>看似好像有很多插入的方法，但是，其实仔细想想，反正”(“得增加一个，由于括号组合的第一一定是”(“，为什么不把新增的”(“放在开头呢？这样我们就只用考虑”)”了</p>
<p>会怎么把P[2]切割就好了，我们知道P[2]的组合有P[0]+P[2]，P[1]+P[1]，P[2]+P[0]，</p>
<p><img src="C:/Users/Administrator/Desktop/leetbook-master/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/22.%20Generate%20Parentheses%5BM%5D/1462893036822.png" alt="Alt text"></p>
<p>通过写出前几个可以观察到下面的规律<br>P[0]= [“”]<br>P[1] = [()] = “(“+P[0]+”)”+P[0]<br>P[2] = [()(),(())] = “(“+P[0]+”)”+P[1] ,  “(“+P[1]+”)” +P[0]<br>P[3] = [()()(),()(()),(())(),(()()),((()))] = “(“+P[0]+”)”+P[2] ,  “(“+P[1]+”)”+P[1],  “(“+P[2]+”)” +P[0]</p>
<p>我们可以知道了组合方式：</p>
<ul>
<li>P[i] = “(“+P[i-j-1]+”)”+P[j]   ($j \in [0,n-1]$)</li>
</ul>
<pre><code class="java">public class Solution {
    public List&lt;String&gt; generateParenthesis(int n) {
        List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();
        //初始化P[0] = &quot;&quot;
        result.add((List&lt;String&gt;)Arrays.asList(new String []{&quot;&quot;}));       
        for(int i=1;i &lt;= n;i++)
        {
            result.add(new ArrayList&lt;&gt;());
            for(int j = 0; j &lt; i;j++)
            {
                //获取P[k]
                for (String s1 : result.get(j)) {
                    //获取P[i-j-1]
                    for(String s2 : result.get(i-j-1))
                    {
                         result.get(i).add(&quot;(&quot; + s1 + &quot;)&quot; + s2);
                    }
                }
            }
        }
        return result.get(n);
    }
}</code></pre>
<h1 id="思路2：回溯"><a href="#思路2：回溯" class="headerlink" title="思路2：回溯"></a>思路2：回溯</h1><p>假设我能枚举所有的情况，我们考虑合理的括号组合是什么样的：</p>
<ol>
<li>左括号数==右括号数</li>
<li>左括号一定要先于右括号</li>
</ol>
<p>所以我们可以用一个大数组来表示字符串，2个指针left，right来表示左右括号，我们递归遍历所有情况，把满足条件的情况加入list就行了。</p>
<pre><code>public class Solution {
    public List&lt;String&gt; generateParenthesis(int n) {
        LinkedList&lt;String&gt; result = new LinkedList&lt;String&gt;();
        if(n== 0)   return result;
        backtracing(result,0,0,&quot;&quot;,n);
        return result;
    }
    void backtracing(LinkedList&lt;String&gt; result, int left, int right, String par, int max)
    {
        if(par.length() == 2*max)
        {
            result.add(par);
            return;
        }
        if(left &lt; max)
            backtracing(result,left+1,right,par+&#39;(&#39;,max);
        if(right &lt; left)
            backtracing(result,left,right+1,par+&#39;)&#39;,max);    
    }

}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-Generator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/2019-10-04-Generator/" itemprop="url">Generator</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!-- toc orderedList:0 depthFrom:1 depthTo:6 -->

<ul>
<li><a href="#generator">Generator</a><ul>
<li><a href="#简介">简介</a></li>
<li><a href="#yield语句">yield语句</a></li>
<li><a href="#与-iterator-接口的关系">与 Iterator 接口的关系</a></li>
<li><a href="#next方法的参数">next方法的参数</a></li>
<li><a href="#forof循环">for…of循环</a></li>
<li><a href="#generatorprototypereturn">Generator.prototype.return()</a></li>
<li><a href="#yield-语句">yield* 语句</a></li>
<li><a href="#generator函数的this">Generator函数的this</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->

<h1 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><code>Generator函数</code>是一个状态机，封装了多个内部状态。执行 Generator 函数会返回一个遍历器对象，可以依次遍历 <code>Generator函数</code> 内部的每一个状态。</p>
<p><code>Generator函数</code>特征：</p>
<ol>
<li><code>function</code>关键字与函数名之间有一个星号</li>
<li>函数体内部使用<code>yield</code>语句，定义不同的内部状态（<code>yield</code>在英语里的意思就是“<code>产出</code>”）。</li>
</ol>
<pre><code class="js">function* helloWorldGenerator() {
  console.log(&#39;我执行了。&#39;);
  yield &#39;hello&#39;;
  yield &#39;world&#39;;
  return &#39;ending&#39;;
}

var hw = helloWorldGenerator();//函数并不会执行</code></pre>
<p>必须要调用<code>next</code>方法，内部指针指向下一个位置。<br><code>yield</code>语句是暂停执行的标记，而<code>next</code>方法可以恢复执行。</p>
<h2 id="yield语句"><a href="#yield语句" class="headerlink" title="yield语句"></a>yield语句</h2><p>运行逻辑如下:</p>
<ol>
<li>遇到<code>yield</code>语句，就暂停执行后面的操作，并将紧跟在<code>yield</code>后面的那个表达式的值，作为返回的对象的<code>value</code>属性值。</li>
<li>下一次调用<code>next</code>方法时，再继续往下执行，直到遇到下一个<code>yield</code>语句。</li>
<li>如果没有再遇到新的<code>yield</code>语句，就一直运行到函数结束。如果遇到<code>return</code>语句，将<code>return</code>语句后面的表达式的值，作为返回的对象的value属性值，并结束后面的<code>yield</code>语句。</li>
<li>如果该函数没有<code>return</code>语句，则返回的对象的<code>value</code>属性值为<code>undefined</code>。</li>
</ol>
<p><code>yield</code>语句只能用在<code>Generator</code>函数中，其他函数（例如立刻执行函数）会报错。</p>
<h2 id="与-Iterator-接口的关系"><a href="#与-Iterator-接口的关系" class="headerlink" title="与 Iterator 接口的关系"></a>与 Iterator 接口的关系</h2><p>由于Generator函数就是遍历器生成函数，因此可以把Generator赋值给对象的<code>Symbol.iterator</code>属性，从而使得该对象具有Iterator接口。</p>
<pre><code class="js">var myIterable = {};
myIterable[Symbol.iterator] = function* () {
  yield 1;
  yield 2;
  yield 3;
};

[...myIterable] // [1, 2, 3]</code></pre>
<p>Generator函数执行后，返回一个遍历器对象。该对象本身也具有<code>Symbol.iterator</code>属性，执行后返回自身。</p>
<pre><code class="js">function* gen(){
  // some code
}

var g = gen();

g[Symbol.iterator]() === g
// true</code></pre>
<h2 id="next方法的参数"><a href="#next方法的参数" class="headerlink" title="next方法的参数"></a>next方法的参数</h2><p><code>yield</code>句本身没有返回值，或者说总是返回<code>undefined</code>。<code>next</code>方法可以带一个参数，<strong>该参数就会被当作上一个<code>yield</code>语句的返回值</strong>。</p>
<pre><code class="js">function* foo(x) {
  var y = 2 * (yield (x + 1));
  var z = yield (y / 3);
  return (x + y + z);
}

var a = foo(5);
a.next() // Object{value:6, done:false}
a.next() // Object{value:NaN, done:false}
a.next() // Object{value:NaN, done:true}

var b = foo(5);
b.next() // { value:6, done:false }
b.next(12) // { value:8, done:false }
b.next(13) // { value:42, done:true }</code></pre>
<h2 id="for…of循环"><a href="#for…of循环" class="headerlink" title="for…of循环"></a>for…of循环</h2><p><code>for...of</code>循环可以自动遍历Generator函数时生成的<code>Iterator</code>对象，且此时不再需要调用<code>next</code>方法。</p>
<pre><code class="js">function *foo() {
  yield 1;
  yield 2;
  yield 3;
  yield 4;
  yield 5;
  return 6;
}

for (let v of foo()) {
  console.log(v);
}
// 1 2 3 4 5</code></pre>
<h2 id="Generator-prototype-return"><a href="#Generator-prototype-return" class="headerlink" title="Generator.prototype.return()"></a>Generator.prototype.return()</h2><p>Generator函数返回的遍历器对象，还有一个<code>return</code>方法，可以返回给定的值，并且终结遍历<code>Generator</code>函数。</p>
<pre><code class="js">function* gen() {
  yield 1;
  yield 2;
  yield 3;
}

var g = gen();

g.next()        // { value: 1, done: false }
g.return(&#39;foo&#39;) // { value: &quot;foo&quot;, done: true }
g.next()        // { value: undefined, done: true }</code></pre>
<p>调用<code>return</code>方法后，Generator函数的遍历就终止了。</p>
<h2 id="yield-语句"><a href="#yield-语句" class="headerlink" title="yield* 语句"></a>yield* 语句</h2><p>如果在 Generator 函数内部，调用另一个 Generator 函数，默认情况下是没有效果的。</p>
<pre><code class="js">function* foo() {
  yield &#39;a&#39;;
  yield &#39;b&#39;;
}

function* bar() {
  yield &#39;x&#39;;
  foo();
  yield &#39;y&#39;;
}

for (let v of bar()){
  console.log(v);
}
// &quot;x&quot;
// &quot;y&quot;</code></pre>
<p><code>yield*</code>语句，用来在一个 Generator 函数里面执行另一个 Generator 函数。</p>
<pre><code class="js">function* bar() {
  yield &#39;x&#39;;
  yield* foo();
  yield &#39;y&#39;;
}

for (let v of bar()){
  console.log(v);
}
// &quot;x&quot;
// &quot;a&quot;
// &quot;b&quot;
// &quot;y&quot;</code></pre>
<h2 id="Generator函数的this"><a href="#Generator函数的this" class="headerlink" title="Generator函数的this"></a>Generator函数的this</h2><p> Generator函数总是返回一个遍历器，ES6规定这个遍历器是Generator函数的实例，也继承了Generator函数的<code>prototype</code>对象上的方法。</p>
<pre><code class="js">function* g() {}

g.prototype.hello = function () {
return &#39;hi!&#39;;
};

let obj = g();

obj instanceof g // true
obj.hello() // &#39;hi!&#39;</code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-Guess-Number-Higher-or-Lower[E]/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/2019-10-04-Guess-Number-Higher-or-Lower[E]/" itemprop="url">Guess Number Higher or Lower[E]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>Guess Number Higher or Lower[E]</li>
</ol>
<h1 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h1><p>We are playing the Guess Game. The game is as follows:<br>I pick a number from 1 to n. You have to guess which number I picked.<br>Every time you guess wrong, I’ll tell you whether the number is higher or lower.<br>You call a pre-defined API guess(int num) which returns 3 possible results (-1, 1, or 0):<br>-1 : My number is lower<br>1 : My number is higher<br>0 : Congrats! You got it!</p>
<p>Example:<br>n = 10, I pick 6.<br>Return 6.</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>注意，这里有几个陷阱，一是你要理解<code>my</code>的含义，它的<code>my</code>是指的<code>出题人</code>，而我们是解题人，所以如果返回-1，说明它的数小，我们猜的数大，这里一定要理解！</p>
<p>这是一个经典的二分题目，很容易套用二分查找的公式写出来：</p>
<pre><code class="java">public class Solution extends GuessGame {
    public int guessNumber(int n) {
        int st = 1, ed = n;
        while(st &lt; ed)
        {
            int mid = (st + ed) / 2;
            if(guess(mid) == 0)
                return mid;
            else if(guess(mid) &lt; 0)  // the number is too large
                ed = mid-1;
            else
                st = mid+1;
        }
        return st;
    }
}
</code></pre>
<p>看上去没问题，但是实际上有潜在的危险，比如这个例子就A不过去：</p>
<p><img src="http://o7bk1ffzo.bkt.clouddn.com/1474187361233" alt="your text"></p>
<p>为什么，因为<code>int mid = (st + ed) / 2;</code>可能会由于（st+ed）产生溢出！！</p>
<p>所以，为了解决这个问题，推荐把mid的写法写成下面的格式：</p>
<pre><code>int mid = st + (ed - st) / 2;</code></pre><p>然后再A就能通过</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zqfmcl</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">193</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zqfmcl</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
