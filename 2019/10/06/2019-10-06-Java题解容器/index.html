<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="题解,">





  <link rel="alternate" href="/atom.xml" title="Fey's blog" type="application/atom+xml">






<meta name="description" content="第十七章  容器public class Ex11 { ​       public static void main(String[] args) { ​              int[] ia = new int[2]; ​              ia[0] = new Integer(1);              ia[0] = new Integer(2);">
<meta name="keywords" content="题解">
<meta property="og:type" content="article">
<meta property="og:title" content="Java题解容器">
<meta property="og:url" content="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解容器/index.html">
<meta property="og:site_name" content="Fey&#39;s blog">
<meta property="og:description" content="第十七章  容器public class Ex11 { ​       public static void main(String[] args) { ​              int[] ia = new int[2]; ​              ia[0] = new Integer(1);              ia[0] = new Integer(2);">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-10-23T07:21:32.776Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java题解容器">
<meta name="twitter:description" content="第十七章  容器public class Ex11 { ​       public static void main(String[] args) { ​              int[] ia = new int[2]; ​              ia[0] = new Integer(1);              ia[0] = new Integer(2);">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解容器/">





  <title>Java题解容器 | Fey's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fey's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">个人博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解容器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java题解容器</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="第十七章-容器"><a href="#第十七章-容器" class="headerlink" title="第十七章  容器"></a>第十七章  容器</h2><p>public class Ex11 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              int[] ia = new int[2];</p>
<p>​              ia[0] = new Integer(1);              ia[0] = new Integer(2);                           println(ia.getClass().getName());</p>
<p>​              Integer[] Ia = new Integer[2];</p>
<p>​              Ia[0] = (int)1;              Ia[1] = (int)2;                           println(Ia.getClass().getName());</p>
<p>​              println(Ia[0] instanceof Integer);</p>
<p>​              for(int i = 0; i &lt; Ia.length; i++)</p>
<p>​                     System.out.println(Ia[i].getClass().getName());</p>
<p>​                                        Ia[0] = (int)ia[0];          println(Ia[0].getClass().getName());             </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex12 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              double[] da = new double[10];</p>
<p>​              CountingGenerator.Double dGen = </p>
<p>​                     new CountingGenerator.Double();</p>
<p>​              for(int i = 0; i &lt; da.length; i++)</p>
<p>​                     da[i] = dGen.next();</p>
<p>​              System.out.println(Arrays.toString(da));     </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex13 {</p>
<p>​       public static String fillString(int len) {</p>
<p>​              CountingGenerator.Character cg = new CountingGenerator.Character();</p>
<p>​              char[] ca = new char[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     ca[i] = cg.next();</p>
<p>​              return new String(ca);          </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              System.out.println(fillString(7));</p>
<p>​              System.out.println(fillString(10));</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex14 {</p>
<p>​       public static void showCharArray(int len) {</p>
<p>​              CountingGenerator.Character cg = new CountingGenerator.Character();</p>
<p>​              char[] ca = new char[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     ca[i] = cg.next();</p>
<p>​              System.out.println(Arrays.toString(ca));      </p>
<p>​       }</p>
<p>​       public static void showByteArray(int len) {</p>
<p>​              CountingGenerator.Byte bg = new CountingGenerator.Byte();</p>
<p>​              byte[] ba = new byte[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     ba[i] = bg.next();</p>
<p>​              System.out.println(Arrays.toString(ba));</p>
<p>​       }</p>
<p>​       public static void showIntArray(int len) {</p>
<p>​              CountingGenerator.Integer ig = new CountingGenerator.Integer();</p>
<p>​              int[] ia = new int[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     ia[i] = ig.next();</p>
<p>​              System.out.println(Arrays.toString(ia));</p>
<p>​       }</p>
<p>​       public static void showLongArray(int len) {</p>
<p>​              CountingGenerator.Long lg = new CountingGenerator.Long();</p>
<p>​              long[] la = new long[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     la[i] = lg.next();</p>
<p>​              System.out.println(Arrays.toString(la));</p>
<p>​       }</p>
<p>​       public static void showFloatArray(int len) {</p>
<p>​              CountingGenerator.Float fg = new CountingGenerator.Float();</p>
<p>​              float[] fa = new float[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     fa[i] = fg.next();</p>
<p>​              System.out.println(Arrays.toString(fa));</p>
<p>​       }</p>
<p>​       public static void showDoubleArray(int len) {</p>
<p>​              CountingGenerator.Double dg = new CountingGenerator.Double();</p>
<p>​              double[] da = new double[len];</p>
<p>​              for(int i = 0; i &lt; len; i++)</p>
<p>​                     da[i] = dg.next();</p>
<p>​              System.out.println(Arrays.toString(da));</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              showCharArray(10);</p>
<p>​              showByteArray(10);</p>
<p>​              showIntArray(10);</p>
<p>​              showLongArray(10);</p>
<p>​              showFloatArray(10);</p>
<p>​              showDoubleArray(10);</p>
<p>​       }</p>
<p>}</p>
<p>class BerylliumSphereGenerator implements Generator<berylliumsphere> {</berylliumsphere></p>
<p>​       public BerylliumSphere next() {</p>
<p>​              return new BerylliumSphere();</p>
<p>​       }             </p>
<p>}</p>
<p>public class ContainerComparison15 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              BerylliumSphere[] spheres = new BerylliumSphere[5];</p>
<p>​              BerylliumSphereGenerator bsg = new BerylliumSphereGenerator();</p>
<p>​              Generated.array(spheres, bsg);</p>
<p>​              print(Arrays.toString(spheres));</p>
<p>​              print(spheres[4]);</p>
<p>​              List<berylliumsphere> sphereList =</berylliumsphere></p>
<p>​                     new ArrayList<berylliumsphere>();</berylliumsphere></p>
<p>​              for(int i = 0; i &lt; 5; i++)</p>
<p>​                     sphereList.add(bsg.next());</p>
<p>​              print(sphereList);</p>
<p>​              print(sphereList.get(4));</p>
<p>​       }</p>
<p>}</p>
<p>public class TestArrayGeneration16 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              int size = 6;</p>
<p>​              int skip = 7;</p>
<p>​              boolean[] a1 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Boolean[size], new SkipGenerator16.Boolean(skip), skip));</p>
<p>​              print(“a1 = “ + Arrays.toString(a1));</p>
<p>​              byte[] a2 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Byte[size], new SkipGenerator16.Byte(skip), skip));</p>
<p>​              print(“a2 = “ + Arrays.toString(a2));</p>
<p>​              char[] a3 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Character[size], new SkipGenerator16.Character(skip), skip));</p>
<p>​              print(“a3 = “ + Arrays.toString(a3));</p>
<p>​              short[] a4 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Short[size], new SkipGenerator16.Short(skip), skip));</p>
<p>​              print(“a4 = “ + Arrays.toString(a4));</p>
<p>​              int[] a5 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Integer[size], new SkipGenerator16.Integer(skip), skip));</p>
<p>​              print(“a5 = “ + Arrays.toString(a5));</p>
<p>​              long[] a6 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Long[size], new SkipGenerator16.Long(skip), skip));</p>
<p>​              print(“a6 = “ + Arrays.toString(a6));</p>
<p>​              float[] a7 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Float[size], new SkipGenerator16.Float(skip), skip));</p>
<p>​              print(“a7 = “ + Arrays.toString(a7));</p>
<p>​              double[] a8 = ConvertTo.primitive(Generated16.array(</p>
<p>​                     new Double[size], new SkipGenerator16.Double(skip), skip));</p>
<p>​              print(“a8 = “ + Arrays.toString(a8));</p>
<p>​       }</p>
<p>}</p>
<p> import net.mindview.util.*;</p>
<p>interface SkipGenerator<t> extends net.mindview.util.Generator<t> { </t></t></p>
<p>​       T next();  </p>
<p>​       T next(int n); </p>
<p>}</p>
<p>public class SkipGenerator16 {</p>
<p>  public static class</p>
<p>  Boolean implements SkipGenerator&lt;java.lang.Boolean&gt; {  </p>
<p>​    private boolean value = false;</p>
<p>​       private int n;</p>
<p>​       Boolean(int n) { this.n = n; }</p>
<p>​       public java.lang.Boolean next() { return !value; }</p>
<p>​    public java.lang.Boolean next(int n) {</p>
<p>​           value = n % 2 == 0 ? true : false;</p>
<p>​       return value;</p>
<p>​    }</p>
<p>  }</p>
<p>  public static class</p>
<p>  Byte implements SkipGenerator&lt;java.lang.Byte&gt; {</p>
<p>​    private byte value = 0;</p>
<p>​       private int n;</p>
<p>​       Byte(int n) { this.n = n; }</p>
<p>​       public java.lang.Byte next() { return value++; }</p>
<p>​    public java.lang.Byte next(int n) { return value += n; }</p>
<p>  }</p>
<p>  static char[] chars = (“abcdefghijklmnopqrstuvwxyz” +</p>
<p>​    “ABCDEFGHIJKLMNOPQRSTUVWXYZ”).toCharArray();</p>
<p>  public static class</p>
<p>  Character implements SkipGenerator&lt;java.lang.Character&gt; {</p>
<p>​    int index = -1;</p>
<p>​       private int n;</p>
<p>​       Character() { int index = -1; }</p>
<p>​       Character(int n) { this.n = n; }</p>
<p>​       public java.lang.Character next() {</p>
<p>​      index = (index + 1) % chars.length;</p>
<p>​      return chars[index];</p>
<p>​    }</p>
<p>​    public java.lang.Character next(int n) {</p>
<p>​      index = (index + 1 + n) % chars.length;</p>
<p>​      return chars[index];</p>
<p>​    }</p>
<p>  }</p>
<p>  public static class</p>
<p>  String implements SkipGenerator&lt;java.lang.String&gt; {</p>
<p>​    private int length = 7;</p>
<p>​    SkipGenerator&lt;java.lang.Character&gt; cg = new Character();</p>
<p>​    public String() {}</p>
<p>​    public String(int length) { this.length = length; }</p>
<p>​    public java.lang.String next() {</p>
<p>​      char[] buf = new char[length];</p>
<p>​      for(int i = 0; i &lt; length; i++)</p>
<p>​        buf[i] = cg.next();</p>
<p>​      return new java.lang.String(buf);</p>
<p>​    }</p>
<p>​       public java.lang.String next(int n) {</p>
<p>​              char[] buf = new char[length];</p>
<p>​              for(int i = 0; i &lt; length; i++)</p>
<p>​                     buf[i] = cg.next(n);</p>
<p>​              return new java.lang.String(buf);</p>
<p>​       }</p>
<p>  }</p>
<p>  public static class</p>
<p>  Short implements SkipGenerator&lt;java.lang.Short&gt; {</p>
<p>​    private short value = 0;</p>
<p>​       private int n;</p>
<p>​       Short(int n) { this.n = n; }</p>
<p>​       public java.lang.Short next() { return value++; }</p>
<p>​    public java.lang.Short next(int n) { return value += n; }</p>
<p>  }</p>
<p>  public static class</p>
<p>  Integer implements SkipGenerator&lt;java.lang.Integer&gt; {</p>
<p>​    private int value = 0;</p>
<p>​       private int n;</p>
<p>​       Integer(int n) { this.n = n; }</p>
<p>​       public java.lang.Integer next() { return value++; }</p>
<p>​    public java.lang.Integer next(int n) { return value += n; }</p>
<p>  }</p>
<p>  public static class</p>
<p>  Long implements SkipGenerator&lt;java.lang.Long&gt; {</p>
<p>​    private long value = 0;</p>
<p>​       private int n;</p>
<p>​       Long(int n) { this.n = n; }</p>
<p>​       public java.lang.Long next() { return value++; }</p>
<p>​    public java.lang.Long next(int n) { return value += n; }</p>
<p>  }</p>
<p>  public static class</p>
<p>  Float implements SkipGenerator&lt;java.lang.Float&gt; {</p>
<p>​    private float value = 0;</p>
<p>​       private int n;</p>
<p>​       Float(int n) { this.n = n; }</p>
<p>​       public java.lang.Float next() {</p>
<p>​             float result = value;</p>
<p>​                 value += 1.0;</p>
<p>​                 return result;</p>
<p>​       }</p>
<p>​    public java.lang.Float next(int n) {</p>
<p>​      float result = value;</p>
<p>​      value += (1.0 * n);</p>
<p>​      return result;</p>
<p>​    }</p>
<p>  }</p>
<p>  public static class</p>
<p>  Double implements SkipGenerator&lt;java.lang.Double&gt; {</p>
<p>​    private double value = 0.0;</p>
<p>​       private int n;</p>
<p>​       Double(int n) { this.n = n; }</p>
<p>​       public java.lang.Double next() {</p>
<p>​      double result = value;</p>
<p>​      value += 1.0;</p>
<p>​      return result;</p>
<p>​    }</p>
<p>​    public java.lang.Double next(int n) {</p>
<p>​      double result = value;</p>
<p>​      value += (1.0 * n);</p>
<p>​      return result;</p>
<p>​    }</p>
<p>  }</p>
<p>} </p>
<p>public class Generated16 {</p>
<p>​      public static <t> T[] array(T[] a, SkipGenerator<t> gen, int skip) {</t></t></p>
<p>​    return new CollectionData16<t>(gen, skip, a.length).toArray(a);</t></p>
<p>  }</p>
<p>} </p>
<p>class CollectionData16<t> extends ArrayList<t> {</t></t></p>
<p>  public CollectionData16(SkipGenerator<t> gen, int skip, int quantity) {</t></p>
<p>​    for(int i = 0; i &lt; quantity; i++)</p>
<p>​      add(gen.next(skip));</p>
<p>  }</p>
<p>}</p>
<p>class BigDecimalGenerator implements Generator<bigdecimal> {</bigdecimal></p>
<p>​       private BigDecimal bd = new BigDecimal(0.0);</p>
<p>​       public BigDecimal next() {</p>
<p>​              return bd = bd.add(new BigDecimal(1.0));</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex17 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              BigDecimal[] bda1 = new BigDecimal[4];</p>
<p>​              Generated.array(bda1, new BigDecimalGenerator());</p>
<p>​              System.out.println(Arrays.toString(bda1));</p>
<p>​              BigDecimal[] bda2 = Generated.array(</p>
<p>​                     BigDecimal.class, new BigDecimalGenerator(), 5);</p>
<p>​              System.out.println(Arrays.toString(bda2));</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex18 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              BerylliumSphere[] bsa1 = new BerylliumSphere[3];</p>
<p>​              for(int i = 0; i &lt; bsa1.length; i++)</p>
<p>​                     bsa1[i] = new BerylliumSphere();</p>
<p>​                           System.out.println(Arrays.toString(bsa1));</p>
<p>​              BerylliumSphere[] bsa2 = new BerylliumSphere[4];</p>
<p>​              System.out.println(Arrays.toString(bsa2));</p>
<p>​              System.arraycopy(bsa1, 0, bsa2, 0, bsa1.length);</p>
<p>​              System.out.println(Arrays.toString(bsa2));</p>
<p>​                                 }</p>
<p>}</p>
<p>class A {</p>
<p>​       protected int x;</p>
<p>​       A(int x) { this.x = x; }</p>
<p>​       public boolean equals(Object b) {</p>
<p>​              return (b.getClass().getSimpleName() == “A” </p>
<p>​                     &amp;&amp; this.x == ((A)b).x) ? true : false;</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex19 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              A[] a1 = { new A(1), new A(2), new A(3) };</p>
<p>​              A[] a2 = { new A(1), new A(2), new A(3) };</p>
<p>​              print(Arrays.toString(a1));</p>
<p>​              print(Arrays.toString(a2));</p>
<p>​              print(Arrays.equals(a1, a2));</p>
<p>​       }</p>
<p>}</p>
<p>class A {}</p>
<p>public class Ex20 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              int[][][] a1 = new int[4][3][2];</p>
<p>​              int[][][] a2 = new int[4][3][2];</p>
<p>​              print(Arrays.deepToString(a1));</p>
<p>​              print(Arrays.deepEquals(a1, a2));</p>
<p>​              A[][][] aa1 = new A[4][3][2];</p>
<p>​              A[][][] aa2 = new A[4][3][2];</p>
<p>​              print(Arrays.deepToString(aa1));</p>
<p>​              print(Arrays.deepEquals(aa1, aa2));</p>
<p>​              print(Arrays.deepEquals(a1, aa1));      </p>
<p>​       }</p>
<p>}</p>
<p>class CompBerylliumSphere </p>
<p>​       implements Comparable<compberylliumsphere> {</compberylliumsphere></p>
<p>​       private static long count;</p>
<p>​       protected final long id = count++;</p>
<p>​       public int compareTo(CompBerylliumSphere c2) {</p>
<p>​              return (this.id &lt; c2.id ? -1 : (this.id == c2.id ? 0 : 1));</p>
<p>​       }</p>
<p>​       </p>
<p>​       public String toString() {</p>
<p>​              return “BerylliumSphere “ + id;</p>
<p>​       }</p>
<p>}</p>
<p>class CompBerylliumSphereComparator </p>
<p>​       implements Comparator<compberylliumsphere> {</compberylliumsphere></p>
<p>​       public int compare(CompBerylliumSphere c1, CompBerylliumSphere c2) {</p>
<p>​              return (c1.id &gt; c2.id ? -1 : (c1.id == c2.id ? 0 : 1));</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex21 {       </p>
<p>​       public static void main(String[] args) {</p>
<p>​              BerylliumSphere[] bsa = new BerylliumSphere[5];</p>
<p>​              for(int i = 0; i &lt; bsa.length; i++)</p>
<p>​                     bsa[i] = new BerylliumSphere();         </p>
<p>​                           CompBerylliumSphere[] cbsa = new CompBerylliumSphere[5];</p>
<p>​              for(int i = 0; i &lt; cbsa.length; i++)</p>
<p>​                     cbsa[i] = new CompBerylliumSphere();</p>
<p>​              print(“unsorted:”);</p>
<p>​              print(Arrays.toString(cbsa));</p>
<p>​              Arrays.sort(cbsa);</p>
<p>​              print(“sorted:”);</p>
<p>​              print(Arrays.toString(cbsa));</p>
<p>​              Arrays.sort(cbsa, new CompBerylliumSphereComparator());</p>
<p>​              print(“reverse sorted:”);</p>
<p>​              print(Arrays.toString(cbsa)); </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex22 {</p>
<p>​       private static Random r = new Random();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              int[] ia = ConvertTo.primitive(Generated.array(new Integer[20],</p>
<p>​                     new RandomGenerator.Integer(10)));</p>
<p>​              System.out.println(Arrays.toString(ia));</p>
<p>​              for(int i = 0; i &lt; 10; i++) {</p>
<p>​                     int index = Arrays.binarySearch(ia, i);</p>
<p>​                     if(index &lt; 0) System.out.println(i + “ not found”);</p>
<p>​                     else</p>
<p>​                     System.out.println(“Index: “ + index + “, “ + i);</p>
<p>​              }</p>
<p>​              System.out.println(“sort”);</p>
<p>​              Arrays.sort(ia);</p>
<p>​              System.out.println(Arrays.toString(ia));</p>
<p>​              for(int i = 0; i &lt; 10; i++) {</p>
<p>​                     int index = Arrays.binarySearch(ia, i);</p>
<p>​                     if(index &lt; 0) System.out.println(i + “ not found”);</p>
<p>​                     else</p>
<p>​                     System.out.println(“Index: “ + index + “, “ + i);</p>
<p>​              }             </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex23 {</p>
<p>​       private static Random r = new Random();</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Integer[] ia = Generated.array(new Integer[20],</p>
<p>​                     new RandomGenerator.Integer(10));</p>
<p>​              System.out.println(Arrays.toString(ia));</p>
<p>​              System.out.println(“sort”);</p>
<p>​              Arrays.sort(ia, Collections.reverseOrder());</p>
<p>​              System.out.println(Arrays.toString(ia));</p>
<p>​       }</p>
<p>}</p>
<p>class A implements Comparable<a> {</a></p>
<p>​       protected int x;</p>
<p>​       A(int x) { this.x = x; }</p>
<p>​       public int compareTo(A b) {</p>
<p>​              return (this.x &lt; b.x ? -1 : (this.x == b.x ? 0 : 1));</p>
<p>​       }</p>
<p>​       public boolean equals(Object b) {</p>
<p>​              return (b.getClass().getSimpleName() == “A” </p>
<p>​                     &amp;&amp; this.x == ((A)b).x) ? true : false;</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex24 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              A[] a = { new A(1), new A(2), new A(3), new A(4), new A(5) };</p>
<p>​              System.out.println(Arrays.toString(a));</p>
<p>​              Arrays.sort(a);</p>
<p>​              int index = Arrays.binarySearch(a, new A(3));</p>
<p>​              System.out.println(“Index: “ + index + “, “ + a[index]);</p>
<p>​       }</p>
<p>}</p>
<p>class MyList extends ArrayList<t> {</t></p>
<p>​       List myList = new ArrayList();</p>
<p>​       MyList(List l) { myList = l; }</p>
<p>​       @SuppressWarnings(“unchecked”)</p>
<p>​       MyList getReversed() {</p>
<p>​              ListIterator lit = myList.listIterator(myList.size());</p>
<p>​              List reverseMyList = new ArrayList();</p>
<p>​              while(lit.hasPrevious()) {</p>
<p>​                     reverseMyList.add(lit.previous());</p>
<p>​              }</p>
<p>​              return new MyList(reverseMyList);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex25 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<integer> aList = </integer></p>
<p>​                     new ArrayList<integer>(Arrays.asList(1,2,3,4,5));</integer></p>
<p>​              print(aList);</p>
<p>​              print(aList.get(4));</p>
<p>​              aList.add(new Integer(6));</p>
<p>​              aList.addAll(new ArrayList<integer>(Arrays.asList(7,8)));</integer></p>
<p>​              print(aList);</p>
<p>​              print(aList.subList(2,4));</p>
<p>​              MyList ml = new MyList(aList);</p>
<p>​              print((ml.getReversed()).myList);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex1 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<string> al = new ArrayList<string>();</string></string></p>
<p>​              List<string> ll = new LinkedList<string>();</string></string></p>
<p>​              for(int i = 0; i &lt; Countries.DATA.length; i++) {</p>
<p>​                     al.add(Countries.DATA[i][0]);</p>
<p>​                     ll.add(Countries.DATA[i][1]);</p>
<p>​              }</p>
<p>​              Collections.sort(al);</p>
<p>​              Collections.sort(ll);</p>
<p>​              println(“Countries: “ + al);</p>
<p>​              println(“Capitals: “ + ll);</p>
<p>​              for(int i = 0; i &lt; 2; i++) {</p>
<p>​                     Collections.shuffle(al);</p>
<p>​                     Collections.shuffle(ll);</p>
<p>​                     println(“Countries “ + i + “: “ + al);</p>
<p>​                     println(“Capitals “ + i + “: “ + ll);</p>
<p>​              }</p>
<p>​              List<string> al2 = new ArrayList<string>();</string></string></p>
<p>​              List<string> ll2 = new LinkedList<string>();</string></string></p>
<p>​              for(int i = 0; i &lt; 10; i++) {</p>
<p>​                     al2.add(Countries.DATA[i][0]);</p>
<p>​                     ll2.add(Countries.DATA[i][1]);</p>
<p>​              }</p>
<p>​              for(int i = 0; i &lt; 5; i++) {</p>
<p>​                     Collections.shuffle(al2);</p>
<p>​                     Collections.shuffle(ll2);</p>
<p>​                     println(“Countries “ + i + “: “ + al2);</p>
<p>​                     println(“Capitals “ + i + “: “ + ll2);</p>
<p>​                     Collections.sort(al2);</p>
<p>​                     Collections.sort(ll2);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex2 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;String,String&gt; hm = new HashMap&lt;String,String&gt;();</p>
<p>​              Set<string> hs = hm.keySet();</string></p>
<p>​              Pattern p = Pattern.compile(“A[a-zA-Z]*”);</p>
<p>​              for(int i = 0; i &lt; Countries.DATA.length; i++) {</p>
<p>​                     if(p.matcher(Countries.DATA[i][0]).matches())</p>
<p>​                            hm.put(Countries.DATA[i][0], Countries.DATA[i][1]);</p>
<p>​              }</p>
<p>​              println(hm);    </p>
<p>​              println(hs);     </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex3 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Set<string> hs = new HashSet<string>();</string></string></p>
<p>​              Set<string> lhs = new LinkedHashSet<string>();</string></string></p>
<p>​              Set<string> ts = new TreeSet<string>();</string></string></p>
<p>​              println(“HashSet hs = “ + hs);</p>
<p>​              println(“LinkedHashSet lhs = “ + lhs);</p>
<p>​              println(“TreeSet ts = “ + ts);</p>
<p>​              Map&lt;String,String&gt; hm = new HashMap&lt;String,String&gt;(0);</p>
<p>​              Pattern p = Pattern.compile(“Z[a-zA-Z]*”);</p>
<p>​              for(int i = 0; i &lt; Countries.DATA.length; i++) {</p>
<p>​                     if(p.matcher(Countries.DATA[i][0]).matches())</p>
<p>​                     hm.put(Countries.DATA[i][0], Countries.DATA[i][0]);</p>
<p>​              }</p>
<p>​              println(“hm.keySet() = “ + hm.keySet());</p>
<p>​              println(“Adding hm.keySet()”);</p>
<p>​              hs.addAll(hm.keySet());</p>
<p>​              lhs.addAll(hm.keySet());</p>
<p>​              ts.addAll(hm.keySet());</p>
<p>​              println(“hs: “ + hs);</p>
<p>​              println(“lhs: “ + lhs);</p>
<p>​              println(“ts: “ + ts);</p>
<p>​              println(“Adding 10 more times”);</p>
<p>​              for(int i = 0; i &lt; 10; i++) {</p>
<p>​                     hs.addAll(hm.keySet());</p>
<p>​                     lhs.addAll(hm.keySet());</p>
<p>​                     ts.addAll(hm.keySet());</p>
<p>​              }</p>
<p>​              println(“hs: “ + hs);</p>
<p>​              println(“lhs: “ + lhs);</p>
<p>​              println(“ts: “ + ts);                       </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex4 {</p>
<p>​       static Collection<string> CollectFromText(String fileName) {        </string></p>
<p>​              String[] sa = TextFile.read(fileName).split(“ “);</p>
<p>​              return Arrays.asList(sa);</p>
<p>​       }</p>
<p>​       static Collection<string> CollectFromText2(String fileName) {              </string></p>
<p>​              String[] sa = TextFile.read(fileName).split(“ “);</p>
<p>​              return new TreeSet<string>(new TextFile(fileName, “\W+”));</string></p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              println(CollectFromText(“Ex4.java”));</p>
<p>​              println(CollectFromText2(“Ex4.java”));</p>
<p>​       }</p>
<p>}</p>
<p>public class CountingMapData5 extends AbstractMap&lt;Integer,String&gt; {     </p>
<p>​      private static String[] chars =</p>
<p>​                  “A B C D E F G H I J K L M N O P Q R S T U V W X Y Z”</p>
<p>​                  .split(“ “);</p>
<p>​       static class Entry implements Map.Entry&lt;Integer,String&gt; {</p>
<p>​                  int index;</p>
<p>​                  Entry(int index) { this.index = index; }</p>
<p>​                  public boolean equals(Object o) {</p>
<p>​                        return Integer.valueOf(index).equals(o);</p>
<p>​                  }</p>
<p>​                  public Integer getKey() { return index; }</p>
<p>​                  public String getValue() {</p>
<p>​                     return chars[index % chars.length] +</p>
<p>​                             Integer.toString(index                   }</p>
<p>​                  public String setValue(String value) {</p>
<p>​                        throw new UnsupportedOperationException();</p>
<p>​                  }</p>
<p>​                  public int hashCode() {</p>
<p>​                        return Integer.valueOf(index).hashCode();</p>
<p>​                  }</p>
<p>​      }</p>
<p>​                 static class EntrySet extends AbstractSet&lt;Map.Entry&lt;Integer,String&gt;&gt; {</p>
<p>​              private int size;</p>
<p>​                 EntrySet(int size) {</p>
<p>​                     if(size &lt; 0) this.size = 0;</p>
<p>​                     else this.size = size;</p>
<p>​               }</p>
<p>​              public int size() { return size; }</p>
<p>​              private class Iter implements Iterator&lt;Map.Entry&lt;Integer,String&gt;&gt; {</p>
<p>​                                           private Entry entry = new Entry(-1);</p>
<p>​                      public boolean hasNext() {</p>
<p>​                            return entry.index &lt; size - 1;</p>
<p>​                      }</p>
<p>​                      public Map.Entry&lt;Integer,String&gt; next() {</p>
<p>​                            entry.index++;</p>
<p>​                            return entry;</p>
<p>​                      }</p>
<p>​                      public void remove() {</p>
<p>​                            throw new UnsupportedOperationException();</p>
<p>​                      }</p>
<p>​                 }</p>
<p>​                 public Iterator&lt;Map.Entry&lt;Integer,String&gt;&gt; iterator() {</p>
<p>​                     return new Iter();</p>
<p>​                 }                    </p>
<p>​       }</p>
<p>​       private static Set&lt;Map.Entry&lt;Integer,String&gt;&gt; entries = </p>
<p>​              new EntrySet(chars.length);</p>
<p>​       public Set&lt;Map.Entry&lt;Integer,String&gt;&gt; entrySet() { return entries; }</p>
<p>​       static Map&lt;Integer,String&gt; select(final int size) {</p>
<p>​                  return new CountingMapData5() {</p>
<p>​                        public Set&lt;Map.Entry&lt;Integer,String&gt;&gt; entrySet() {</p>
<p>​                             return new EntrySet(size);</p>
<p>​                        }</p>
<p>​                  };</p>
<p>​      }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              println(new CountingMapData5());</p>
<p>​              println(select(10));</p>
<p>​       }</p>
<p>} </p>
<p>public class Unsupported6 {</p>
<p>​       static void test(String msg, List<string> list) {</string></p>
<p>​              System.out.println(“— “ + msg + “ —“);</p>
<p>​              Collection<string> c = list;</string></p>
<p>​              Collection<string> subList = list.subList(1,8);</string></p>
<p>​                           Collection<string> c2 = new ArrayList<string>(subList);</string></string></p>
<p>​              try { c.retainAll(c2); } catch(Exception e) {</p>
<p>​                     println(“retainAll(): “ + e);</p>
<p>​              }</p>
<p>​              try { c.removeAll(c2); } catch(Exception e) {</p>
<p>​                     println(“removeAll(): “ + e);</p>
<p>​              }</p>
<p>​              try { c.clear(); } catch(Exception e) {</p>
<p>​                     println(“clear(): “ + e);</p>
<p>​              }              </p>
<p>​              try { c.add(“X”); } catch(Exception e) {</p>
<p>​                     println(“add(): “ + e);</p>
<p>​              }</p>
<p>​              try { c.addAll(c2); } catch(Exception e) {</p>
<p>​                     println(“addAll(): “ + e);</p>
<p>​              }</p>
<p>​              try { c.remove(“C”); } catch(Exception e) {</p>
<p>​                     println(“remove(): “ + e);</p>
<p>​              }</p>
<p>​                                        try {</p>
<p>​                     list.set(0, “X”);</p>
<p>​              } catch(Exception e) {</p>
<p>​                     println(“List.set(): “ + e);</p>
<p>​              }</p>
<p>​                           try { list.add(0, “X”); } catch(Exception e) {</p>
<p>​                     println(“List.add(): “ + e);</p>
<p>​              }</p>
<p>​              try { list.addAll(0, c2); } catch(Exception e) {</p>
<p>​                     println(“List.addAll(): “ + e);</p>
<p>​              }</p>
<p>​              try { list.remove(0); } catch(Exception e) {</p>
<p>​                     println(“List.remove(): “ + e);</p>
<p>​              }</p>
<p>​              try { list.removeAll(c2); } catch(Exception e) {</p>
<p>​                     println(“List.removeAll(): “ + e);</p>
<p>​              }</p>
<p>​              try { list.retainAll(c2); } catch(Exception e) {</p>
<p>​                     println(“List.retainAll(): “ + e);</p>
<p>​              }                    </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<string> list = </string></p>
<p>​                     Arrays.asList(“A B C D E F G H I J K L”.split(“ “));</p>
<p>​              test(“Modifiabe Copy”, new ArrayList<string>(list));</string></p>
<p>​              test(“Arrays.asList()”, list);</p>
<p>​              test(“unmodifiableLlist()”, </p>
<p>​                     Collections.unmodifiableList(new ArrayList<string>(list)));</string></p>
<p>​       }</p>
<p>}</p>
<p>public class Ex7 {   </p>
<p>​       @SuppressWarnings(“unchecked”)    </p>
<p>​       public static void main(String[] args) {</p>
<p>​              List<string> al = new ArrayList<string>(Countries.names(25));</string></string></p>
<p>​              List<string> ll = new LinkedList<string>(Countries.names(25));</string></string></p>
<p>​              print(al);</p>
<p>​              print(ll);          </p>
<p>​              Iterator alit = al.iterator();</p>
<p>​              Iterator llit = ll.iterator();</p>
<p>​              while(alit.hasNext()) {</p>
<p>​                     printnb(alit.next() + (alit.hasNext() ? “, “ : “”));</p>
<p>​              }</p>
<p>​              print();</p>
<p>​              while(llit.hasNext()) {</p>
<p>​                     printnb(llit.next() + (llit.hasNext() ? “, “ : “”));</p>
<p>​              }</p>
<p>​              print();</p>
<p>​              print();</p>
<p>​              ListIterator allit = al.listIterator();</p>
<p>​              ListIterator lllit = ll.listIterator();           </p>
<p>​              while(lllit.hasNext()) {                  </p>
<p>​                     allit.add((String)lllit.next());</p>
<p>​                     allit.next();</p>
<p>​              }</p>
<p>​              print(al);</p>
<p>​              print();</p>
<p>​              List<string> al2 = new ArrayList<string>(Countries.names(25));</string></string></p>
<p>​              ListIterator allit2 = al2.listIterator();</p>
<p>​              while(lllit.hasPrevious()) lllit.previous();</p>
<p>​              while(allit2.hasNext()) allit2.next();</p>
<p>​              while(lllit.hasNext()) {</p>
<p>​                     allit2.add((String)lllit.next());</p>
<p>​                     allit2.previous();</p>
<p>​                     allit2.previous();</p>
<p>​              }</p>
<p>​              print(al2);</p>
<p>​       }</p>
<p>}</p>
<p>class SList<e> {</e></p>
<p>​       private Link<e> headLink = new Link<e>(null);</e></e></p>
<p>​       SListIterator<e> iterator() { return new SListIterator<e>(headLink); }</e></e></p>
<p>​       public String toString() { </p>
<p>​              if(headLink.next == null) return “SList: []”;</p>
<p>​              print(“SList: [“);</p>
<p>​              SListIterator<e> it = this.iterator();</e></p>
<p>​              StringBuilder s = new StringBuilder(); </p>
<p>​              while(it.hasNext()) {</p>
<p>​                     s.append(it.next() + (it.hasNext() ? “, “ : “”));</p>
<p>​              }</p>
<p>​              return s + “]”;</p>
<p>​       }             </p>
<p>}</p>
<p>class SListIterator<e> {</e></p>
<p>​       Link<e> current;</e></p>
<p>​       SListIterator(Link<e> link) {</e></p>
<p>​              current = link;</p>
<p>​       }</p>
<p>​       public boolean hasNext() {</p>
<p>​              return current.next != null;</p>
<p>​       }</p>
<p>​       public Link<e> next() {</e></p>
<p>​              current = current.next;</p>
<p>​              return current;</p>
<p>​       }</p>
<p>​       public void insert(E e) {</p>
<p>​              current.next = new Link<e>(e, current.next);</e></p>
<p>​              current = current.next;</p>
<p>​       }      </p>
<p>​       public void remove() {</p>
<p>​              if(current.next != null) {</p>
<p>​                     current.next = current.next.next;</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>class Link<e> {</e></p>
<p>​       E e;</p>
<p>​       Link<e> next;</e></p>
<p>​       Link(E e, Link<e> next) { </e></p>
<p>​              this.e = e;</p>
<p>​              this.next = next; </p>
<p>​       }</p>
<p>​       Link(E e) {</p>
<p>​              this(e, null);</p>
<p>​       }     </p>
<p>​       public String toString() {</p>
<p>​              if(e == null) return “null”;</p>
<p>​              return e.toString();</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex8 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SList<string> sl = new SList<string>();</string></string></p>
<p>​              println(sl);</p>
<p>​              SListIterator<string> slIter = sl.iterator();</string></p>
<p>​              println(“inserting &quot;hi&quot;“);</p>
<p>​              slIter.insert(“hi”);</p>
<p>​              println(sl);</p>
<p>​              println(“inserting &quot;there&quot;“);</p>
<p>​              slIter.insert(“there”);</p>
<p>​              println(sl);</p>
<p>​              println(“inserting &quot;sweetie&quot;“);</p>
<p>​              slIter.insert(“sweetie”);</p>
<p>​              println(sl);</p>
<p>​              println(“inserting &quot;pie&quot;“);</p>
<p>​              slIter.insert(“pie”);</p>
<p>​              println(sl);</p>
<p>​              SListIterator<string> slIter2 = sl.iterator();</string></p>
<p>​              println(“removing &quot;hi&quot;“);</p>
<p>​              slIter2.remove();</p>
<p>​              println(sl);</p>
<p>​              println(“inserting &quot;hello&quot;“);</p>
<p>​              slIter2.insert(“hello”);</p>
<p>​              println(sl);</p>
<p>​              println(“removing &quot;there&quot;“);</p>
<p>​              slIter2.remove();</p>
<p>​              println(sl);</p>
<p>​              println(“removing &quot;sweetie&quot;“);</p>
<p>​              slIter2.remove();</p>
<p>​              println(sl);</p>
<p>​              println(“removing &quot;pie&quot;“);</p>
<p>​              slIter2.remove();</p>
<p>​              println(sl);</p>
<p>​              println(“removing &quot;hello&quot;“);</p>
<p>​              SListIterator slIter3 = sl.iterator();</p>
<p>​              slIter3.remove();</p>
<p>​              println(sl);             </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex9 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              TreeSet<string> ts = </string></p>
<p>​              new TreeSet<string>(String.CASE_INSENSITIVE_ORDER);</string></p>
<p>​              RandomGenerator.String rgs = </p>
<p>​                     new RandomGenerator.String(5);</p>
<p>​              for(int i = 0; i &lt; 20; i++) {</p>
<p>​                     ts.add(rgs.next());</p>
<p>​              }</p>
<p>​              print(ts);</p>
<p>​       }</p>
<p>}</p>
<p>​    import java.util.*;</p>
<p>import static net.mindview.util.Print.*;</p>
<p>class SortedSet10<e> extends LinkedList<e> {</e></e></p>
<p>​       int compare(E e1, E e2) {</p>
<p>​              int c = e1.hashCode() - e2.hashCode();</p>
<p>​              return (c &lt; 0) ? -1 : ((c == 0) ? 0 : 1);</p>
<p>​       }</p>
<p>​       public boolean add(E e) {</p>
<p>​              if(!this.contains(e)) {</p>
<p>​                     Iterator<e> it = this.iterator();</e></p>
<p>​                     int index = 0;</p>
<p>​                     while(it.hasNext()) {</p>
<p>​                            if(compare(it.next(), e) &lt; 1) </p>
<p>​                                   index++;</p>
<p>​                     }</p>
<p>​                     add(index, e);</p>
<p>​                     return true;</p>
<p>​              }</p>
<p>​              return false;</p>
<p>​       }</p>
<p>}</p>
<p>class T {}</p>
<p>public class Ex10 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SortedSet10<t> ss = new SortedSet10<t>();</t></t></p>
<p>​              ss.add(new T());</p>
<p>​              ss.add(new T());</p>
<p>​              ss.add(new T());     </p>
<p>​              ss.add(new T());</p>
<p>​              print(ss);</p>
<p>​              SortedSet10<integer> ss2 = new SortedSet10<integer>();</integer></integer></p>
<p>​              ss2.add(6);</p>
<p>​              ss2.add(8);</p>
<p>​              ss2.add(2);</p>
<p>​              ss2.add(4);</p>
<p>​              ss2.add(2);</p>
<p>​              ss2.add(8);</p>
<p>​              print(ss2);</p>
<p>​              SortedSet10<string> ss3 = new SortedSet10<string>();</string></string></p>
<p>​              ss3.add(“three”);</p>
<p>​              ss3.add(“three”);</p>
<p>​              ss3.add(“seven”);</p>
<p>​              ss3.add(“hi”);</p>
<p>​              ss3.add(“two”);</p>
<p>​              ss3.add(“one”);</p>
<p>​              print(ss3);</p>
<p>​       }</p>
<p>class IntegerTest implements Comparable<integertest> {</integertest></p>
<p>​       Random r = new Random();</p>
<p>​       Integer i = r.nextInt(100);</p>
<p>​       public int compareTo(IntegerTest arg) {</p>
<p>​              int d = this.i - arg.i;</p>
<p>​              return d &lt; 0 ? -1 : d == 0 ? 0 : 1;</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return Integer.toString(i);</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex11 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              PriorityQueue<integertest> pt = </integertest></p>
<p>​              new PriorityQueue<integertest>();</integertest></p>
<p>​              for(int i = 0; i &lt; 20; i++) {</p>
<p>​                     pt.add(new IntegerTest());</p>
<p>​              }</p>
<p>​              int size = pt.size();</p>
<p>​              for(int i = 0; i &lt; size; i++) {</p>
<p>​                     System.out.print(pt.poll() + “ “);</p>
<p>​              }</p>
<p>​       }</p>
<p>} </p>
<p>public class Ex12&lt;K,V&gt; {</p>
<p>​       private Object[][] pairs;</p>
<p>​       private int index;   </p>
<p>​       public Ex12(int length) {</p>
<p>​              pairs = new Object[length][2];</p>
<p>​       }</p>
<p>​       public void put(K key, V value) {</p>
<p>​              if(index &gt;= pairs.length)</p>
<p>​                     throw new ArrayIndexOutOfBoundsException();</p>
<p>​              pairs[index++] = new Object[] { key, value };</p>
<p>​       }</p>
<p>​       @SuppressWarnings(“unchecked”)</p>
<p>​       public V get(K key) {</p>
<p>​              for(int i = 0; i &lt; index; i++)</p>
<p>​                     if(key.equals(pairs[i][0]))</p>
<p>​                            return (V)pairs[i][1];</p>
<p>​              return null;   }</p>
<p>​       public String toString() {</p>
<p>​              StringBuilder result = new StringBuilder();</p>
<p>​              for(int i = 0; i &lt; index; i++) {</p>
<p>​                     result.append(pairs[i][0].toString());</p>
<p>​                     result.append(“ : “);</p>
<p>​                     result.append(pairs[i][1].toString());</p>
<p>​                     if(i &lt; index - 1)</p>
<p>​                            result.append(“\n”);</p>
<p>​              }             </p>
<p>​              return result.toString();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex12&lt;String,String&gt; map = </p>
<p>​                     new Ex12&lt;String,String&gt;(6);</p>
<p>​              map.put(“sky”, “blue”);</p>
<p>​              map.put(“grass”, “green”);</p>
<p>​              map.put(“ocean”, “dancing”);</p>
<p>​              map.put(“tree”, “tall”);</p>
<p>​              map.put(“earth”, “brown”);</p>
<p>​              map.put(“sun”, “warm”);</p>
<p>​              try {</p>
<p>​                     map.put(“extra”, “object”);                } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                     print(“Too many objects”);</p>
<p>​              }</p>
<p>​              print(map);</p>
<p>​              print(map.get(“ocean”));</p>
<p>​              HashMap&lt;String,String&gt; hashMap = </p>
<p>​                     new HashMap&lt;String,String&gt;(6);</p>
<p>​              hashMap.put(“sky”, “blue”);</p>
<p>​              hashMap.put(“grass”, “green”);</p>
<p>​              hashMap.put(“ocean”, “dancing”);</p>
<p>​              hashMap.put(“tree”, “tall”);</p>
<p>​              hashMap.put(“earth”, “brown”);</p>
<p>​              hashMap.put(“sun”, “warm”);</p>
<p>​              try {</p>
<p>​                     hashMap.put(“extra”, “object”);                } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                     print(“Too many objects”);</p>
<p>​              }</p>
<p>​              print(hashMap);</p>
<p>​              print(hashMap.get(“ocean”));</p>
<p>​              TreeMap&lt;String,String&gt; treeMap = </p>
<p>​                     new TreeMap&lt;String,String&gt;();</p>
<p>​              treeMap.put(“sky”, “blue”);</p>
<p>​              treeMap.put(“grass”, “green”);</p>
<p>​              treeMap.put(“ocean”, “dancing”);</p>
<p>​              treeMap.put(“tree”, “tall”);</p>
<p>​              treeMap.put(“earth”, “brown”);</p>
<p>​              treeMap.put(“sun”, “warm”);</p>
<p>​              try {</p>
<p>​                     treeMap.put(“extra”, “object”);          } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                     print(“Too many objects”);</p>
<p>​              }</p>
<p>​              print(treeMap);</p>
<p>​              print(treeMap.get(“ocean”));</p>
<p>​              LinkedHashMap&lt;String,String&gt; linkedHashMap = </p>
<p>​                     new LinkedHashMap&lt;String,String&gt;(6);</p>
<p>​              linkedHashMap.put(“sky”, “blue”);</p>
<p>​              linkedHashMap.put(“grass”, “green”);</p>
<p>​              linkedHashMap.put(“ocean”, “dancing”);</p>
<p>​              linkedHashMap.put(“tree”, “tall”);</p>
<p>​              linkedHashMap.put(“earth”, “brown”);</p>
<p>​              linkedHashMap.put(“sun”, “warm”);</p>
<p>​              try {</p>
<p>​                     linkedHashMap.put(“extra”, “object”);             } catch(ArrayIndexOutOfBoundsException e) {</p>
<p>​                     print(“Too many objects”);</p>
<p>​              }</p>
<p>​              print(linkedHashMap);</p>
<p>​              print(linkedHashMap.get(“ocean”));</p>
<p>​       }</p>
<p>}</p>
<p>public class WordCounter13 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​                           String fileName = “WordCounter13.java”;</p>
<p>​                           Set<string> words = new TreeSet<string>(new TextFile(fileName, “\W+”));</string></string></p>
<p>​                           AssociativeArray&lt;String,Integer&gt; wordCount =</p>
<p>​                     new AssociativeArray&lt;String,Integer&gt;(words.size());</p>
<p>​                           ArrayList<string> fileList = new TextFile(fileName, “\W+”);</string></p>
<p>​                           for(String s : words) {</p>
<p>​                     int count = 0;</p>
<p>​                     for(String t : fileList) {</p>
<p>​                            if(t.equals(s)) count++;</p>
<p>​                     }</p>
<p>​                     wordCount.put(s, count);</p>
<p>​              }</p>
<p>​              print(wordCount);</p>
<p>​       }</p>
<p>}</p>
<p>   import net.mindview.util.*;     </p>
<p>import static net.mindview.util.Print.*;</p>
<p>import java.util.*;</p>
<p>import java.util.concurrent.*;</p>
<p>public class Maps14 {</p>
<p>​       public static void printKeys(Map&lt;Integer,String&gt; map) {</p>
<p>​              printnb(“Size = “ + map.size() + “, “);</p>
<p>​              printnb(“Keys: “);</p>
<p>​              print(map.keySet());    }</p>
<p>​             public static void printKeys2(Map&lt;Object,Object&gt; map) {</p>
<p>​              printnb(“Size = “ + map.size() + “, “);</p>
<p>​              printnb(“Keys: “);</p>
<p>​              print(map.keySet());    }</p>
<p>​       public static void test(Map&lt;Integer,String&gt; map) {</p>
<p>​              print(map.getClass().getSimpleName());</p>
<p>​              map.putAll(new CountingMapData(25));</p>
<p>​                           map.putAll(new CountingMapData(25));</p>
<p>​              printKeys(map);</p>
<p>​                           printnb(“Values: “);</p>
<p>​              print(map.values());</p>
<p>​              print(map);</p>
<p>​              print(“map.containsKey(11): “ + map.containsKey(11));</p>
<p>​              print(“map.get(11): “ + map.get(11));</p>
<p>​              print(“map.containsValue(&quot;F0&quot;): “ + map.containsValue(“F0”));</p>
<p>​              Integer key = map.keySet().iterator().next();</p>
<p>​              print(“First key in map: “ + key);</p>
<p>​              map.remove(key);</p>
<p>​              printKeys(map);</p>
<p>​              map.clear();</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​              map.putAll(new CountingMapData(25));</p>
<p>​                           map.keySet().removeAll(map.keySet());</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​       }</p>
<p>​             public static void test2(Map&lt;Object,Object&gt; map) {</p>
<p>​              print(map.getClass().getSimpleName());</p>
<p>​              map.putAll(new CountingMapData(25));</p>
<p>​                           map.putAll(new CountingMapData(25));</p>
<p>​              printKeys2(map);</p>
<p>​                           printnb(“Values: “);</p>
<p>​              print(map.values());</p>
<p>​              print(map);</p>
<p>​              print(“map.containsKey(11): “ + map.containsKey(11));</p>
<p>​              print(“map.get(11): “ + map.get(11));</p>
<p>​              print(“map.containsValue(&quot;F0&quot;): “ + map.containsValue(“F0”));</p>
<p>​              Object key = map.keySet().iterator().next();</p>
<p>​              print(“First key in map: “ + key);</p>
<p>​              map.remove(key);</p>
<p>​              printKeys2(map);</p>
<p>​              map.clear();</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​              map.putAll(new CountingMapData(25));</p>
<p>​                           map.keySet().removeAll(map.keySet());</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​                                                                                                                                   Map&lt;Object,Object&gt; moop = new Properties();</p>
<p>​                                                     test2(new Properties());      }</p>
<p>}</p>
<p>public class WordCounter15 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​                           String fileName = “WordCounter15.java”;</p>
<p>​                           ArrayList<string> wordList = new TextFile(fileName, “\W+”);</string></p>
<p>​              SlowMap&lt;String,Integer&gt; wordCount = new SlowMap&lt;String,Integer&gt;();</p>
<p>​              Iterator it = wordList.iterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     String s = (String)it.next();</p>
<p>​                     if(!(wordCount.containsKey(s))) wordCount.put(s,1);</p>
<p>​                     else {</p>
<p>​                            int count = wordCount.get(s);</p>
<p>​                            wordCount.put(s, ++count);</p>
<p>​                     }</p>
<p>​              }</p>
<p>​              print(wordCount);        </p>
<p>​       }</p>
<p>}</p>
<p>class SlowMap16&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​       private List<k> keys = new ArrayList<k>();      </k></k></p>
<p>​       private List<v> values = new ArrayList<v>();</v></v></p>
<p>​       private EntrySet entries = new EntrySet();</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() { return entries; }</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = get(key);              if(!keys.contains(key)) {</p>
<p>​                     keys.add(key);</p>
<p>​                     values.add(value);</p>
<p>​              } else</p>
<p>​                     values.set(keys.indexOf(key), value);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {         if(!keys.contains(key))</p>
<p>​                     return null;</p>
<p>​              return values.get(keys.indexOf(key));</p>
<p>​       }</p>
<p>​       private class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {</p>
<p>​              public int size() { return keys.size(); }</p>
<p>​              public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {</p>
<p>​                     return new Iterator&lt;Map.Entry&lt;K,V&gt;&gt;() {</p>
<p>​                            private int index = -1;</p>
<p>​                            public boolean hasNext() {</p>
<p>​                                   return index &lt; keys.size() - 1; </p>
<p>​                            }</p>
<p>​                            @SuppressWarnings(“unchecked”)</p>
<p>​                            public Map.Entry&lt;K,V&gt; next() {</p>
<p>​                                   int i = ++index;</p>
<p>​                                   return new MapEntry(</p>
<p>​                                   keys.get(i), values.get(i));       </p>
<p>​                            }</p>
<p>​                            public void remove() {</p>
<p>​                                   keys.remove(index);</p>
<p>​                                       values.remove(index–);             </p>
<p>​                            }                           </p>
<p>​                     };</p>
<p>​              }                           </p>
<p>​       }      </p>
<p>}</p>
<p>public class Maps16 {</p>
<p>​       public static void printKeys(Map&lt;Integer,String&gt; map) {</p>
<p>​              printnb(“Size = “ + map.size() + “, “);</p>
<p>​              printnb(“Keys: “);</p>
<p>​              print(map.keySet());    }</p>
<p>​       public static void test(Map&lt;Integer,String&gt; map) {</p>
<p>​              print(map.getClass().getSimpleName());</p>
<p>​              map.putAll(new CountingMapData(25));</p>
<p>​                           map.putAll(new CountingMapData(25));</p>
<p>​              printKeys(map);</p>
<p>​                           printnb(“Values: “);</p>
<p>​              print(map.values());</p>
<p>​              print(map);</p>
<p>​              print(“map.containsKey(11): “ + map.containsKey(11));</p>
<p>​              print(“map.get(11): “ + map.get(11));</p>
<p>​              print(“map.containsValue(&quot;F0&quot;): “ + map.containsValue(“F0”));</p>
<p>​              Integer key = map.keySet().iterator().next();</p>
<p>​              print(“First key in map: “ + key);</p>
<p>​              map.remove(key);</p>
<p>​              printKeys(map);</p>
<p>​              map.clear();</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​              map.putAll(new CountingMapData(25));</p>
<p>​                           map.keySet().removeAll(map.keySet());</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              test(new HashMap&lt;Integer,String&gt;());</p>
<p>​              print();</p>
<p>​              test(new SlowMap&lt;Integer,String&gt;());</p>
<p>​              print();</p>
<p>​              test(new SlowMap16&lt;Integer,String&gt;());                  </p>
<p>​       }</p>
<p>}</p>
<p>public class SlowMap17&lt;K,V&gt; implements Map&lt;K,V&gt; {</p>
<p>​       private List<k> keys = new ArrayList<k>();      </k></k></p>
<p>​       private List<v> values = new ArrayList<v>();</v></v></p>
<p>​       private EntrySet entries = new EntrySet();</p>
<p>​       private Set<k> keySet = new KeySet();      </k></p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() { return entries; }</p>
<p>​       public Set<k> keySet() { return keySet; }</k></p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = get(key);              if(!keys.contains(key)) {</p>
<p>​                     keys.add(key);</p>
<p>​                     values.add(value);</p>
<p>​              } else</p>
<p>​                     values.set(keys.indexOf(key), value);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {         if(!keys.contains(key))</p>
<p>​                     return null;</p>
<p>​              return values.get(keys.indexOf(key));</p>
<p>​       }</p>
<p>​       private class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {</p>
<p>​              public int size() { return keys.size(); }</p>
<p>​              public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {</p>
<p>​                     return new Iterator&lt;Map.Entry&lt;K,V&gt;&gt;() {</p>
<p>​                            private int index = -1;</p>
<p>​                            public boolean hasNext() {</p>
<p>​                                   return index &lt; keys.size() - 1; </p>
<p>​                            }</p>
<p>​                            @SuppressWarnings(“unchecked”)</p>
<p>​                            public Map.Entry&lt;K,V&gt; next() {</p>
<p>​                                   int i = ++index;</p>
<p>​                                   return new MapEntry(</p>
<p>​                                   keys.get(i), values.get(i));       </p>
<p>​                            }</p>
<p>​                            public void remove() {</p>
<p>​                                   keys.remove(index);</p>
<p>​                                       values.remove(index–);             </p>
<p>​                            }                           </p>
<p>​                     };</p>
<p>​              }                           </p>
<p>​       }</p>
<p>​       public void clear() {</p>
<p>​              keys.clear();</p>
<p>​              values.clear();</p>
<p>​       }</p>
<p>​       public boolean containsKey(Object key) {</p>
<p>​              return keys.contains(key);</p>
<p>​       }</p>
<p>​       public boolean containsValue(Object value) {</p>
<p>​              return values.contains(value);</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              if(o instanceof SlowMap17) {</p>
<p>​                     if(this.entrySet().equals(((SlowMap17)o).entrySet()))</p>
<p>​                            return true;</p>
<p>​              }</p>
<p>​              return false;</p>
<p>​       }</p>
<p>​       public int hashCode() {</p>
<p>​              return this.entrySet().hashCode();</p>
<p>​       }      </p>
<p>​       public boolean isEmpty() {</p>
<p>​              return this.entrySet().isEmpty();</p>
<p>​       }      </p>
<p>​       private class KeySet extends AbstractSet<k> {</k></p>
<p>​              public int size() { return keys.size(); }</p>
<p>​              public Iterator<k> iterator() {</k></p>
<p>​                     return new Iterator<k>() {</k></p>
<p>​                            private int index = -1;</p>
<p>​                            public boolean hasNext() {</p>
<p>​                                   return index &lt; keys.size() - 1; </p>
<p>​                            }</p>
<p>​                            public K next() {</p>
<p>​                                   int i = ++index;</p>
<p>​                                   return keys.get(index);   </p>
<p>​                            }</p>
<p>​                            public void remove() {</p>
<p>​                                   keys.remove(index–);</p>
<p>​                                }                           </p>
<p>​                     };</p>
<p>​              }</p>
<p>​              </p>
<p>​       }</p>
<p>​       public void putAll(Map&lt;? extends K,? extends V&gt; m) {</p>
<p>​              for(Map.Entry&lt;? extends K,? extends V&gt; me : m.entrySet())</p>
<p>​                     this.put(me.getKey(), me.getValue());</p>
<p>​       }</p>
<p>​       public V remove(Object key) {</p>
<p>​              V v = this.get(key); </p>
<p>​              int i = keys.indexOf(key);</p>
<p>​              keys.remove(i);</p>
<p>​              values.remove(i);</p>
<p>​              return v;</p>
<p>​       }</p>
<p>​       public int size() { return keys.size(); }</p>
<p>​       public Collection<v> values() { </v></p>
<p>​              return values;</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return this.entrySet().toString();</p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              SlowMap17&lt;String,String&gt; m = new SlowMap17&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(15));</p>
<p>​              print(“m: “ + m);</p>
<p>​              print(“m.get(&quot;BURUNDI&quot;): “ + m.get(“BURUNDI”));</p>
<p>​              print(“m.entrySet(): “ + m.entrySet());</p>
<p>​              print(“m.keySet(): “ + m.keySet());              </p>
<p>​              print(“m.values() = “ + m.values());</p>
<p>​              print(“Two different maps: “);</p>
<p>​              SlowMap17&lt;String,String&gt; m2 = new SlowMap17&lt;String,String&gt;();</p>
<p>​              print(“m.equals(m2): “ + m.equals(m2));</p>
<p>​              m2.putAll(Countries.capitals(15));</p>
<p>​              print(“Maps with same entries: “);</p>
<p>​              print(“m.equals(m2): “ + m.equals(m2));</p>
<p>​              m.clear();</p>
<p>​              print(“After m.clear(), m.isEmpty(): “ + </p>
<p>​                     m.isEmpty() + “, m = “ + m);</p>
<p>​              m2.keySet().clear();</p>
<p>​              print(“After m2.keySet().clear(), m2.isEmpty(): “ </p>
<p>​                     + m2.isEmpty() + “, m2 = “ + m2);</p>
<p>​       }</p>
<p>}</p>
<p>public class SlowSet18<e> implements Set<e> {</e></e></p>
<p>​       private List<e> elements = new ArrayList<e>();      </e></e></p>
<p>​       public boolean add(E e) {</p>
<p>​              if(elements.contains(e)) return false;</p>
<p>​              elements.add(e);</p>
<p>​              return true;</p>
<p>​       }</p>
<p>​       public boolean addAll(Collection&lt;? extends E&gt; c) {</p>
<p>​              return(elements.addAll(c));</p>
<p>​       }      </p>
<p>​       public void clear() {</p>
<p>​              elements.clear();</p>
<p>​       }</p>
<p>​       public boolean contains(Object o) {</p>
<p>​              return elements.contains(o);</p>
<p>​       }</p>
<p>​       public boolean containsAll(Collection&lt;?&gt; c) {</p>
<p>​              int count = 0; </p>
<p>​              for(Object o : c)</p>
<p>​                     if(elements.contains(o)) count++;</p>
<p>​              if(count == c.size()) return true;</p>
<p>​              return false;           </p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              if(o instanceof SlowSet18) {</p>
<p>​                     if((elements.size() == ((SlowSet18)o).size())) {</p>
<p>​                            int count = 0;</p>
<p>​                            for(int i = 0; i &lt; elements.size(); i++)                                            if(elements.get(i).equals(((SlowSet18)o).elements.get(i)))</p>
<p>​                                          count++;</p>
<p>​                            if(count == elements.size()) return true;</p>
<p>​                     }                                  </p>
<p>​              }</p>
<p>​              return false;           </p>
<p>​       }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = 0;</p>
<p>​              for(int i = 0; i &lt; elements.size(); i++)</p>
<p>​                     result += elements.get(i).hashCode();</p>
<p>​              return result;</p>
<p>​       }      </p>
<p>​       public boolean isEmpty() {</p>
<p>​              return(elements.size() == 0);</p>
<p>​       }</p>
<p>​       public Iterator<e> iterator() {</e></p>
<p>​              return elements.iterator();</p>
<p>​       }</p>
<p>​       public boolean remove(Object o) {</p>
<p>​              return(elements.remove(o));</p>
<p>​       }</p>
<p>​       public boolean removeAll(Collection&lt;?&gt; c) {</p>
<p>​              int n = elements.size();</p>
<p>​              for(Object o : c) elements.remove(o);</p>
<p>​              if(n != elements.size()) return true;</p>
<p>​              return false;</p>
<p>​       }</p>
<p>​       public boolean retainAll(Collection&lt;?&gt; c) {</p>
<p>​              int n = elements.size();</p>
<p>​              for(int i = 0; i &lt; elements.size(); i++) { </p>
<p>​                     E e = elements.get(i);</p>
<p>​                     if(!(c.contains(e))) elements.remove(e);</p>
<p>​              }</p>
<p>​              if(n != elements.size()) return true;</p>
<p>​              return false;</p>
<p>​       }</p>
<p>​       public int size() { return elements.size(); }</p>
<p>​       public Object[] toArray() {</p>
<p>​              return elements.toArray();</p>
<p>​       }</p>
<p>​       public <t> T[] toArray(T[] a) {</t></p>
<p>​              return elements.toArray(a);</p>
<p>​       }</p>
<p>​       </p>
<p>​       public String toString() {</p>
<p>​              if(elements.size() == 0) return “[]”;</p>
<p>​              StringBuilder s = new StringBuilder();</p>
<p>​              s.append(“[“);</p>
<p>​              for(int i = 0; i &lt; elements.size() - 1; i++)</p>
<p>​                     s.append(String.valueOf(elements.get(i)) + “, “);</p>
<p>​              s.append(String.valueOf(elements.get(elements.size() -1)));</p>
<p>​              s.append(“]”);</p>
<p>​              return s.toString();</p>
<p>​       }</p>
<p>​       </p>
<p>​       public static void main(String[] args) {</p>
<p>​              SlowSet18<string> ss = new SlowSet18<string>();</string></string></p>
<p>​              ss.add(“hi”);</p>
<p>​              print(ss);</p>
<p>​              ss.add(“there”);</p>
<p>​              print(ss);        </p>
<p>​              List<string> list = Arrays.asList(“you”, “cutie”, “pie”);</string></p>
<p>​              ss.addAll(list);</p>
<p>​              print(ss);</p>
<p>​              print(“ss.size() = “ + ss.size());</p>
<p>​              print(“ss.contains(&quot;you&quot;): “ + ss.contains(“you”));</p>
<p>​              print(“ss.contains(&quot;me&quot;): “ + ss.contains(“me”));     </p>
<p>​              print(“ss.containsAll(list): “ + ss.containsAll(list));</p>
<p>​              SlowSet18<string> ss2 = new SlowSet18<string>();</string></string></p>
<p>​              print(“ss2 = “ + ss2);</p>
<p>​              print(“ss.containsAll(ss2): “ + ss.containsAll(ss2));</p>
<p>​              print(“ss2.containAll(ss): “ + ss2.containsAll(ss));</p>
<p>​              ss2.add(“you”);</p>
<p>​              ss2.add(“cutie”);</p>
<p>​              ss.removeAll(ss2);</p>
<p>​              print(“ss = “ + ss);</p>
<p>​              print(“ss.hashCode() = “ + ss.hashCode());</p>
<p>​              List<string> list2 = Arrays.asList(“hi”, “there”, “pie”);</string></p>
<p>​              ss2.remove(“you”);</p>
<p>​              print(ss2);</p>
<p>​              print(“ss2.isEmpty(): “ + ss2.isEmpty());</p>
<p>​              ss2.clear();</p>
<p>​              print(“ss2.isEmpty(): “ + ss2.isEmpty());</p>
<p>​              ss2.addAll(list2);</p>
<p>​              print(“ss2 = “ + ss2);</p>
<p>​              print(“ss.equals(ss2): “ + ss.equals(ss2));</p>
<p>​              String[] sa = new String[3];</p>
<p>​              print(“ss.toArray(sa): “ + ss.toArray(sa));</p>
<p>​              for(int i = 0; i &lt; sa.length; i++) printnb(sa[i] + “ “ );                       </p>
<p>​       }</p>
<p>}</p>
<p>   import net.mindview.util.*;     </p>
<p>import static net.mindview.util.Print.*;</p>
<p>import java.util.*;</p>
<p>public class WordCounter19 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​                           String fileName = “WordCounter19.java”;</p>
<p>​                           Set<string> words = new TreeSet<string>(new TextFile(fileName, “\W+”));</string></string></p>
<p>​                           SimpleHashMap&lt;String,Integer&gt; wordCount =</p>
<p>​                     new SimpleHashMap&lt;String,Integer&gt;();           </p>
<p>​                           ArrayList<string> fileList = new TextFile(fileName, “\W+”);</string></p>
<p>​                           for(String s : words) {</p>
<p>​                     int count = 0;</p>
<p>​                     for(String t : fileList) {</p>
<p>​                            if(t.equals(s)) count++;</p>
<p>​                     }</p>
<p>​                     wordCount.put(s, count);</p>
<p>​              }</p>
<p>​              print(wordCount);</p>
<p>​       }</p>
<p>}</p>
<p>​    import java.util.*;</p>
<p>import net.mindview.util.*;</p>
<p>public class SimpleHashMap20&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets =</p>
<p>​              new LinkedList[SIZE];</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     if(iPair.getKey().equals(key)) {                          System.out.println(“Collision: new “ +</p>
<p>​                                   pair + “ for old “ + iPair);</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap20&lt;String,String&gt; m =</p>
<p>​                     new SimpleHashMap20&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(10));</p>
<p>​              System.out.println(m);</p>
<p>​              m.put(“EGYPT”,”Berlin?”);</p>
<p>​              m.put(“EGYPT”,”Cairo”);</p>
<p>​              System.out.println(m);</p>
<p>​              m.putAll(Countries.capitals(10));</p>
<p>​       }</p>
<p>}</p>
<p>public class SimpleHashMap21&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets =</p>
<p>​              new LinkedList[SIZE];</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              int probes = 0;</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     probes++;</p>
<p>​                     if(iPair.getKey().equals(key)) {</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            System.out.println(“Collision at “ + </p>
<p>​                                   iPair + “: “ + probes + “ probe” </p>
<p>​                                   + ((probes == 1) ? “” : “s”) +</p>
<p>​                                   “ needed”);</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap21&lt;String,String&gt; m =</p>
<p>​                     new SimpleHashMap21&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(5));</p>
<p>​              System.out.println(m);</p>
<p>​              m.put(“EGYPT”,”Berlin?”);</p>
<p>​              m.put(“EGYPT”, “New York?”);</p>
<p>​              m.put(“EGYPT”, “Cairo”);</p>
<p>​              System.out.println();</p>
<p>​              m.putAll(Countries.capitals(6));</p>
<p>​              System.out.println(m);</p>
<p>​       }</p>
<p>}</p>
<p>public class SimpleHashMap22&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets =</p>
<p>​              new LinkedList[SIZE];</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     if(iPair.getKey().equals(key)) {</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public void clear() {</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets)</p>
<p>​                     if(bucket != null) bucket.clear();          </p>
<p>​       }</p>
<p>​       public V remove(Object o) {</p>
<p>​              V v = null;</p>
<p>​              if(this.get(o) != null) {</p>
<p>​                     int index = Math.abs(o.hashCode()) % SIZE;</p>
<p>​                     for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                            if(iPair.getKey().equals(o)) {</p>
<p>​                                   v = iPair.getValue();</p>
<p>​                                   int i =</p>
<p>​                                   buckets[index].indexOf(iPair);</p>
<p>​                                   buckets[index].remove(i);</p>
<p>​                                   break;            </p>
<p>​                            }</p>
<p>​              }</p>
<p>​              return v;         </p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap22&lt;String,String&gt; m =</p>
<p>​                     new SimpleHashMap22&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(5));</p>
<p>​              println(m);</p>
<p>​              println(m.get(“ALGERIA”));</p>
<p>​              println(m.remove(“ALGERIA”));</p>
<p>​              println(m.get(“ALGERIA”));</p>
<p>​              println(m.remove(“ANGOLA”));</p>
<p>​              println(m);      </p>
<p>​              m.clear();</p>
<p>​              println(m);                    </p>
<p>​       }</p>
<p>}</p>
<p>public class SimpleHashMap23&lt;K,V&gt; implements Map&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets = new LinkedList[SIZE];</p>
<p>​       public int size() {</p>
<p>​              int result = 0;</p>
<p>​              for(LinkedList bucket : buckets)</p>
<p>​                     if(bucket != null) result += bucket.size();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​             private int firstNonEmptyBucket() {</p>
<p>​              if(buckets.length &lt; 1) return -1;</p>
<p>​              for(int j = 0; j &lt; buckets.length; j++) </p>
<p>​                     if(buckets[j] != null) return j;</p>
<p>​              return -1;              </p>
<p>​       }</p>
<p>​       private int start(int i) {</p>
<p>​              int first = this.firstNonEmptyBucket();</p>
<p>​              if(i &lt; first) return -1;</p>
<p>​              if(i == first) return 0;</p>
<p>​              int result = 0;</p>
<p>​              for(int j = first; j &lt; i; j++) </p>
<p>​                     if(buckets[j] != null) result += buckets[j].size();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       private int end(int i) {</p>
<p>​              int first = this.firstNonEmptyBucket();</p>
<p>​              if(i &lt; first) return -1;</p>
<p>​              return start(i) + ((buckets[i] == null) ? 0 : buckets[i].size()); </p>
<p>​       }</p>
<p>​       private EntrySet entries = new EntrySet();</p>
<p>​       private KeySet keys = new KeySet();</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() { return entries; }</p>
<p>​       public Set<k> keySet() { return keys; }</k></p>
<p>​       public boolean isEmpty() {</p>
<p>​              return this.size() == 0;</p>
<p>​       }      </p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     if(iPair.getKey().equals(key)) {</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public void putAll(Map&lt;? extends K, ? extends V&gt; m) {</p>
<p>​              for(Map.Entry&lt;? extends K,? extends V&gt; me : m.entrySet())</p>
<p>​                     this.put(me.getKey(), me.getValue());</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public void clear() {</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets)</p>
<p>​                     if(bucket != null) bucket.clear();          </p>
<p>​       }</p>
<p>​       public boolean containsKey(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return false;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return true;</p>
<p>​              return false;</p>
<p>​       }      </p>
<p>​       public boolean containsValue(Object value) {</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket != null) </p>
<p>​                            for(MapEntry&lt;K,V&gt; iPair : bucket)</p>
<p>​                                   if(iPair.getValue().equals(value)) return true;</p>
<p>​              }</p>
<p>​              return false;</p>
<p>​       }</p>
<p>​       public Collection<v> values() {</v></p>
<p>​              HashSet<v> vals = new HashSet<v>();</v></v></p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket != null) </p>
<p>​                            for(MapEntry&lt;K,V&gt; iPair : bucket)</p>
<p>​                                   vals.add(iPair.getValue()); </p>
<p>​              }</p>
<p>​              return vals;</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              if(o instanceof SimpleHashMap23) {</p>
<p>​                     if(this.entrySet().equals(((SimpleHashMap23)o).entrySet()))</p>
<p>​                            return true;</p>
<p>​              }</p>
<p>​              return false;</p>
<p>​       }</p>
<p>​       public int hashCode() {</p>
<p>​              return this.entrySet().hashCode();</p>
<p>​       }      </p>
<p>​       public V remove(Object o) {</p>
<p>​              V v = null;</p>
<p>​              if(this.get(o) != null) {</p>
<p>​                     int index = Math.abs(o.hashCode()) % SIZE;</p>
<p>​                     for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                            if(iPair.getKey().equals(o)) {</p>
<p>​                                   v = iPair.getValue();</p>
<p>​                                   int i =</p>
<p>​                                   buckets[index].indexOf(iPair);</p>
<p>​                                   buckets[index].remove(i);</p>
<p>​                                   break;            </p>
<p>​                            }</p>
<p>​              }</p>
<p>​              return v;         </p>
<p>​       }</p>
<p>​       private class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {</p>
<p>​              public int size() { return SimpleHashMap23.this.size(); }</p>
<p>​              public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {</p>
<p>​                     return new Iterator&lt;Map.Entry&lt;K,V&gt;&gt;() {</p>
<p>​                            private int index = -1;</p>
<p>​                            public boolean hasNext() {</p>
<p>​                                   return index &lt; SimpleHashMap23.this.size() - 1; </p>
<p>​                            }</p>
<p>​                            @SuppressWarnings(“unchecked”)</p>
<p>​                            public Map.Entry&lt;K,V&gt; next() {</p>
<p>​                                   int i = ++index;</p>
<p>​                                   for(int j = 0; j &lt; SIZE; j++) {</p>
<p>​                                          if((start(j) &lt;= index) &amp;&amp; (index &lt; end(j)))</p>
<p>​                                                 return new MapEntry(</p>
<p>​                                                 buckets[j].get(index - start(j)).getKey(),</p>
<p>​                                                 buckets[j].get(index - start(j)).getValue());  </p>
<p>​                                   }</p>
<p>​                                   return null;                                        </p>
<p>​                            }</p>
<p>​                            public void remove() {</p>
<p>​                                   for(int j = 0; j &lt; SIZE; j++)</p>
<p>​                                          if(start(j) &lt;= index &amp;&amp; index &lt; end(j))</p>
<p>​                                                 buckets[j].remove(index - start(j));</p>
<p>​                                   index–;                </p>
<p>​                            }                           </p>
<p>​                     };</p>
<p>​              }</p>
<p>​       }      </p>
<p>​       private class KeySet extends AbstractSet<k> {</k></p>
<p>​              public int size() { return SimpleHashMap23.this.size(); }</p>
<p>​              public Iterator<k> iterator() {</k></p>
<p>​                     return new Iterator<k>() {</k></p>
<p>​                            private int index = -1;</p>
<p>​                            public boolean hasNext() {</p>
<p>​                                   return index &lt; SimpleHashMap23.this.size() - 1; </p>
<p>​                            }</p>
<p>​                            public K next() {</p>
<p>​                                   int i = ++index;</p>
<p>​                                   for(int j = 0; j &lt; SIZE; j++) {</p>
<p>​                                          if((start(j) &lt;= index) &amp;&amp; (index &lt; end(j)))</p>
<p>​                                                 return buckets[j].get(index - start(j)).getKey();</p>
<p>​                                   }</p>
<p>​                                   return null;    </p>
<p>​                            }</p>
<p>​                            public void remove() {</p>
<p>​                                   for(int j = 0; j &lt; SIZE; j++)</p>
<p>​                                          if(start(j) &lt;= index &amp;&amp; index &lt; end(j))</p>
<p>​                                                 buckets[j].remove(index - start(j));</p>
<p>​                                   index–;                </p>
<p>​                            }</p>
<p>​                     };</p>
<p>​              }</p>
<p>​       } </p>
<p>​       public String toString() {</p>
<p>​              return this.entrySet().toString();</p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap23&lt;String,String&gt; map =</p>
<p>​                     new SimpleHashMap23&lt;String,String&gt;();</p>
<p>​              map.putAll(Countries.capitals(3));</p>
<p>​              print(“map = “ + map);</p>
<p>​              print(“map.entrySet(): “ + map.entrySet());</p>
<p>​              print(“map.keySet(): “ + map.keySet());</p>
<p>​              print(“map.values() = “ + map.values());</p>
<p>​              print(“map.isEmpty(): “ + map.isEmpty());</p>
<p>​              print(“map.containsKey(&quot;ALGERIA&quot;): “ + map.containsKey(“ALGERIA”));</p>
<p>​              print(“map.containsValue(&quot;Algiers&quot;): “ + map.containsValue(“Algiers”));</p>
<p>​              print(“map.get(&quot;ALGERIA&quot;): “ + map.get(“ALGERIA”));</p>
<p>​              print(“map.remove(&quot;ALGERIA&quot;): “ + map.remove(“ALGERIA”));</p>
<p>​              print(“After map.remove(&quot;ALGERIA&quot;), map.containsKey(&quot;ALGERIA&quot;): “ +</p>
<p>​                     map.containsKey(“ALGERIA”));</p>
<p>​              print(“ and map.get(&quot;ALGERIA&quot;): “ + map.get(“ALGERIA”));</p>
<p>​              print(“ and map: = “ + map);      </p>
<p>​              map.clear();</p>
<p>​              print(“After map.clear(), map = “ + map);</p>
<p>​              print(“ and map.isEmpty(): “ + map.isEmpty());</p>
<p>​              map.putAll(Countries.capitals(3));</p>
<p>​              print(“After map.putAll(Countries.capitals(3)), map = “ + map);</p>
<p>​              SimpleHashMap23&lt;String,String&gt; map2 = </p>
<p>​                     new SimpleHashMap23&lt;String,String&gt;();</p>
<p>​              map2.putAll(Countries.capitals(4));</p>
<p>​              print(“After map2.putAll(Countries.capitals(4)), map2 = “ + map2);</p>
<p>​              print(“ and map.equals(map2): “ + map.equals(map2));</p>
<p>​              map2.remove(“BOTSWANA”);     </p>
<p>​              print(“After map2.remove(&quot;BOTSWANT&quot;), map.equals(map2): “ + map.equals(map2));</p>
<p>​              map.entrySet().clear();</p>
<p>​              print(“After map.entrySet().clear, map = “ + map);</p>
<p>​              map.putAll(Countries.capitals(3));</p>
<p>​              print(“After map.putAll(Countries.capitals(3)), map = “ + map);</p>
<p>​              map.keySet().clear();</p>
<p>​              print(“After map.keySet().clear(), map = “ + map);                         </p>
<p>​       }</p>
<p>}</p>
<p>public class SimpleHashSet24<e> implements Set<e> {</e></e></p>
<p>​       static final int SIZE = 997;</p>
<p>​       @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList<e>[] buckets = new LinkedList[SIZE];</e></p>
<p>​       public int size() {</p>
<p>​              int result = 0;</p>
<p>​              for(LinkedList bucket : buckets)</p>
<p>​                     if(bucket != null) result += bucket.size();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       public boolean add(E e) {</p>
<p>​              if(this.contains(e)) return false;</p>
<p>​              int index = Math.abs(e.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList<e>();</e></p>
<p>​              buckets[index].add(e);</p>
<p>​              return true;</p>
<p>​       }      </p>
<p>​       public boolean addAll(Collection&lt;? extends E&gt; c) {</p>
<p>​              int start = this.size();</p>
<p>​              for(E e : c) this.add(e);</p>
<p>​              return(this.size() &gt; start);             </p>
<p>​       }      </p>
<p>​       public void clear() {</p>
<p>​              for(LinkedList<e> bucket : buckets)</e></p>
<p>​                     if(bucket != null) bucket.clear();          </p>
<p>​       }</p>
<p>​       public boolean contains(Object o) {</p>
<p>​              int index = Math.abs(o.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return false;</p>
<p>​              for(E e : buckets[index])</p>
<p>​                     if(e.equals(o)) return true;</p>
<p>​              return false;</p>
<p>​       }      </p>
<p>​       public boolean containsAll(Collection&lt;?&gt; c) {</p>
<p>​              int count = 0; </p>
<p>​              for(Object o : c)</p>
<p>​                     if(this.contains(o)) count++;</p>
<p>​              if(count == c.size()) return true;</p>
<p>​              return false;           </p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              if(o instanceof SimpleHashSet24) {</p>
<p>​                     if((this.size() == ((SimpleHashSet24)o).size())) {</p>
<p>​                            int count = 0;</p>
<p>​                            Iterator it = ((SimpleHashSet24)o).iterator();</p>
<p>​                            while(it.hasNext())</p>
<p>​                                   if(this.contains(it.next())) count++;</p>
<p>​                            if(count == this.size()) return true;</p>
<p>​                     }                                  </p>
<p>​              }</p>
<p>​              return false;           </p>
<p>​       }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = 0;</p>
<p>​              for(LinkedList<e> bucket : buckets)</e></p>
<p>​                     if(bucket != null)</p>
<p>​                            for(E e : bucket) </p>
<p>​                                   if(e != null) result += e.hashCode();   </p>
<p>​              return result;</p>
<p>​       }      </p>
<p>​       public boolean isEmpty() {</p>
<p>​              return(this.size() == 0);</p>
<p>​       }</p>
<p>​             private int firstNonEmptyBucket() {</p>
<p>​              if(buckets.length &lt; 1) return -1;</p>
<p>​              for(int j = 0; j &lt; buckets.length; j++) </p>
<p>​                     if(buckets[j] != null) return j;</p>
<p>​              return -1;              </p>
<p>​       }</p>
<p>​       private int start(int i) {</p>
<p>​              int first = this.firstNonEmptyBucket();</p>
<p>​              if(i &lt; first) return -1;</p>
<p>​              if(i == first) return 0;</p>
<p>​              int result = 0;</p>
<p>​              for(int j = first; j &lt; i; j++) </p>
<p>​                     if(buckets[j] != null) result += buckets[j].size();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       private int end(int i) {</p>
<p>​              int first = this.firstNonEmptyBucket();</p>
<p>​              if(i &lt; first) return -1;</p>
<p>​              return start(i) + ((buckets[i] == null) ? 0 : buckets[i].size()); </p>
<p>​       }</p>
<p>​       public Iterator<e> iterator() {</e></p>
<p>​              return new Iterator<e>() {</e></p>
<p>​                     private int index = -1;</p>
<p>​                     public boolean hasNext() {</p>
<p>​                            return index &lt; SimpleHashSet24.this.size() - 1; </p>
<p>​                     }</p>
<p>​                     public E next() {</p>
<p>​                            int i = ++index;</p>
<p>​                            for(int j = 0; j &lt; SIZE; j++) {</p>
<p>​                                   if((start(j) &lt;= index) &amp;&amp; (index &lt; end(j)))</p>
<p>​                                          return buckets[j].get(index - start(j));</p>
<p>​                            }</p>
<p>​                            return null;    </p>
<p>​                     }</p>
<p>​                     public void remove() {</p>
<p>​                            for(int j = 0; j &lt; SIZE; j++)</p>
<p>​                                   if(start(j) &lt;= index &amp;&amp; index &lt; end(j))</p>
<p>​                                          buckets[j].remove(index - start(j));</p>
<p>​                            index–;                </p>
<p>​                     }</p>
<p>​              };</p>
<p>​       }</p>
<p>​       public boolean remove(Object o) {</p>
<p>​              int index = Math.abs(o.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return false;</p>
<p>​              for(E e : buckets[index]) {</p>
<p>​                     if(e.equals(o)) {</p>
<p>​                            buckets[index].remove(e); </p>
<p>​                            return true;</p>
<p>​                     }</p>
<p>​              }</p>
<p>​              return false;</p>
<p>​       }      </p>
<p>​       public boolean removeAll(Collection&lt;?&gt; c) {</p>
<p>​              int n = this.size();</p>
<p>​              for(Object o : c) this.remove(o);</p>
<p>​              if(n != this.size()) return true;</p>
<p>​              return false;</p>
<p>​       }</p>
<p>​       public boolean retainAll(Collection&lt;?&gt; c) {</p>
<p>​              int n = this.size();</p>
<p>​              for(LinkedList<e> bucket : buckets) {</e></p>
<p>​                     for(E e : bucket) </p>
<p>​                            if(!(c.contains(e))) this.remove(e);</p>
<p>​              }</p>
<p>​              if(n != this.size()) return true;</p>
<p>​              return false;</p>
<p>​       }      </p>
<p>​       public Object[] toArray() {</p>
<p>​              Object[] result = new Object[this.size()];</p>
<p>​              Iterator<e> it = this.iterator();</e></p>
<p>​              for(int i = 0; i &lt; this.size(); i++) </p>
<p>​                     result[i] = it.next();                     </p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       @SuppressWarnings(“unchecked”)    </p>
<p>​       public <t> T[] toArray(T[] a) {</t></p>
<p>​              Iterator<e> it = this.iterator();</e></p>
<p>​              for(int i = 0; i &lt; this.size(); i++) {</p>
<p>​                     E x = it.next();</p>
<p>​                            try {</p>
<p>​                                  a[i] = (T)x;</p>
<p>​                            } catch(ClassCastException e) {</p>
<p>​                                   throw new RuntimeException(e);</p>
<p>​                            }</p>
<p>​              }</p>
<p>​              return a;</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              if(this.size() == 0) return “[]”;</p>
<p>​              StringBuilder s = new StringBuilder();</p>
<p>​              s.append(“[“);</p>
<p>​              for(LinkedList<e> bucket : buckets) {</e></p>
<p>​                     if(bucket != null)</p>
<p>​                            for(E e : bucket) </p>
<p>​                                   s.append(String.valueOf(e) + “ “);                            </p>
<p>​              }             </p>
<p>​              s.replace(s.length() - 1, s.length(), “]”);</p>
<p>​              return s.toString();</p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashSet24<string> shs = new SimpleHashSet24<string>();</string></string></p>
<p>​              print(“New empty SimpleHashSet24, shs = “ + shs);</p>
<p>​              shs.add(“hi”);</p>
<p>​              shs.add(“there”);</p>
<p>​              print(“After shs.add(&quot;hi&quot;) and shs.add(&quot;there&quot;), shs = “ + shs);                </p>
<p>​              List<string> list = Arrays.asList(“you”, “cutie”, “pie”);</string></p>
<p>​              shs.addAll(list);</p>
<p>​              print(“After shs.addAll(list) (you, cutie, pie), shs = “ + shs);</p>
<p>​              print(“shs.size() = “ + shs.size());</p>
<p>​              print(“shs.contains(&quot;you&quot;): “ + shs.contains(“you”));</p>
<p>​              print(“shs.contains(&quot;me&quot;): “ + shs.contains(“me”)); </p>
<p>​              print(“shs.containsAll(list): “ + shs.containsAll(list));</p>
<p>​              SimpleHashSet24<string> shs2 = new SimpleHashSet24<string>();</string></string></p>
<p>​              print(“New empty shs2 = “ + shs2);           </p>
<p>​              print(“shs.containsAll(list): “ + shs.containsAll(list));</p>
<p>​              print(“shs2.containAll(list): “ + shs2.containsAll(list));</p>
<p>​              print(“shs.containsAll(shs2): “ + shs.containsAll(shs2));</p>
<p>​              print(“shs2.containAll(shs2): “ + shs2.containsAll(shs2));</p>
<p>​              shs2.add(“you”);</p>
<p>​              shs2.add(“cutie”);</p>
<p>​              print(“After shs2.add(&quot;you&quot;), shs2.add(&quot;cutie&quot;), shs2 = “ + shs2);</p>
<p>​              shs.removeAll(shs2);</p>
<p>​              print(“After shs.removeAll(shs2), shs = “ + shs);</p>
<p>​              print(“shs.hashCode() = “ + shs.hashCode());</p>
<p>​              print(“shs2 = “ + shs2);</p>
<p>​              print(“shs2.isEmpty(): “ + shs2.isEmpty());</p>
<p>​              shs2.clear();</p>
<p>​              print(“After shs2.clear(), shs2.isEmpty(): “ + shs2.isEmpty());</p>
<p>​              List<string> list2 = Arrays.asList(“hi”, “there”, “pie”);</string></p>
<p>​              shs2.addAll(list2);</p>
<p>​              print(“After shs2.addAll(list2) (hi, there, pie), shs2 = “ + shs2);</p>
<p>​              print(“shs.equals(shs2): “ + shs.equals(shs2));</p>
<p>​              String[] sa = new String[3];</p>
<p>​              shs.toArray(sa);</p>
<p>​              printnb(“After String[] sa = new String[3], shs.toArray(sa), sa holds: “); </p>
<p>​              for(int i = 0; i &lt; sa.length; i++) printnb(sa[i] + “ “ );</p>
<p>​       }</p>
<p>}</p>
<p>public class SimpleHashMap25&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​       class MapEntry25&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {</p>
<p>​              private K key;</p>
<p>​              private V value;</p>
<p>​              private MapEntry25&lt;K,V&gt; nextEntry = null;</p>
<p>​              public MapEntry25(K key, V value) {</p>
<p>​                     this.key = key;</p>
<p>​                     this.value = value;</p>
<p>​              }</p>
<p>​              public K getKey() { return key; }</p>
<p>​              public V getValue() { return value; }</p>
<p>​              public V setValue(V v) {</p>
<p>​                     V result = value;</p>
<p>​                     value = v;</p>
<p>​                     return result;</p>
<p>​              }</p>
<p>​              public MapEntry25&lt;K,V&gt; getNextEntry() {</p>
<p>​                     return this.nextEntry;</p>
<p>​              }</p>
<p>​              public void setNextEntry(MapEntry25&lt;K,V&gt; nextEntry) {</p>
<p>​                     this.nextEntry = nextEntry;</p>
<p>​              }</p>
<p>​              public int hashCode() {</p>
<p>​                     return (key == null ? 0 : key.hashCode()) ^</p>
<p>​                            (value == null ? 0 : value.hashCode());</p>
<p>​              }</p>
<p>​              public boolean equals(Object o) {</p>
<p>​                     if(!(o instanceof MapEntry25)) return false;</p>
<p>​                     MapEntry25 me = (MapEntry25)o;</p>
<p>​                     return </p>
<p>​                            (key == null ?</p>
<p>​                            me.getKey() == null : key.equals(me.getKey())) &amp;&amp;</p>
<p>​                            (value == null ?</p>
<p>​                            me.getValue() == null : value.equals(me.getValue()));</p>
<p>​              }</p>
<p>​              public String toString() { return key + “=” + value; }</p>
<p>​       }</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList&lt;MapEntry25&lt;K,V&gt;&gt;[] buckets =</p>
<p>​              new LinkedList[SIZE];</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              MapEntry25&lt;K,V&gt; pair = new MapEntry25&lt;K,V&gt;(key, value);</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) {</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry25&lt;K,V&gt;&gt;();</p>
<p>​                     LinkedList&lt;MapEntry25&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​                     bucket.add(pair);</p>
<p>​              }</p>
<p>​              LinkedList&lt;MapEntry25&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              if(buckets[index].size() &gt; 0) {</p>
<p>​                     for(MapEntry25&lt;K,V&gt; entry = bucket.get(0); entry != null; </p>
<p>​                     entry = entry.getNextEntry()) {</p>
<p>​                            if(entry.getKey().equals(key)) {</p>
<p>​                            oldValue = entry.getValue();</p>
<p>​                            entry.setValue(value);</p>
<p>​                            return oldValue;</p>
<p>​                            }</p>
<p>​                            }</p>
<p>​                     bucket.add(pair);</p>
<p>​                     int i = bucket.indexOf(pair); </p>
<p>​                     if(i &gt; 0) bucket.get(i - 1).setNextEntry(pair);</p>
<p>​                     return pair.getValue();   </p>
<p>​              }</p>
<p>​              return oldValue;    </p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry25&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(LinkedList&lt;MapEntry25&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry25&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap25&lt;String,String&gt; m =</p>
<p>​                     new SimpleHashMap25&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(5));</p>
<p>​              System.out.println(m);</p>
<p>​              System.out.println(m.put(“BENIN”,”New York?”));            </p>
<p>​              System.out.println(m.put(“BENIN”,”Porto-Novo”));</p>
<p>​              System.out.println(m.get(“BENIN”));</p>
<p>​              System.out.println(m.entrySet());</p>
<p>​       }</p>
<p>}</p>
<p>public class CountedString26 {</p>
<p>​       private static List<string> created =</string></p>
<p>​              new ArrayList<string>();</string></p>
<p>​       private String s;</p>
<p>​       private int id = 0;</p>
<p>​       private char c;</p>
<p>​       public CountedString26(String str, char ch) {</p>
<p>​              s = str;</p>
<p>​              c = ch;</p>
<p>​              created.add(s);</p>
<p>​              for(String s2 : created)</p>
<p>​                     if(s2.equals(s)) id++;</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return “String: “ + s + “ id: “ + id + “, c: “ + c  +</p>
<p>​                     “, hashCode(): “ + hashCode();</p>
<p>​       }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = 17;</p>
<p>​              result = 37 * result + s.hashCode();</p>
<p>​              result = 37 * result + id;</p>
<p>​              result = 37 * result + c;</p>
<p>​              return result;</p>
<p>​       }      </p>
<p>​       public boolean equals(Object o) {</p>
<p>​              return o instanceof CountedString26 &amp;&amp;</p>
<p>​                     s.equals(((CountedString26)o).s) &amp;&amp;</p>
<p>​                     id == ((CountedString26)o).id &amp;&amp;</p>
<p>​                     c == ((CountedString26)o).c;</p>
<p>​              }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;CountedString26,Integer&gt; map =</p>
<p>​                     new HashMap&lt;CountedString26,Integer&gt;();</p>
<p>​              CountedString26[] cs = new CountedString26[5];</p>
<p>​              for(int i = 0; i &lt; cs.length; i++) {</p>
<p>​                     cs[i] = new CountedString26(“hi”, ‘x’);</p>
<p>​                     map.put(cs[i], i);          }</p>
<p>​              print(map);</p>
<p>​              for(CountedString26 cstring : cs) {</p>
<p>​                     print(“Looking up “ + cstring);</p>
<p>​                     print(map.get(cstring));</p>
<p>​              }      </p>
<p>​              </p>
<p>​       }</p>
<p>}</p>
<p>public class CountedString27 {</p>
<p>​       private static List<string> created = </string></p>
<p>​              new ArrayList<string>();</string></p>
<p>​       private String s;</p>
<p>​       private int id = 0;</p>
<p>​       public CountedString27(String str) { </p>
<p>​              s = str;</p>
<p>​              created.add(s);</p>
<p>​                                        for(String s2: created)</p>
<p>​                     if(s2.equals(s)) id++;</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return “String: “ + s + “ id: “ + id +</p>
<p>​                     “ hashCode(): “ + hashCode();</p>
<p>​       }      </p>
<p>​       public int hashCode() {</p>
<p>​              int result = 17;</p>
<p>​              result = 37 * result + s.hashCode();</p>
<p>​                           return result;</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              return o instanceof CountedString27 &amp;&amp;</p>
<p>​                     s.equals(((CountedString27)o).s) &amp;&amp;</p>
<p>​                     id == ((CountedString27)o).id;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Map&lt;CountedString27,Integer&gt; map =</p>
<p>​                     new HashMap&lt;CountedString27,Integer&gt;();</p>
<p>​              CountedString27[] cs = new CountedString27[5];</p>
<p>​              for(int i = 0; i &lt; cs.length; i++) {</p>
<p>​                     cs[i] = new CountedString27(“hi”);</p>
<p>​                     map.put(cs[i], i);          }</p>
<p>​              print(map);</p>
<p>​                           for(CountedString27 cstring : cs) {</p>
<p>​                     print(“Looking up “ + cstring);</p>
<p>​                     print(map.get(cstring));</p>
<p>​              }      </p>
<p>​       }</p>
<p>}</p>
<p>class TwoTuple28&lt;A,B&gt; implements Comparable {</p>
<p>​      public final A first;</p>
<p>​      public final B second;</p>
<p>​      public TwoTuple28(A a, B b) { first = a; second = b; }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = 17;</p>
<p>​              result = result * 37 + first.hashCode();</p>
<p>​              result = result * 37 + second.hashCode();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              return o instanceof TwoTuple28 &amp;&amp;</p>
<p>​              ((TwoTuple28)o).first.equals(first) &amp;&amp;</p>
<p>​              ((TwoTuple28)o).second.equals(second); </p>
<p>​       }</p>
<p>​       public int compareTo(Object o) {</p>
<p>​              if(!(o instanceof TwoTuple28)) throw new ClassCastException();</p>
<p>​              TwoTuple28 t = (TwoTuple28)o;</p>
<p>​              return (this.hashCode() - t.hashCode() &lt; 0) ? -1 : </p>
<p>​              ((this.hashCode() - t.hashCode() &gt; 0 ? 1 : 0));</p>
<p>​       }</p>
<p>​      public String toString() {</p>
<p>​        return “(“ + first + “, “ + second + “)”;</p>
<p>​      }</p>
<p>} </p>
<p>class ThreeTuple28&lt;A,B,C&gt; extends TwoTuple28&lt;A,B&gt; </p>
<p>implements Comparable {</p>
<p>​      public final C third;</p>
<p>​      public ThreeTuple28(A a, B b, C c) {</p>
<p>​             super(a, b);</p>
<p>​                  third = c;</p>
<p>​      }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = super.hashCode();</p>
<p>​              result = result * 37 + third.hashCode();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              return o instanceof ThreeTuple28 &amp;&amp;</p>
<p>​              ((ThreeTuple28)o).first.equals(first) &amp;&amp;</p>
<p>​              ((ThreeTuple28)o).second.equals(second) &amp;&amp;</p>
<p>​              ((ThreeTuple28)o).third.equals(third); </p>
<p>​       }</p>
<p>​       public int compareTo(Object o) {</p>
<p>​              if(!(o instanceof ThreeTuple28)) throw new ClassCastException();</p>
<p>​              ThreeTuple28 t = (ThreeTuple28)o;</p>
<p>​              return (this.hashCode() - t.hashCode() &lt; 0) ? -1 : </p>
<p>​              ((this.hashCode() - t.hashCode() &gt; 0 ? 1 : 0));</p>
<p>​       }</p>
<p>​      public String toString() {</p>
<p>​             return “(“ + first + “, “ + second + “, “ + third +”)”;</p>
<p>​      }</p>
<p>} </p>
<p>class FourTuple28&lt;A,B,C,D&gt; extends ThreeTuple28&lt;A,B,C&gt; </p>
<p>implements Comparable {</p>
<p>​      public final D fourth;</p>
<p>​      public FourTuple28(A a, B b, C c, D d) {</p>
<p>​                  super(a, b, c);</p>
<p>​                  fourth = d;</p>
<p>​      }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = super.hashCode();</p>
<p>​              result = result * 37 + fourth.hashCode();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              return o instanceof FourTuple28 &amp;&amp;</p>
<p>​              ((FourTuple28)o).first.equals(first) &amp;&amp;</p>
<p>​              ((FourTuple28)o).second.equals(second) &amp;&amp;</p>
<p>​              ((FourTuple28)o).third.equals(third) &amp;&amp;</p>
<p>​              ((FourTuple28)o).fourth.equals(fourth);</p>
<p>​       }</p>
<p>​       public int compareTo(Object o) {</p>
<p>​              if(!(o instanceof FourTuple28)) throw new ClassCastException();</p>
<p>​              FourTuple28 t = (FourTuple28)o;</p>
<p>​              return (this.hashCode() - t.hashCode() &lt; 0) ? -1 : </p>
<p>​              ((this.hashCode() - t.hashCode() &gt; 0 ? 1 : 0));</p>
<p>​       }</p>
<p>​      public String toString() {</p>
<p>​                  return “(“ + first + “, “ + second + “, “ +</p>
<p>​                 third + “, “ + fourth + “)”;</p>
<p>​      }</p>
<p>} </p>
<p>class FiveTuple28&lt;A,B,C,D,E&gt;</p>
<p>extends FourTuple28&lt;A,B,C,D&gt; </p>
<p>implements Comparable {</p>
<p>​      public final E fifth;</p>
<p>​      public FiveTuple28(A a, B b, C c, D d, E e) {</p>
<p>​                  super(a, b, c, d);</p>
<p>​                  fifth = e;</p>
<p>​      }</p>
<p>​       public int hashCode() {</p>
<p>​              int result = super.hashCode();</p>
<p>​              result = result * 37 + fifth.hashCode();</p>
<p>​              return result;</p>
<p>​       }</p>
<p>​       public boolean equals(Object o) {</p>
<p>​              return o instanceof FiveTuple28 &amp;&amp;</p>
<p>​              ((FiveTuple28)o).first.equals(first) &amp;&amp;</p>
<p>​              ((FiveTuple28)o).second.equals(second) &amp;&amp;</p>
<p>​              ((FiveTuple28)o).third.equals(third) &amp;&amp;</p>
<p>​              ((FiveTuple28)o).fourth.equals(fourth) &amp;&amp;</p>
<p>​              ((FiveTuple28)o).fifth.equals(fifth);</p>
<p>​       }</p>
<p>​       public int compareTo(Object o) {</p>
<p>​              if(!(o instanceof FiveTuple28)) throw new ClassCastException();</p>
<p>​              FiveTuple28 t = (FiveTuple28)o;</p>
<p>​              return (this.hashCode() - t.hashCode() &lt; 0) ? -1 : </p>
<p>​              ((this.hashCode() - t.hashCode() &gt; 0 ? 1 : 0));</p>
<p>​       }</p>
<p>​      public String toString() {</p>
<p>​                  return “(“ + first + “, “ + second + “, “ +</p>
<p>​                 third + “, “ + fourth + “, “ + fifth + “)”;</p>
<p>​      }</p>
<p>} </p>
<p>class Tuple28 {</p>
<p>​      public static &lt;A,B&gt; TwoTuple28&lt;A,B&gt; tuple(A a, B b) {</p>
<p>​                  return new TwoTuple28&lt;A,B&gt;(a, b);</p>
<p>​      }</p>
<p>​      public static &lt;A,B,C&gt; ThreeTuple28&lt;A,B,C&gt;</p>
<p>​      tuple28(A a, B b, C c) {</p>
<p>​                  return new ThreeTuple28&lt;A,B,C&gt;(a, b, c);</p>
<p>​      }</p>
<p>​      public static &lt;A,B,C,D&gt; FourTuple28&lt;A,B,C,D&gt;</p>
<p>​      tuple(A a, B b, C c, D d) {</p>
<p>​                  return new FourTuple28&lt;A,B,C,D&gt;(a, b, c, d);</p>
<p>​      }</p>
<p>​      public static &lt;A,B,C,D,E&gt;</p>
<p>​      FiveTuple28&lt;A,B,C,D,E&gt; tuple(A a, B b, C c, D d, E e) {</p>
<p>​                  return new FiveTuple28&lt;A,B,C,D,E&gt;(a, b, c, d, e);</p>
<p>​      }</p>
<p>} </p>
<p>public class Tuple28Test {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Tuple28 t = new Tuple28();</p>
<p>​              FiveTuple28 t1b = t.tuple(1,1,1,1,1);</p>
<p>​              FiveTuple28 t2b = t.tuple(1,1,1,2,1);</p>
<p>​              FiveTuple28 t3b = t.tuple(1,1,1,1,1);</p>
<p>​              FiveTuple28 t4b = t.tuple(1,1,1,1,0);</p>
<p>​              print(t1b.compareTo(t1b));</p>
<p>​              print(t1b.compareTo(t2b));</p>
<p>​              print(t1b.compareTo(t3b));</p>
<p>​              print(t1b.compareTo(t4b));</p>
<p>​              List<fivetuple28> list = </fivetuple28></p>
<p>​                     new ArrayList<fivetuple28>(Arrays.asList(t1b,t2b,t3b,t4b));</fivetuple28></p>
<p>​              Set<fivetuple28> s = new TreeSet<fivetuple28>();</fivetuple28></fivetuple28></p>
<p>​              s.addAll(list);</p>
<p>​              print(s);                 </p>
<p>​       }</p>
<p>}</p>
<p>public class ListPerformance29 {</p>
<p>​       static RandomGenerator.String randString = new RandomGenerator.String();</p>
<p>​       static Random rand = new Random();</p>
<p>​       static int reps = 1000;</p>
<p>​       static List&lt;Test&lt;List<string>&gt;&gt; tests =</string></p>
<p>​              new ArrayList&lt;Test&lt;List<string>&gt;&gt;();</string></p>
<p>​       static List&lt;Test&lt;LinkedList<string>&gt;&gt; qTests =</string></p>
<p>​              new ArrayList&lt;Test&lt;LinkedList<string>&gt;&gt;();</string></p>
<p>​       static {</p>
<p>​              tests.add(new Test&lt;List<string>&gt;(“add”) {</string></p>
<p>​                     int test(List<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int listSize = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   for(int j = 0; j &lt; listSize; j++)</p>
<p>​                                          list.add(randString.next());</p>
<p>​                            }</p>
<p>​                            return loops * listSize;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;List<string>&gt;(“get”) {</string></p>
<p>​                     int test(List<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops * reps;</p>
<p>​                            int listSize = list.size();</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   list.get(rand.nextInt(listSize));</p>
<p>​                            return loops;</p>
<p>​                     }      </p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;List<string>&gt;(“set”) {</string></p>
<p>​                     int test(List<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops * reps;</p>
<p>​                            int listSize = list.size();</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   list.set(rand.nextInt(listSize), “hi”);</p>
<p>​                            return loops;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;List<string>&gt;(“iteradd”) {</string></p>
<p>​                     int test(List<string> list, TestParam tp) {</string></p>
<p>​                            final int LOOPS = 1000000;</p>
<p>​                            int half = list.size()                            ListIterator<string> it = list.listIterator(half);</string></p>
<p>​                            for(int i = 0; i &lt; LOOPS; i++)</p>
<p>​                                   it.add(“hi”);</p>
<p>​                            return LOOPS;</p>
<p>​                     }      </p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;List<string>&gt;(“insert”) {</string></p>
<p>​                     int test(List<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   list.add(5, “hi”);                         return loops;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;List<string>&gt;(“remove”) {</string></p>
<p>​                     int test(List<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   list.addAll(Arrays.asList(Generated.array(String.class, </p>
<p>​                                          new CountingGenerator.String(), size)));</p>
<p>​                                   while(list.size() &gt; 5)</p>
<p>​                                          list.remove(5);                           } </p>
<p>​                            return loops * size;              </p>
<p>​                     }</p>
<p>​              });</p>
<p>​                           qTests.add(new Test&lt;LinkedList<string>&gt;(“addFirst”) {</string></p>
<p>​                     int test(LinkedList<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++)</p>
<p>​                                          list.addFirst(“hi”);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              qTests.add(new Test&lt;LinkedList<string>&gt;(“addLast”) {</string></p>
<p>​                     int test(LinkedList<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++)</p>
<p>​                                          list.addLast(“hi”);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              qTests.add(new Test&lt;LinkedList<string>&gt;(“rmFirst”) {</string></p>
<p>​                     int test(LinkedList<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   list.addAll(Arrays.asList(Generated.array(String.class, </p>
<p>​                                          new CountingGenerator.String(), size)));</p>
<p>​                                   while(list.size() &gt; 0)</p>
<p>​                                          list.removeFirst();</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              qTests.add(new Test&lt;LinkedList<string>&gt;(“rmLast”) {</string></p>
<p>​                     int test(LinkedList<string> list, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   list.addAll(Arrays.asList(Generated.array(String.class, </p>
<p>​                                          new CountingGenerator.String(), size)));</p>
<p>​                                   while(list.size() &gt; 0)</p>
<p>​                                          list.removeLast();</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​       }</p>
<p>​       static class ListTester extends Tester&lt;List<string>&gt; {</string></p>
<p>​              public ListTester(List<string> container, List&lt;Test&lt;List<string>&gt;&gt; tests) {</string></string></p>
<p>​                     super(container, tests);</p>
<p>​              }</p>
<p>​                           @Override protected List<string> initialize(int size) {</string></p>
<p>​                     container.clear();</p>
<p>​                     container.addAll(Arrays.asList(Generated.array(String.class, </p>
<p>​                                          new CountingGenerator.String(), size)));</p>
<p>​                     return container;</p>
<p>​              }</p>
<p>​                           public static void run(List<string> list, List&lt;Test&lt;List<string>&gt;&gt; tests) {</string></string></p>
<p>​                     new ListTester(list, tests).timedTest();</p>
<p>​              }</p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​                           Tester&lt;List<string>&gt; arrayTest = </string></p>
<p>​                     new Tester&lt;List<string>&gt;(null, tests.subList(1, 3)) {</string></p>
<p>​                                                             @Override protected List<string> initialize(int size) {</string></p>
<p>​                            String[] ia = Generated.array(String.class, </p>
<p>​                                   new CountingGenerator.String(), size);</p>
<p>​                            return Arrays.asList(ia);</p>
<p>​                     }</p>
<p>​              };</p>
<p>​              arrayTest.setHeadline(“Array as List”);</p>
<p>​              arrayTest.timedTest();</p>
<p>​              Tester.defaultParams = TestParam.array(</p>
<p>​                     10, 5000, 100, 5000, 1000, 1000, 10000, 200);</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              ListTester.run(new ArrayList<string>(), tests);</string></p>
<p>​              ListTester.run(new LinkedList<string>(), tests);</string></p>
<p>​              ListTester.run(new Vector<string>(), tests);</string></p>
<p>​              Tester.fieldWidth = 12;</p>
<p>​              Tester&lt;LinkedList<string>&gt; qTest = new Tester&lt;LinkedList<string>&gt;(</string></string></p>
<p>​                     new LinkedList<string>(), qTests);</string></p>
<p>​              qTest.setHeadline(“Queue tests”);</p>
<p>​              qTest.timedTest();  </p>
<p>​       }</p>
<p>} </p>
<p>public class Ex30Tests {</p>
<p>​       static Random rand = new Random();</p>
<p>​       public static ArrayList<integer> createFullArrayList(int size) {</integer></p>
<p>​              ArrayList<integer> list = new ArrayList<integer>();</integer></integer></p>
<p>​              for(int i = 0; i &lt; size; i++) list.add(rand.nextInt(size));</p>
<p>​              return list;</p>
<p>​       }</p>
<p>​       public static LinkedList<integer> createFullLinkedList(int size) {</integer></p>
<p>​              LinkedList<integer> list = new LinkedList<integer>();</integer></integer></p>
<p>​              for(int i = 0; i &lt; size; i++) list.add(rand.nextInt(size));</p>
<p>​              return list;</p>
<p>​       }</p>
<p>​       public static long meanSortTimeLinkedList(int size, int reps) {</p>
<p>​              long time = 0;</p>
<p>​              for(int i = 0; i &lt; reps; i++) {</p>
<p>​                     LinkedList<integer> lList = createFullLinkedList(size);</integer></p>
<p>​                     long sortTime = timedLinkedListSort(lList); </p>
<p>​                     time += sortTime;</p>
<p>​              }</p>
<p>​              return time    }</p>
<p>​       public static long meanSortTimeArrayList(int size, int reps) {</p>
<p>​              long time = 0;</p>
<p>​              for(int i = 0; i &lt; reps; i++) {</p>
<p>​                     ArrayList<integer> aList = createFullArrayList(size);</integer></p>
<p>​                     long sortTime = timedArrayListSort(aList); </p>
<p>​                     time += sortTime;</p>
<p>​              }</p>
<p>​              return time    }      </p>
<p>​       public static long timedArrayListSort(ArrayList<integer> list) {</integer></p>
<p>​                     long start = System.nanoTime();</p>
<p>​                     Collections.sort(list);</p>
<p>​                     long stop = System.nanoTime();</p>
<p>​                     return stop - start;  </p>
<p>​       }</p>
<p>​       public static long timedLinkedListSort(LinkedList<integer> list) {</integer></p>
<p>​                     long start = System.nanoTime();</p>
<p>​                     Collections.sort(list);</p>
<p>​                     long stop = System.nanoTime();</p>
<p>​                     return stop - start;  </p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              print(“Collections.sort() times (nanosecs):”);             </p>
<p>​              print();</p>
<p>​              print(“Means of 10000 sorts:”);</p>
<p>​              print();</p>
<p>​              print(“Lists of 10 elements:”);</p>
<p>​              print(“LinkedList: “ + meanSortTimeLinkedList(10,10000));</p>
<p>​              print(“ArrayList:  “ + meanSortTimeArrayList(10,10000));</p>
<p>​              print();</p>
<p>​              print(“Lists of 100 elements:”);</p>
<p>​              print(“LinkedList: “ + meanSortTimeLinkedList(100,10000));</p>
<p>​              print(“ArrayList:  “ + meanSortTimeArrayList(100,10000));</p>
<p>​              print();</p>
<p>​              print(“Means of 1000 sorts:”);</p>
<p>​              print();</p>
<p>​              print(“Lists of 1000 elements:”);</p>
<p>​              print(“LinkedList: “ + meanSortTimeLinkedList(1000,1000));</p>
<p>​              print(“ArrayList:  “ + meanSortTimeArrayList(1000,1000));</p>
<p>​       }</p>
<p>}</p>
<p>class StringsHolder {</p>
<p>​       private int size = 0;</p>
<p>​       private String[] sArray = new String[size];</p>
<p>​                   public void add(String s) { </p>
<p>​              size += 1;</p>
<p>​              String[] temp = new String[size];</p>
<p>​              for(int i = 0; i &lt; sArray.length; i++) temp[i] = sArray[i];</p>
<p>​              temp[size - 1] = s;</p>
<p>​              sArray = temp;</p>
<p>​       }</p>
<p>​             public String get(int i) {</p>
<p>​              if(-1 &lt; i &amp;&amp; i &lt; size) return sArray[i];</p>
<p>​              else throw new ArrayIndexOutOfBoundsException(i);</p>
<p>​       }      </p>
<p>​       public String toString() {</p>
<p>​              StringBuilder sb = new StringBuilder();</p>
<p>​              for(int i = 0; i &lt; sArray.length; i++) sb.append((sArray[i] + “ “));</p>
<p>​              return sb.toString();             </p>
<p>​       }      </p>
<p>}</p>
<p> class StringsHolder2 { </p>
<p>​       private int size = 1000;</p>
<p>​       private int index = 0;</p>
<p>​       private String[] sArray = new String[size];</p>
<p>​             public void add(String s) {</p>
<p>​              if(index &lt; size) sArray[index++] = s;</p>
<p>​       }</p>
<p>​             public String get(int i) {</p>
<p>​              if(-1 &lt; i &amp;&amp; i &lt; size) return sArray[i];</p>
<p>​              else throw new ArrayIndexOutOfBoundsException(i);</p>
<p>​       }      </p>
<p>​       public String toString() {</p>
<p>​              StringBuilder sb = new StringBuilder();</p>
<p>​              for(int i = 0; i &lt; sArray.length; i++) sb.append((sArray[i] + “ “));</p>
<p>​              return sb.toString();             </p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex31 {</p>
<p>​       static long addTimeTest(StringsHolder sh, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) sh.add(“hi”);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long addTimeTest(ArrayList<string> list, int reps) {</string></p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) list.add(“hi”);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long getTimeTest(StringsHolder sh, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) sh.get(i);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long getTimeTest(ArrayList<string> list, int reps) {</string></p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) list.get(i);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long addTimeTest(StringsHolder2 sh, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) sh.add(“hi”);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long getTimeTest(StringsHolder2 sh, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) sh.get(i);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       public static void main(String[] args) {       </p>
<p>​              ArrayList<string> list = new ArrayList<string>();</string></string></p>
<p>​              StringsHolder sh = new StringsHolder();</p>
<p>​              print(“Add times (nanoseconds):”);</p>
<p>​              print(“Mean of 1000:”);  </p>
<p>​              print(“ArrayList add(): “ + addTimeTest(list, 1000));</p>
<p>​              print(“StringsHolder add(): “ + addTimeTest(sh, 1000));</p>
<p>​              print(“Mean of 10000:”);       </p>
<p>​              print(“ArrayList add(): “ + addTimeTest(list, 10000));</p>
<p>​              print(“StringsHolder add(): “ + addTimeTest(sh, 10000));</p>
<p>​              print();</p>
<p>​              print(“Get times (nanoseconds):”);</p>
<p>​              print(“Mean of 10000:”);</p>
<p>​              print(“ArrayList get(): “ + getTimeTest(list, 10000));</p>
<p>​              print(“StringsHolder get(): “ + getTimeTest(sh, 10000));</p>
<p>​              print();</p>
<p>​              print(“Using alternate fixed size (1000) StringsHolder2”);</p>
<p>​              print(“eliminates resizing and copying:”);</p>
<p>​              ArrayList<string> list2 = new ArrayList<string>();</string></string></p>
<p>​              StringsHolder2 sh2 = new StringsHolder2();</p>
<p>​              print(“Add times (nanoseconds):”);</p>
<p>​              print(“Mean of 1000:”);  </p>
<p>​              print(“ArrayList add(): “ + addTimeTest(list2, 1000));</p>
<p>​              print(“StringsHolder2 add(): “ + addTimeTest(sh2, 1000));</p>
<p>​              print();</p>
<p>​              print(“Get times (nanoseconds):”);</p>
<p>​              print(“Mean of 1000:”);</p>
<p>​              print(“ArrayList get(): “ + getTimeTest(list2, 1000));</p>
<p>​              print(“StringsHolder2 get(): “ + getTimeTest(sh2, 1000));                             </p>
<p>​       }</p>
<p>}</p>
<p>class IntsHolder {</p>
<p>​       private int size = 0;</p>
<p>​       private int[] iArray = new int[size];</p>
<p>​       public int size() { return size; }</p>
<p>​                   public void add(int x) { </p>
<p>​              size += 1;</p>
<p>​              int[] temp = new int[size];</p>
<p>​              for(int i = 0; i &lt; iArray.length; i++) temp[i] = iArray[i];</p>
<p>​              temp[size - 1] = x;</p>
<p>​              iArray = temp;</p>
<p>​       }</p>
<p>​             public int get(int i) {</p>
<p>​              if(-1 &lt; i &amp;&amp; i &lt; size) return iArray[i];</p>
<p>​              else throw new ArrayIndexOutOfBoundsException(i);</p>
<p>​       }</p>
<p>​       public void incrementAll() {</p>
<p>​              for(int i = 0; i &lt; size; i++) iArray[i]++;</p>
<p>​       }      </p>
<p>​       public String toString() {</p>
<p>​              StringBuilder sb = new StringBuilder();</p>
<p>​              for(int i = 0; i &lt; iArray.length; i++) sb.append((iArray[i] + “ “));</p>
<p>​              return sb.toString();             </p>
<p>​       }      </p>
<p>}</p>
<p> class IntsHolder2 { </p>
<p>​       private final int SIZE = 1000;</p>
<p>​       private int index = 0;</p>
<p>​       private int[] iArray = new int[SIZE];</p>
<p>​       public int size() { return SIZE; }</p>
<p>​             public void add(int x) {</p>
<p>​              if(index &lt; SIZE) iArray[index++] = x;</p>
<p>​       }</p>
<p>​             public int get(int i) {</p>
<p>​              if(-1 &lt; i &amp;&amp; i &lt; SIZE) return iArray[i];</p>
<p>​              else throw new ArrayIndexOutOfBoundsException(i);</p>
<p>​       }</p>
<p>​       public void incrementAll() {</p>
<p>​              for(int i = 0; i &lt; SIZE; i++) iArray[i]++;</p>
<p>​       }      </p>
<p>​       public String toString() {</p>
<p>​              StringBuilder sb = new StringBuilder();</p>
<p>​              for(int i = 0; i &lt; iArray.length; i++) sb.append((iArray[i] + “ “));</p>
<p>​              return sb.toString();             </p>
<p>​       }      </p>
<p>}</p>
<p>public class Ex32 {</p>
<p>​       static long addTimeTest(IntsHolder ih, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) ih.add(1);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long addTimeTest(ArrayList<integer> list, int reps) {</integer></p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) list.add(1);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long getTimeTest(IntsHolder ih, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) ih.get(i);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long getTimeTest(ArrayList<integer> list, int reps) {</integer></p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) list.get(i);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long addTimeTest(IntsHolder2 ih, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) ih.add(1);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long getTimeTest(IntsHolder2 ih, int reps) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(int i = 0; i &lt; reps; i++) ih.get(i);</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long incrementTimeTest(IntsHolder ih) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              ih.incrementAll();</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long incrementTimeTest(ArrayList<integer> list) {</integer></p>
<p>​              long start = System.nanoTime();</p>
<p>​              for(Integer i : list) i++;</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       static long incrementTimeTest(IntsHolder2 ih) {</p>
<p>​              long start = System.nanoTime();</p>
<p>​              ih.incrementAll();</p>
<p>​              long stop = System.nanoTime();</p>
<p>​              return (stop - start)     }</p>
<p>​       public static void main(String[] args) {       </p>
<p>​              ArrayList<integer> list = new ArrayList<integer>();</integer></integer></p>
<p>​              IntsHolder ih = new IntsHolder();</p>
<p>​              print(“Add times (nanoseconds):”);</p>
<p>​              print(“Mean of 1000:”);  </p>
<p>​              print(“ArrayList add(): “ + addTimeTest(list, 1000));</p>
<p>​              print(“IntsHolder add(): “ + addTimeTest(ih, 1000));</p>
<p>​              print(“Mean of 10000:”);       </p>
<p>​              print(“ArrayList add(): “ + addTimeTest(list, 10000));</p>
<p>​              print(“IntsHolder add(): “ + addTimeTest(ih, 10000));</p>
<p>​              print();</p>
<p>​              print(“Get times (nanoseconds):”);</p>
<p>​              print(“Mean of 10000:”);</p>
<p>​              print(“ArrayList get(): “ + getTimeTest(list, 10000));</p>
<p>​              print(“IntsHolder get(): “ + getTimeTest(ih, 10000));</p>
<p>​              print();</p>
<p>​              print(“Using alternate fixed size (1000) StringsHolder2”);</p>
<p>​              print(“eliminates resizing and copying:”);</p>
<p>​              ArrayList<integer> list2 = new ArrayList<integer>();</integer></integer></p>
<p>​              IntsHolder2 ih2 = new IntsHolder2();</p>
<p>​              print(“Add times (nanoseconds):”);</p>
<p>​              print(“Mean of 1000:”);  </p>
<p>​              print(“ArrayList add(): “ + addTimeTest(list2, 1000));</p>
<p>​              print(“IntsHolder2 add(): “ + addTimeTest(ih2, 1000));</p>
<p>​              print();</p>
<p>​              print(“Get times (nanoseconds):”);</p>
<p>​              print(“Mean of 1000:”);</p>
<p>​              print(“ArrayList get(): “ + getTimeTest(list2, 1000));</p>
<p>​              print(“IntsHolder2 get(): “ + getTimeTest(ih2, 1000));       </p>
<p>​              print();</p>
<p>​              ArrayList<integer> list3 = new ArrayList<integer>();</integer></integer></p>
<p>​              for(int i = 0; i &lt; 1000; i++) list3.add(1);</p>
<p>​              IntsHolder ih3 = new IntsHolder();</p>
<p>​              for(int i = 0; i &lt; 1000; i++) ih3.add(1);</p>
<p>​              IntsHolder2 ih4 = new IntsHolder2();</p>
<p>​              for(int i = 0; i &lt; 1000; i++) ih4.add(1);</p>
<p>​              print(“Increment times (1000 elements):”);</p>
<p>​              print(“ArrayList: “ + incrementTimeTest(list3));   </p>
<p>​              print(“IntsHolder: “ + incrementTimeTest(ih3));</p>
<p>​              print(“intsHolder2: “ + incrementTimeTest(ih4));                     </p>
<p>​       }</p>
<p>}</p>
<p>class FastTraversalLinkedList<e> {</e></p>
<p>​       private LinkedList<e> lList = new LinkedList<e>();</e></e></p>
<p>​       private ArrayList<e> aList = new ArrayList<e>();</e></e></p>
<p>​       private ArrayList<e> toArrayList(LinkedList<e> lList) {</e></e></p>
<p>​              aList.clear();</p>
<p>​              aList.addAll(lList);</p>
<p>​              lList.clear();</p>
<p>​              return aList;</p>
<p>​       }</p>
<p>​       private LinkedList<e> toLinkedList(ArrayList<e> aList) {</e></e></p>
<p>​              lList.clear();</p>
<p>​              lList.addAll(aList);</p>
<p>​              aList.clear();</p>
<p>​              return lList;</p>
<p>​       }</p>
<p>​       public int size() {</p>
<p>​              return aList.size() &lt; lList.size() ? lList.size() : aList.size();</p>
<p>​       }</p>
<p>​       public void clear() {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     lList.clear();</p>
<p>​              else</p>
<p>​                     toLinkedList(aList).clear();     </p>
<p>​       }</p>
<p>​       public void add(E e) {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     lList.add(e);</p>
<p>​              else</p>
<p>​                     toLinkedList(aList).add(e);    </p>
<p>​       }</p>
<p>​       public void add(int i, E e) {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     lList.add(i, e);</p>
<p>​              else</p>
<p>​                     toLinkedList(aList).add(i, e);  </p>
<p>​       }</p>
<p>​       public boolean addAll(Collection&lt;? extends E&gt; c) {</p>
<p>​              if(aList.size() &lt; lList.size()) </p>
<p>​                     return lList.addAll(c);                    </p>
<p>​              else</p>
<p>​                     return toLinkedList(aList).addAll(c);</p>
<p>​       }</p>
<p>​       public void addFirst(E e) {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     lList.addFirst(e);</p>
<p>​              else</p>
<p>​                     toLinkedList(aList).addFirst(e);     </p>
<p>​       }</p>
<p>​       public void addLast(E e) {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     lList.addLast(e);</p>
<p>​              else</p>
<p>​                     toLinkedList(aList).addLast(e);     </p>
<p>​       }</p>
<p>​       public E set(int i, E e) {</p>
<p>​              if(lList.size() &lt; aList.size()) </p>
<p>​                     return aList.set(i,e);</p>
<p>​              else</p>
<p>​                     return toArrayList(lList).set(i,e);</p>
<p>​       }</p>
<p>​       public E remove(int i) {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     return lList.remove(i);</p>
<p>​              else</p>
<p>​                     return toLinkedList(aList).remove(i);    </p>
<p>​       }</p>
<p>​       public E removeFirst() {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     return lList.removeFirst();</p>
<p>​              else</p>
<p>​                     return toLinkedList(aList).removeFirst();     </p>
<p>​       }</p>
<p>​       public E removeLast() {</p>
<p>​              if(aList.size() &lt; lList.size())</p>
<p>​                     return lList.removeLast();</p>
<p>​              else</p>
<p>​                     return toLinkedList(aList).removeLast();     </p>
<p>​       }</p>
<p>​       public E get(int i) {</p>
<p>​              if(lList.size() &lt; aList.size()) </p>
<p>​                     return aList.get(i);</p>
<p>​              else</p>
<p>​                     return toArrayList(lList).get(i);</p>
<p>​       }</p>
<p>​       public Iterator<e> iterator() {</e></p>
<p>​              if(lList.size() &lt; aList.size()) </p>
<p>​                     return aList.iterator();</p>
<p>​              else</p>
<p>​                     return toArrayList(lList).iterator();</p>
<p>​       }</p>
<p>​       public ListIterator<e> listIterator() {</e></p>
<p>​              if(aList.size() &lt; lList.size()) </p>
<p>​                     return lList.listIterator();</p>
<p>​              else</p>
<p>​                     return toLinkedList(aList).listIterator();</p>
<p>​       }</p>
<p>​       public ListIterator<e> listIterator(int i) {</e></p>
<p>​              if(aList.size() &lt; lList.size()) </p>
<p>​                     return lList.listIterator(i);</p>
<p>​              else</p>
<p>​                     return toLinkedList(aList).listIterator(i);</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return aList.size() &gt; lList.size() ? aList.toString() : </p>
<p>​                     lList.size() == 0 ? aList.toString() : lList.toString();             </p>
<p>​       }      </p>
<p>}</p>
<p>public class ListPerformance33 {</p>
<p>​       static Random rand = new Random();</p>
<p>​       static int reps = 1000;</p>
<p>​       static List&lt;Test&lt;FastTraversalLinkedList<integer>&gt;&gt; tests =</integer></p>
<p>​              new ArrayList&lt;Test&lt;FastTraversalLinkedList<integer>&gt;&gt;();</integer></p>
<p>​       static List&lt;Test&lt;FastTraversalLinkedList<integer>&gt;&gt; qTests =</integer></p>
<p>​              new ArrayList&lt;Test&lt;FastTraversalLinkedList<integer>&gt;&gt;();</integer></p>
<p>​       static {</p>
<p>​              tests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“add”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int listSize = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   for(int j = 0; j &lt; listSize; j++)</p>
<p>​                                          list.add(j);</p>
<p>​                            }</p>
<p>​                            return loops * listSize;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​              tests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“get”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops * reps;</p>
<p>​                            int listSize = list.size();</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   list.get(rand.nextInt(listSize));</p>
<p>​                            return loops;</p>
<p>​                     }      </p>
<p>​              });           </p>
<p>​              tests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“set”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops * reps;</p>
<p>​                            int listSize = list.size();</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   list.set(rand.nextInt(listSize), 47);</p>
<p>​                            return loops;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​              tests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“iteradd”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            final int LOOPS = 1000000;</p>
<p>​                            int half = list.size()                            ListIterator<integer> it = list.listIterator(half);</integer></p>
<p>​                            for(int i = 0; i &lt; LOOPS; i++)</p>
<p>​                                   it.add(47);</p>
<p>​                            return LOOPS;</p>
<p>​                     }      </p>
<p>​              });           </p>
<p>​              tests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“insert”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   list.add(5, 47);                           return loops;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​              tests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“remove”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   list.addAll(new CountingIntegerList(size));</p>
<p>​                                   while(list.size() &gt; 5)</p>
<p>​                                          list.remove(5);                           } </p>
<p>​                            return loops * size;              </p>
<p>​                     }</p>
<p>​              });           </p>
<p>​                           qTests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“addFirst”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++)</p>
<p>​                                          list.addFirst(47);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​              qTests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“addLast”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++)</p>
<p>​                                          list.addLast(47);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​              qTests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“rmFirst”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   list.addAll(new CountingIntegerList(size));</p>
<p>​                                   while(list.size() &gt; 0)</p>
<p>​                                          list.removeFirst();</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });           </p>
<p>​              qTests.add(new Test&lt;FastTraversalLinkedList<integer>&gt;(“rmLast”) {</integer></p>
<p>​                     int test(FastTraversalLinkedList<integer> list, TestParam tp) {</integer></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   list.clear();</p>
<p>​                                   list.addAll(new CountingIntegerList(size));</p>
<p>​                                   while(list.size() &gt; 0)</p>
<p>​                                          list.removeLast();</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });                  </p>
<p>​       }</p>
<p>​       static class ListTester extends Tester&lt;FastTraversalLinkedList<integer>&gt; {</integer></p>
<p>​              public ListTester(FastTraversalLinkedList<integer> container, </integer></p>
<p>​              List&lt;Test&lt;FastTraversalLinkedList<integer>&gt;&gt; tests) {</integer></p>
<p>​                     super(container, tests);</p>
<p>​              }</p>
<p>​              public static void run(FastTraversalLinkedList<integer> list, </integer></p>
<p>​              List&lt;Test&lt;FastTraversalLinkedList<integer>&gt;&gt; tests) {</integer></p>
<p>​                     new ListTester(list, tests).timedTest();</p>
<p>​              }             </p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              Tester.defaultParams = TestParam.array(</p>
<p>​                     10, 5000, 100, 5000, 1000, 1000, 10000, 200);</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              ListTester.run(new FastTraversalLinkedList<integer>(), tests);</integer></p>
<p>​              Tester.fieldWidth = 12;</p>
<p>​              Tester&lt;FastTraversalLinkedList<integer>&gt; qTest = </integer></p>
<p>​              new Tester&lt;FastTraversalLinkedList<integer>&gt;(</integer></p>
<p>​                     new FastTraversalLinkedList<integer>(), qTests);</integer></p>
<p>​              qTest.setHeadline(“Queue tests”);</p>
<p>​              qTest.timedTest();         </p>
<p>​       }</p>
<p>} </p>
<p>public class SetPerformance34 {</p>
<p>​       static CountingGenerator.String cgs = new CountingGenerator.String(5);</p>
<p>​       static CountingGenerator.String cgs2 = new CountingGenerator.String(5);</p>
<p>​       static List&lt;Test&lt;Set<string>&gt;&gt; tests = new ArrayList&lt;Test&lt;Set<string>&gt;&gt;();</string></string></p>
<p>​              static {</p>
<p>​              tests.add(new Test&lt;Set<string>&gt;(“add”) {</string></p>
<p>​                     int test(Set<string> set, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   set.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++) </p>
<p>​                                          set.add(cgs.next());</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Set<string>&gt;(“contains”) {</string></p>
<p>​                     int test(Set<string> set, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int span = tp.size * 2;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   for(int j = 0; j &lt; span; j++)</p>
<p>​                                          set.contains(cgs2.next());</p>
<p>​                            return loops * span;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Set<string>&gt;(“iterate”) {</string></p>
<p>​                     int test(Set<string> set, TestParam tp) {</string></p>
<p>​                            int loops = tp.loops * 10;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   Iterator<string> it = set.iterator();</string></p>
<p>​                                   while(it.hasNext()) it.next();</p>
<p>​                            }</p>
<p>​                            return loops * set.size();</p>
<p>​                     }</p>
<p>​              });</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &lt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              Tester.fieldWidth = 10;</p>
<p>​              Tester.run(new TreeSet<string>(), tests);</string></p>
<p>​              Tester.run(new HashSet<string>(), tests);</string></p>
<p>​              Tester.run(new LinkedHashSet<string>(), tests);      </string></p>
<p>​       }</p>
<p>}      </p>
<p>public class MapPerformance35 {</p>
<p>​       static List&lt;Test&lt;Map&lt;Integer,Integer&gt;&gt;&gt; tests = new ArrayList&lt;Test&lt;Map&lt;Integer,Integer&gt;&gt;&gt;();</p>
<p>​       static {</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“put”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   map.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++) </p>
<p>​                                          map.put(j, j);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“get”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int span = tp.size * 2;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   for(int j = 0; j &lt; span; j++)</p>
<p>​                                          map.get(j);</p>
<p>​                            return loops * span;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“iterate”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops * 10;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   Iterator it = map.entrySet().iterator();</p>
<p>​                                   while(it.hasNext()) it.next();</p>
<p>​                            }</p>
<p>​                            return loops * map.size();</p>
<p>​                     }</p>
<p>​              });</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              else</p>
<p>​                     Tester.defaultParams = TestParam.array(10, 500, 100, 500, 500, 100);</p>
<p>​              Tester.run(new SlowMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new TreeMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new HashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new LinkedHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new IdentityHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new WeakHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new Hashtable&lt;Integer,Integer&gt;(), tests);</p>
<p>​       }</p>
<p>}      </p>
<p>  class SlowMap36a&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; { </p>
<p>​       protected List&lt;MapEntry&lt;K,V&gt;&gt; entryList = new ArrayList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​       private EntrySet entries = new EntrySet();</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() { return entries; }</p>
<p>​       private class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {</p>
<p>​              public int size() { return entryList.size(); }</p>
<p>​              public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {</p>
<p>​                     return new Iterator&lt;Map.Entry&lt;K,V&gt;&gt;() {</p>
<p>​                            private int index = -1;</p>
<p>​                            public boolean hasNext() {</p>
<p>​                                   return index &lt; entryList.size() - 1; </p>
<p>​                            }</p>
<p>​                            @SuppressWarnings(“unchecked”)</p>
<p>​                            public Map.Entry&lt;K,V&gt; next() {</p>
<p>​                                   int i = ++index;</p>
<p>​                                   return entryList.get(i);    </p>
<p>​                            }</p>
<p>​                            public void remove() {</p>
<p>​                                   entryList.remove(index–);          </p>
<p>​                            }                           </p>
<p>​                     };</p>
<p>​              }                           </p>
<p>​       }      </p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = get(key);              Iterator&lt;MapEntry&lt;K,V&gt;&gt; it = entryList.iterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; me = it.next();</p>
<p>​                     if(me.getKey().equals(key))</p>
<p>​                            me.setValue(value);</p>
<p>​              }</p>
<p>​              entryList.add(new MapEntry&lt;K,V&gt;(key, value));       </p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {         Iterator&lt;MapEntry&lt;K,V&gt;&gt; it = entryList.iterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; me = it.next();</p>
<p>​                     if(me.getKey().equals(key))</p>
<p>​                            return me.getValue(); </p>
<p>​              }</p>
<p>​              return null;</p>
<p>​       }      </p>
<p>}</p>
<p> class SlowMap36b&lt;K,V&gt; extends SlowMap36a&lt;K,V&gt; { </p>
<p>​             private List&lt;MapEntry&lt;Integer,V&gt;&gt; hashEntryList = new ArrayList&lt;MapEntry&lt;Integer,V&gt;&gt;();  </p>
<p>​       public List&lt;MapEntry&lt;Integer,V&gt;&gt; hashEntryList() { return hashEntryList; }</p>
<p>​             private final MapEntryKeyComp&lt;K,V&gt; comp1 = new MapEntryKeyComp&lt;K,V&gt;();</p>
<p>​       private final MapEntryKeyComp&lt;Integer,V&gt; comp2 = new MapEntryKeyComp&lt;Integer,V&gt;();</p>
<p>​             @Override</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = get(key);              Iterator&lt;MapEntry&lt;K,V&gt;&gt; it = entryList.iterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; me = it.next();</p>
<p>​                     if(me.getKey().equals(key)) {</p>
<p>​                            me.setValue(value);</p>
<p>​                     }</p>
<p>​              }</p>
<p>​              entryList.add(new MapEntry&lt;K,V&gt;(key, value));</p>
<p>​              hashEntryList.add(new MapEntry&lt;Integer,V&gt;(key.hashCode(), value));</p>
<p>​                           Collections.sort(entryList, comp1);</p>
<p>​              Collections.sort(hashEntryList, comp2);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​             @Override</p>
<p>​       public V get(Object key) {                      MapEntry&lt;Integer,V&gt; sub = new MapEntry&lt;Integer,V&gt;(key.hashCode(), null); </p>
<p>​              int i = Collections.binarySearch(hashEntryList, sub, comp2);</p>
<p>​              if(i &gt;= 0) return hashEntryList.get(i).getValue();</p>
<p>​              return null;            </p>
<p>​       }      </p>
<p>}</p>
<p> class MapEntryKeyComp&lt;K,V&gt; implements Comparator&lt;MapEntry&lt;K,V&gt;&gt; {</p>
<p>​       public int compare(MapEntry&lt;K,V&gt; me1, MapEntry&lt;K,V&gt; me2) {</p>
<p>​              return me1.getKey().hashCode() - me2.getKey().hashCode();</p>
<p>​       }</p>
<p>} </p>
<p>public class MapPerformance36 {</p>
<p>​       static List&lt;Test&lt;Map&lt;Integer,Integer&gt;&gt;&gt; tests = </p>
<p>​              new ArrayList&lt;Test&lt;Map&lt;Integer,Integer&gt;&gt;&gt;();</p>
<p>​       static {</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“put”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   map.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++) </p>
<p>​                                          map.put(j, j);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“get”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int span = tp.size * 2;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   for(int j = 0; j &lt; span; j++)</p>
<p>​                                          map.get(j);</p>
<p>​                            return loops * span;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“iterate”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops * 10;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   Iterator it = map.entrySet().iterator();</p>
<p>​                                   while(it.hasNext()) it.next();</p>
<p>​                            }</p>
<p>​                            return loops * map.size();</p>
<p>​                     }</p>
<p>​              });</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              else</p>
<p>​                     Tester.defaultParams = TestParam.array(10, 100, 50, 50, 100, 20);</p>
<p>​              print(“Tesing SlowMap36a:”);</p>
<p>​              SlowMap36a&lt;String,String&gt; m = new SlowMap36a&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(15));</p>
<p>​              print(“m: “ + m);</p>
<p>​              print(“m.get(&quot;BURUNDI&quot;): “ + m.get(“BURUNDI”));</p>
<p>​              print(“m.entrySet(): “ + m.entrySet());</p>
<p>​              print(“m.keySet(): “ + m.keySet());              </p>
<p>​              print(“m.values() = “ + m.values());</p>
<p>​              print(“Two different maps: “);</p>
<p>​              SlowMap36a&lt;String,String&gt; m2 = new SlowMap36a&lt;String,String&gt;();</p>
<p>​              print(“m.equals(m2): “ + m.equals(m2)); </p>
<p>​              m2.putAll(Countries.capitals(15));</p>
<p>​              print(“Maps with same entries: “);</p>
<p>​              print(“m.equals(m2): “ + m.equals(m2));</p>
<p>​              m.clear();</p>
<p>​              print(“After m.clear(), m.isEmpty(): “ + </p>
<p>​                     m.isEmpty() + “, m = “ + m);       </p>
<p>​              m2.keySet().clear();</p>
<p>​              print(“After m2.keySet().clear(), m2.isEmpty(): “ </p>
<p>​                     + m2.isEmpty() + “, m2 = “ + m2);</p>
<p>​              print();</p>
<p>​              print(“Testing SlowMap36b:”);</p>
<p>​              SlowMap36b&lt;String,String&gt; m3 = new SlowMap36b&lt;String,String&gt;();</p>
<p>​              m3.putAll(Countries.capitals(15));</p>
<p>​              print(“m3: “ + m3);</p>
<p>​              print(“m3.get(&quot;BURUNDI&quot;): “ + m3.get(“BURUNDI”));</p>
<p>​              print(“m3.entrySet(): “ + m3.entrySet());</p>
<p>​              print(“m3.hashEntryList(): “ + m3.hashEntryList());</p>
<p>​              m3.clear();</p>
<p>​              print(“After m3.clear(), m3.isEmpty(): “ + </p>
<p>​                     m3.isEmpty() + “, m3 = “ + m3); </p>
<p>​              m3.keySet().clear();</p>
<p>​              print(“After m3.keySet().clear(), m3.isEmpty(): “ </p>
<p>​                     + m3.isEmpty() + “, m3 = “ + m3);</p>
<p>​              print();</p>
<p>​              print(“Comparative time tests:”);         </p>
<p>​              Tester.run(new SlowMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new SlowMap17&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new SlowMap36a&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new SlowMap36b&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new HashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new TreeMap&lt;Integer,Integer&gt;(), tests);        </p>
<p>​              Tester.run(new LinkedHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new IdentityHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new WeakHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new Hashtable&lt;Integer,Integer&gt;(), tests);                     </p>
<p>​       }</p>
<p>}      </p>
<p>class SimpleHashMap37a&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets =</p>
<p>​              new LinkedList[SIZE];</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     if(iPair.getKey().equals(key)) {</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap37a&lt;String,String&gt; m =</p>
<p>​                     new SimpleHashMap37a&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(25));</p>
<p>​              System.out.println(m);</p>
<p>​              System.out.println(m.get(“ERITREA”));</p>
<p>​              System.out.println(m.entrySet());</p>
<p>​       }</p>
<p>}</p>
<p>class SimpleHashMap37b&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       ArrayList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets =</p>
<p>​              new ArrayList[SIZE];</p>
<p>​       public V put(K key, V value) {</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new ArrayList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              ArrayList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     if(iPair.getKey().equals(key)) {</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(ArrayList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              SimpleHashMap37b&lt;String,String&gt; m =</p>
<p>​                     new SimpleHashMap37b&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(25));</p>
<p>​              System.out.println(m);</p>
<p>​              System.out.println(m.get(“ERITREA”));</p>
<p>​              System.out.println(m.entrySet());</p>
<p>​       }</p>
<p>}</p>
<p>public class MapPerformance37 {</p>
<p>​       static List&lt;Test&lt;Map&lt;Integer,Integer&gt;&gt;&gt; tests = new ArrayList&lt;Test&lt;Map&lt;Integer,Integer&gt;&gt;&gt;();</p>
<p>​       static {</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“put”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   map.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++) </p>
<p>​                                          map.put(j, j);</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“get”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int span = tp.size * 2;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   for(int j = 0; j &lt; span; j++)</p>
<p>​                                          map.get(j);</p>
<p>​                            return loops * span;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,Integer&gt;&gt;(“iterate”) {</p>
<p>​                     int test(Map&lt;Integer,Integer&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops * 10;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   Iterator it = map.entrySet().iterator();</p>
<p>​                                   while(it.hasNext()) it.next();</p>
<p>​                            }</p>
<p>​                            return loops * map.size();</p>
<p>​                     }</p>
<p>​              });</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              else</p>
<p>​                     Tester.defaultParams = TestParam.array(10, 1000, 100, 1000, 1000, 100);</p>
<p>​              Tester.run(new SimpleHashMap37a&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new SimpleHashMap37b&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new TreeMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new HashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new LinkedHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new IdentityHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new WeakHashMap&lt;Integer,Integer&gt;(), tests);</p>
<p>​              Tester.run(new Hashtable&lt;Integer,Integer&gt;(), tests);       </p>
<p>​       }</p>
<p>}      </p>
<p>public class HashMaps38 {</p>
<p>​       static List&lt;Test&lt;Map&lt;Integer,String&gt;&gt;&gt; tests = </p>
<p>​              new ArrayList&lt;Test&lt;Map&lt;Integer,String&gt;&gt;&gt;();</p>
<p>​       static CountingGenerator.String cgs = new CountingGenerator.String(5);</p>
<p>​       static {</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,String&gt;&gt;(“put”) {</p>
<p>​                     int test(Map&lt;Integer,String&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int size = tp.size;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   map.clear();</p>
<p>​                                   for(int j = 0; j &lt; size; j++) </p>
<p>​                                          map.put(j, cgs.next());</p>
<p>​                            }</p>
<p>​                            return loops * size;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,String&gt;&gt;(“get”) {</p>
<p>​                     int test(Map&lt;Integer,String&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops;</p>
<p>​                            int span = tp.size * 2;</p>
<p>​                            for(int i = 0; i &lt; loops; i++)</p>
<p>​                                   for(int j = 0; j &lt; span; j++)</p>
<p>​                                          map.get(j);</p>
<p>​                            return loops * span;</p>
<p>​                     }</p>
<p>​              });</p>
<p>​              tests.add(new Test&lt;Map&lt;Integer,String&gt;&gt;(“iterate”) {</p>
<p>​                     int test(Map&lt;Integer,String&gt; map, TestParam tp) {</p>
<p>​                            int loops = tp.loops * 10;</p>
<p>​                            for(int i = 0; i &lt; loops; i++) {</p>
<p>​                                   Iterator it = map.entrySet().iterator();</p>
<p>​                                   while(it.hasNext()) it.next();</p>
<p>​                            }</p>
<p>​                            return loops * map.size();</p>
<p>​                     }</p>
<p>​              });</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              HashMap&lt;Integer,String&gt; map1 = new HashMap&lt;Integer,String&gt;();          </p>
<p>​              println(“map1: “ + map1);</p>
<p>​              map1.putAll(new CountingMapData(16));</p>
<p>​              println(“map1: “ + map1);    </p>
<p>​              HashMap&lt;Integer,String&gt; map2 = new HashMap&lt;Integer,String&gt;(64);</p>
<p>​              println(“map2: “ + map2);</p>
<p>​              map2.putAll(map1);</p>
<p>​              println(“map2: “ + map2);</p>
<p>​              HashMap&lt;Integer,String&gt; map3 = new HashMap&lt;Integer,String&gt;(1028);</p>
<p>​              println(“map3: “ + map3);</p>
<p>​              map2.putAll(map1);</p>
<p>​              println(“map3: “ + map3);</p>
<p>​              if(args.length &gt; 0)</p>
<p>​                     Tester.defaultParams = TestParam.array(args);</p>
<p>​              else</p>
<p>​                     Tester.defaultParams = TestParam.array(10, 1000, 100, 1000, 1000, 1000);</p>
<p>​              println(“Comparative time tests:”);             </p>
<p>​              Tester.run(map1, tests);</p>
<p>​              Tester.run(map2, tests);</p>
<p>​              Tester.run(map3, tests);</p>
<p>​       }</p>
<p>} </p>
<p> class Prime {</p>
<p>​       public static int firstPrimeAfter(int n) {</p>
<p>​              for(int i = n + 1; i &gt; n; i++) {</p>
<p>​                     int factors = 0;</p>
<p>​                     for(int j = 1; j &lt; (i + 2)                       if((i % j) == 0) factors++;</p>
<p>​                     }</p>
<p>​                     if(factors &lt; 2) return i;</p>
<p>​              }</p>
<p>​              return 0;</p>
<p>​       }</p>
<p>}</p>
<p>public class SimpleHashMap39&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {</p>
<p>​                   static final int SIZE = 997;</p>
<p>​             private int capacity = SIZE;</p>
<p>​                   @SuppressWarnings(“unchecked”)    </p>
<p>​       LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] buckets = new LinkedList[SIZE];</p>
<p>​       public int capacity() { return capacity; }</p>
<p>​                   @SuppressWarnings(“unchecked”)</p>
<p>​       private void rehash() {</p>
<p>​              capacity = Prime.firstPrimeAfter(capacity * 2);</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt;[] oldBuckets = buckets;            </p>
<p>​              buckets = new LinkedList[capacity];</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : oldBuckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            this.put(mpair.getKey(), mpair.getValue());</p>
<p>​              }                    </p>
<p>​       }</p>
<p>​       public V put(K key, V value) {</p>
<p>​                           if(this.size() &gt; 0.75 * capacity) rehash();</p>
<p>​              V oldValue = null;</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null)</p>
<p>​                     buckets[index] = new LinkedList&lt;MapEntry&lt;K,V&gt;&gt;();</p>
<p>​              LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket = buckets[index];</p>
<p>​              MapEntry&lt;K,V&gt; pair = new MapEntry&lt;K,V&gt;(key, value);</p>
<p>​              boolean found = false;</p>
<p>​              ListIterator&lt;MapEntry&lt;K,V&gt;&gt; it = bucket.listIterator();</p>
<p>​              while(it.hasNext()) {</p>
<p>​                     MapEntry&lt;K,V&gt; iPair = it.next();</p>
<p>​                     if(iPair.getKey().equals(key)) {</p>
<p>​                            oldValue = iPair.getValue();</p>
<p>​                            it.set(pair);                         found = true;</p>
<p>​                            break;</p>
<p>​                     }</p>
<p>​              }      </p>
<p>​              if(!found)</p>
<p>​                     buckets[index].add(pair);</p>
<p>​              return oldValue;</p>
<p>​       }</p>
<p>​       public V get(Object key) {</p>
<p>​              int index = Math.abs(key.hashCode()) % SIZE;</p>
<p>​              if(buckets[index] == null) return null;</p>
<p>​              for(MapEntry&lt;K,V&gt; iPair : buckets[index])</p>
<p>​                     if(iPair.getKey().equals(key))</p>
<p>​                            return iPair.getValue();</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {</p>
<p>​              Set&lt;Map.Entry&lt;K,V&gt;&gt; set = new HashSet&lt;Map.Entry&lt;K,V&gt;&gt;();</p>
<p>​              for(LinkedList&lt;MapEntry&lt;K,V&gt;&gt; bucket : buckets) {</p>
<p>​                     if(bucket == null) continue;</p>
<p>​                     for(MapEntry&lt;K,V&gt; mpair : bucket)</p>
<p>​                            set.add(mpair);</p>
<p>​              }</p>
<p>​              return set;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              RandomGenerator.Integer rgi = new RandomGenerator.Integer(10000);</p>
<p>​              print(“Testing map m of &lt;String,String&gt;: the basics:”);</p>
<p>​              SimpleHashMap39&lt;String,String&gt; m = new SimpleHashMap39&lt;String,String&gt;();</p>
<p>​              m.putAll(Countries.capitals(10));</p>
<p>​              print(“m: “ + m);</p>
<p>​              print(“m.get(&quot;CHAD&quot;) “ + m.get(“CHAD”));</p>
<p>​              print(“m.size() = “ + m.size());</p>
<p>​              print(“m.capacity() = “ + m.capacity());</p>
<p>​              print(“Testing rehash() for a map m2 of &lt;Integer,Integer&gt;:”);</p>
<p>​              SimpleHashMap39&lt;Integer,Integer&gt; m2 = new SimpleHashMap39&lt;Integer,Integer&gt;();</p>
<p>​              print(“m2: “ + m2);</p>
<p>​              print(“m2.size() = “ + m2.size());</p>
<p>​              print(“m2.capacity() = “ + m2.capacity());</p>
<p>​              m2.putAll(MapData.map(rgi, rgi, 996));</p>
<p>​              print(“after m2.putAll(MapData.map(rgi, rgi, 996): “);</p>
<p>​              print(“m2.size() = “ + m2.size());</p>
<p>​              print(“m2.capacity() = “ + m2.capacity());</p>
<p>​              m2.putAll(MapData.map(rgi, rgi, 2000));</p>
<p>​              print(“after m2.putAll(MapData.map(rgi, rgi, 2000): “);</p>
<p>​              print(“m2.size() = “ + m2.size());</p>
<p>​              print(“m2.capacity() = “ + m2.capacity());</p>
<p>​              m2.putAll(MapData.map(rgi, rgi, 1500));</p>
<p>​              print(“after m2.putAll(MapData.map(rgi, rgi, 1500): “);</p>
<p>​              print(“m2.size() = “ + m2.size());</p>
<p>​              print(“m2.capacity() = “ + m2.capacity());</p>
<p>​       }</p>
<p>}</p>
<p>public class TwoStrings40 implements Comparable<twostrings40> {</twostrings40></p>
<p>​       private String first = “”;</p>
<p>​       private String second = “”;</p>
<p>​       public TwoStrings40(String s1, String s2) {</p>
<p>​              first = s1;</p>
<p>​              second = s2;</p>
<p>​       }</p>
<p>​             public int compareTo(TwoStrings40 ts) {</p>
<p>​              return first.compareTo(ts.first);</p>
<p>​       }</p>
<p>​             public static class Comp2 implements Comparator<twostrings40> {</twostrings40></p>
<p>​              public int compare(TwoStrings40 ts1, TwoStrings40 ts2) {</p>
<p>​                     return ts1.second.compareTo(ts2.second);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return first + “ &amp; “ + second;</p>
<p>​       }</p>
<p>​       static void printArray(TwoStrings40[] sa) {</p>
<p>​              printnb(“(“);</p>
<p>​              for(int i = 0; i &lt; sa.length - 1; i++) </p>
<p>​                     printnb(sa[i] + “, “);</p>
<p>​              print(sa[sa.length - 1] + “)”);       </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              RandomGenerator.String rgs = new RandomGenerator.String(4);</p>
<p>​              TwoStrings40[] array = new TwoStrings40[5];</p>
<p>​              List<twostrings40> list = new ArrayList<twostrings40>();</twostrings40></twostrings40></p>
<p>​              for(int i = 0; i &lt; array.length; i++) {</p>
<p>​                     String s1 = rgs.next();</p>
<p>​                     String s2 = rgs.next();</p>
<p>​                     array[i] = new TwoStrings40(s1, s2);</p>
<p>​                     list.add(new TwoStrings40(s1, s2));</p>
<p>​              }</p>
<p>​              printnb(“Array: “);</p>
<p>​              printArray(array);</p>
<p>​              print(“List: “ + list);</p>
<p>​              Arrays.sort(array);</p>
<p>​              Collections.sort(list, null);</p>
<p>​              print();</p>
<p>​              print(“Sorted by first word:”);</p>
<p>​              printnb(“Array: “);</p>
<p>​              printArray(array);</p>
<p>​              print(“List: “ + list);</p>
<p>​              TwoStrings40.Comp2 comp = new TwoStrings40.Comp2();</p>
<p>​              Arrays.sort(array, comp);</p>
<p>​              Collections.sort(list, comp);</p>
<p>​              print();</p>
<p>​              print(“Sorted by second word:”);</p>
<p>​              printnb(“Array: “);</p>
<p>​              printArray(array);</p>
<p>​              print(“List: “ + list);</p>
<p>​       }</p>
<p>}</p>
<p>public class TwoStrings41 implements Comparable<twostrings41> {</twostrings41></p>
<p>​       private String first = “”;</p>
<p>​       private String second = “”;</p>
<p>​       public TwoStrings41(String s1, String s2) {</p>
<p>​              first = s1;</p>
<p>​              second = s2;</p>
<p>​       }</p>
<p>​             public int compareTo(TwoStrings41 ts) {</p>
<p>​              return first.compareTo(ts.first);</p>
<p>​       }</p>
<p>​             public static class Comp2 implements Comparator<twostrings41> {</twostrings41></p>
<p>​              public int compare(TwoStrings41 ts1, TwoStrings41 ts2) {</p>
<p>​                     return ts1.second.compareTo(ts2.second);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return first + “ &amp; “ + second;</p>
<p>​       }</p>
<p>​       static void printArray(TwoStrings41[] sa) {</p>
<p>​              printnb(“(“);</p>
<p>​              for(int i = 0; i &lt; sa.length - 1; i++) </p>
<p>​                     printnb(sa[i] + “, “);</p>
<p>​              print(sa[sa.length - 1] + “)”);       </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              RandomGenerator.String rgs = new RandomGenerator.String(4);</p>
<p>​              RandomGenerator.Integer rgi = new RandomGenerator.Integer(100);</p>
<p>​              Set<twostrings41> set = new HashSet<twostrings41>();</twostrings41></twostrings41></p>
<p>​              Map&lt;TwoStrings41,Integer&gt; map = new HashMap&lt;TwoStrings41,Integer&gt;();</p>
<p>​              for(int i = 0; i &lt; 4; i++) {</p>
<p>​                     String s1 = rgs.next();</p>
<p>​                     String s2 = rgs.next();</p>
<p>​                     set.add(new TwoStrings41(s1, s2));</p>
<p>​                     map.put(new TwoStrings41(s1, s2), rgi.next());</p>
<p>​              }</p>
<p>​              print(“Set: “ + set);</p>
<p>​              print(“Map: “ + map);</p>
<p>​              print(“map.keySet(): “ + map.keySet());</p>
<p>​              print(“Sorted by first String:”);</p>
<p>​              Set<twostrings41> treeSet = new TreeSet<twostrings41>(set);</twostrings41></twostrings41></p>
<p>​              Map&lt;TwoStrings41,Integer&gt; treeMap = </p>
<p>​                     new TreeMap&lt;TwoStrings41,Integer&gt;(map);</p>
<p>​              print(“TreeSet: “ + treeSet);</p>
<p>​              print(“TreeMap: “ + treeMap);</p>
<p>​              print(“Sorted by second String:”);</p>
<p>​              TwoStrings41.Comp2 comp = new TwoStrings41.Comp2();</p>
<p>​              Set<twostrings41> treeSet2 = </twostrings41></p>
<p>​                     new TreeSet<twostrings41>(comp);</twostrings41></p>
<p>​              Map&lt;TwoStrings41,Integer&gt; treeMap2 = </p>
<p>​                     new TreeMap&lt;TwoStrings41,Integer&gt;(comp);</p>
<p>​              treeSet2.addAll(treeSet);</p>
<p>​              treeMap2.putAll(treeMap);</p>
<p>​              print(“TreeSet2: “ + treeSet2);</p>
<p>​              print(“TreeMap2: “ + treeMap2);        </p>
<p>​       }</p>
<p>}</p>
<p>public class TwoStrings42 implements Comparable<twostrings42> {</twostrings42></p>
<p>​       private String first = “”;</p>
<p>​       private String second = “”;</p>
<p>​       public TwoStrings42(String s1, String s2) {</p>
<p>​              first = s1;</p>
<p>​              second = s2;</p>
<p>​       }</p>
<p>​             public int compareTo(TwoStrings42 ts) {</p>
<p>​              return first.compareToIgnoreCase(ts.first);</p>
<p>​       }</p>
<p>​             public static class Comp2 implements Comparator<twostrings42> {</twostrings42></p>
<p>​              public int compare(TwoStrings42 ts1, TwoStrings42 ts2) {</p>
<p>​                     return ts1.second.compareToIgnoreCase(ts2.second);</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public String toString() {</p>
<p>​              return first + “ &amp; “ + second;</p>
<p>​       }</p>
<p>​       static void printArray(TwoStrings42[] sa) {</p>
<p>​              printnb(“(“);</p>
<p>​              for(int i = 0; i &lt; sa.length - 1; i++) </p>
<p>​                     printnb(sa[i] + “, “);</p>
<p>​              print(sa[sa.length - 1] + “)”);       </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              RandomGenerator.String rgs = new RandomGenerator.String(4);</p>
<p>​              TwoStrings42[] array = new TwoStrings42[5];</p>
<p>​              List<twostrings42> list = new ArrayList<twostrings42>();</twostrings42></twostrings42></p>
<p>​              for(int i = 0; i &lt; array.length; i++) {</p>
<p>​                     String s1 = rgs.next();</p>
<p>​                     String s2 = rgs.next();</p>
<p>​                     array[i] = new TwoStrings42(s1, s2);</p>
<p>​                     list.add(new TwoStrings42(s1, s2));</p>
<p>​              }</p>
<p>​              printnb(“Array: “);</p>
<p>​              printArray(array);</p>
<p>​              print(“List: “ + list);</p>
<p>​              Arrays.sort(array);</p>
<p>​              Collections.sort(list, null);</p>
<p>​              print();</p>
<p>​              print(“Sorted by first word:”);</p>
<p>​              printnb(“Array: “);</p>
<p>​              printArray(array);</p>
<p>​              print(“List: “ + list);</p>
<p>​              TwoStrings42.Comp2 comp = new TwoStrings42.Comp2();</p>
<p>​              Arrays.sort(array, comp);</p>
<p>​              Collections.sort(list, comp);</p>
<p>​              print();</p>
<p>​              print(“Sorted by second word:”);</p>
<p>​              printnb(“Array: “);</p>
<p>​              printArray(array);</p>
<p>​              print(“List: “ + list); </p>
<p>​       }</p>
<p>}</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/题解/" rel="tag"># 题解</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/06/2019-10-06-Java题解接口/" rel="next" title="Java题解接口">
                <i class="fa fa-chevron-left"></i> Java题解接口
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/10/06/2019-10-06-Java题解多态/" rel="prev" title="Java题解多态">
                Java题解多态 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zqfmcl</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">190</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#第十七章-容器"><span class="nav-number">1.</span> <span class="nav-text">第十七章  容器</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zqfmcl</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
