<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="题解,">





  <link rel="alternate" href="/atom.xml" title="Fey's blog" type="application/atom+xml">






<meta name="description" content="第十章内部类public class Outer1 { ​       class Inner {  ​              Inner() { System.out.println(“Inner()”); } ​       } ​       Outer1() { System.out.println(“Outer1()”); } ​             Inner makeInne">
<meta name="keywords" content="题解">
<meta property="og:type" content="article">
<meta property="og:title" content="Java题解内部类">
<meta property="og:url" content="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解内部类/index.html">
<meta property="og:site_name" content="Fey&#39;s blog">
<meta property="og:description" content="第十章内部类public class Outer1 { ​       class Inner {  ​              Inner() { System.out.println(“Inner()”); } ​       } ​       Outer1() { System.out.println(“Outer1()”); } ​             Inner makeInne">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-10-23T07:21:32.752Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java题解内部类">
<meta name="twitter:description" content="第十章内部类public class Outer1 { ​       class Inner {  ​              Inner() { System.out.println(“Inner()”); } ​       } ​       Outer1() { System.out.println(“Outer1()”); } ​             Inner makeInne">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解内部类/">





  <title>Java题解内部类 | Fey's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fey's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">个人博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/06/2019-10-06-Java题解内部类/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java题解内部类</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T10:00:00+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="第十章内部类"><a href="#第十章内部类" class="headerlink" title="第十章内部类"></a>第十章内部类</h2><p>public class Outer1 {</p>
<p>​       class Inner { </p>
<p>​              Inner() { System.out.println(“Inner()”); }</p>
<p>​       }</p>
<p>​       Outer1() { System.out.println(“Outer1()”); }</p>
<p>​             Inner makeInner() {</p>
<p>​              return new Inner();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Outer1 o = new Outer1();</p>
<p>​              Inner i = o.makeInner();</p>
<p>​       }</p>
<p>}</p>
<p>class Word {</p>
<p>​       private String word;</p>
<p>​       public Word(String s) { word = s; }</p>
<p>​       public String toString() { return word; }</p>
<p>} </p>
<p>interface Selector {</p>
<p>​       boolean end();</p>
<p>​       Object current();</p>
<p>​       void next();</p>
<p>}</p>
<p>public class Sequence2 {</p>
<p>​       private Object[] items;</p>
<p>​       private int next = 0;</p>
<p>​       public Sequence2(int size) { items = new Object[size]; }</p>
<p>​       public void add(Object x) {</p>
<p>​              if(next &lt; items.length)</p>
<p>​                     items[next++] = x;</p>
<p>​       }</p>
<p>​       private class SequenceSelector implements Selector {</p>
<p>​              private int i = 0;</p>
<p>​              public boolean end() { return i == items.length; }</p>
<p>​              public Object current() { return items[i]; }</p>
<p>​              public void next() { if(i &lt; items.length) i++; } </p>
<p>​       }</p>
<p>​       public Selector selector() {</p>
<p>​              return new SequenceSelector();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Sequence2 sequence = new Sequence2(10);</p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     sequence.add(new Word(Integer.toString(i)));</p>
<p>​              Selector selector = sequence.selector();</p>
<p>​              while(!selector.end()) {</p>
<p>​                     System.out.print(selector.current() + “ “);</p>
<p>​                     selector.next();</p>
<p>​              }</p>
<p>​              Word w1 = new Word(“Peace”);</p>
<p>​              Word w2 = new Word(“Love”);</p>
<p>​              Word w3 = new Word(“Easter”);</p>
<p>​              Sequence2 message = new Sequence2(3);</p>
<p>​              message.add(w1);</p>
<p>​              message.add(w2);</p>
<p>​              message.add(w3);</p>
<p>​              Selector sel = message.selector();</p>
<p>​              while(!sel.end()) {</p>
<p>​                     System.out.print(sel.current() + “ “);</p>
<p>​                     sel.next();</p>
<p>​              }</p>
<p>​                     </p>
<p>​       }</p>
<p>}</p>
<p>public class Outer3 {</p>
<p>​       private String s;</p>
<p>​       class Inner3 { </p>
<p>​              Inner3() { System.out.println(“Inner()”); }</p>
<p>​              public String toString() { return s; }</p>
<p>​       }</p>
<p>​       Outer3(String s) { </p>
<p>​              System.out.println(“Outer1()”);</p>
<p>​              this.s = s;</p>
<p>​       }</p>
<p>​       Inner3 makeInner3() {</p>
<p>​              return new Inner3();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Outer3 o = new Outer3(“Hi is risen!”);</p>
<p>​              Inner3 i = o.makeInner3();</p>
<p>​              System.out.println(i.toString());</p>
<p>​       }</p>
<p>}</p>
<p>interface Selector {</p>
<p>​       boolean end();</p>
<p>​       Object current();</p>
<p>​       void next();</p>
<p>}</p>
<p>public class Sequence4 {</p>
<p>​       private Object[] items;</p>
<p>​       private int next = 0;</p>
<p>​             public void test() { System.out.println(“Sequence4.test()”); }</p>
<p>​       public Sequence4(int size) { items = new Object[size]; }</p>
<p>​       public void add(Object x) {</p>
<p>​              if(next &lt; items.length)</p>
<p>​                     items[next++] = x;</p>
<p>​       }</p>
<p>​       private class SequenceSelector implements Selector {</p>
<p>​              private int i = 0;</p>
<p>​              public boolean end() { return i == items.length; }</p>
<p>​              public Object current() { return items[i]; }</p>
<p>​              public void next() { if(i &lt; items.length) i++; } </p>
<p>​                           public Sequence4 sequence4() { return Sequence4.this; }</p>
<p>​       }</p>
<p>​       public Selector selector() {</p>
<p>​              return new SequenceSelector();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Sequence4 sequence = new Sequence4(10);</p>
<p>​              for(int i = 0; i &lt; 10; i++)</p>
<p>​                     sequence.add(Integer.toString(i));</p>
<p>​              Selector selector = sequence.selector();</p>
<p>​              while(!selector.end()) {</p>
<p>​                     System.out.print(selector.current() + “ “);</p>
<p>​                     selector.next();</p>
<p>​              }</p>
<p>​                           ((SequenceSelector)selector).sequence4().test();        </p>
<p>​       }</p>
<p>}</p>
<p>class Outer {</p>
<p>​       class Inner { </p>
<p>​              Inner() { System.out.println(“Outer.Inner()”); } </p>
<p>​       }      </p>
<p>}</p>
<p>public class OtherOuter { </p>
<p>​       public static void main(String[] args) {</p>
<p>​                           Outer o = new Outer();</p>
<p>​                           Outer.Inner oi = o.new Inner();                  </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex6 extends Ex6Base {</p>
<p>​       Ex6Interface getBaseInner() { </p>
<p>​              return this.new Ex6BaseInner();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex6 ex = new Ex6();</p>
<p>​              System.out.println(ex.getBaseInner().say());</p>
<p>​       }      </p>
<p>}</p>
<p>class Outer7 {</p>
<p>​       private int oi = 1;</p>
<p>​       private void hi() { System.out.println(“Outer hi”); }</p>
<p>​       class Inner {</p>
<p>​              void modifyOuter() { </p>
<p>​                     oi *= 2;</p>
<p>​                     hi(); </p>
<p>​              }</p>
<p>​       }</p>
<p>​       public void showOi() { System.out.println(oi); }</p>
<p>​       void testInner() {</p>
<p>​              Inner in = new Inner();</p>
<p>​              in.modifyOuter();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Outer7 out = new Outer7();</p>
<p>​              out.showOi();</p>
<p>​              out.testInner();</p>
<p>​              out.showOi();</p>
<p>​       }</p>
<p>}</p>
<p>class Outer8 { </p>
<p>​       class Inner {</p>
<p>​              private int ii1 = 1;</p>
<p>​              private int ii2 = 2;</p>
<p>​              private void showIi2() { System.out.println(ii2); }</p>
<p>​              private void hi() { System.out.println(“Inner hi”); }</p>
<p>​              }</p>
<p>​             int oi = new Inner().ii1;</p>
<p>​       void showOi() { System.out.println(oi); }</p>
<p>​       void showIi2() { new Inner().showIi2(); } </p>
<p>​       void outerHi() { new Inner().hi(); }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Outer8 out = new Outer8();</p>
<p>​              out.showOi();</p>
<p>​              out.showIi2();</p>
<p>​              out.outerHi();</p>
<p>​       }</p>
<p>}</p>
<p>interface Ex9Interface {</p>
<p>​       void say(String s); </p>
<p>}</p>
<p>public class Ex9 {   </p>
<p>​       Ex9Interface f() {</p>
<p>​              class Inner implements Ex9Interface {</p>
<p>​                     public void say(String s) {</p>
<p>​                            System.out.println(s); </p>
<p>​                     }</p>
<p>​              }</p>
<p>​              return new Inner();</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex9 x = new Ex9();</p>
<p>​              x.f().say(“hi”);</p>
<p>​       } </p>
<p>}</p>
<p>interface Ex10Interface {</p>
<p>​       void say(String s); </p>
<p>}</p>
<p>public class Ex10 { </p>
<p>​       Ex10Interface f(boolean b) {</p>
<p>​              if(b) {</p>
<p>​                     class Inner implements Ex10Interface {</p>
<p>​                            public void say(String s) {</p>
<p>​                                   System.out.println(s); </p>
<p>​                            }</p>
<p>​                     }</p>
<p>​                     return new Inner();</p>
<p>​              }</p>
<p>​              return null;</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex10 x = new Ex10();</p>
<p>​              x.f(true).say(“hi”);</p>
<p>​       } </p>
<p>}</p>
<p>class Test {</p>
<p>​       private class Inner implements Ex11Interface {</p>
<p>​              public void say(String s) {</p>
<p>​                     System.out.println(s); </p>
<p>​              }</p>
<p>​       }</p>
<p>​       Ex11Interface f() {</p>
<p>​              return new Inner();</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex11 { </p>
<p>​       public static void main(String[] args) {</p>
<p>​              Test t = new Test();</p>
<p>​              t.f().say(“hi”);</p>
<p>​                                 } </p>
<p>}</p>
<p>interface Inner12 {</p>
<p>​       void modifyOuter();</p>
<p>}</p>
<p>public class Outer12 {</p>
<p>​       private int oi = 1;</p>
<p>​       private void hi() { System.out.println(“Outer hi”); }</p>
<p>​       public Inner12 inner() {</p>
<p>​              return new Inner12() {</p>
<p>​                     public void modifyOuter() { </p>
<p>​                            oi *= 2;</p>
<p>​                            hi(); </p>
<p>​                     }</p>
<p>​              }; </p>
<p>​       }</p>
<p>​       public void showOi() { System.out.println(oi); }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Outer12 out = new Outer12();</p>
<p>​              out.showOi();</p>
<p>​              out.inner().modifyOuter();</p>
<p>​              out.showOi();</p>
<p>​       }</p>
<p>}</p>
<p>interface Ex13Interface {</p>
<p>​       String say(String s); </p>
<p>}</p>
<p>public class Outer13 {   </p>
<p>​       Ex13Interface f() {</p>
<p>​              return new Ex13Interface() {</p>
<p>​                     public String say(String s) { return s; }</p>
<p>​              };</p>
<p>​       } </p>
<p>​       public static void main(String[] args) {</p>
<p>​              Outer13 o = new Outer13();</p>
<p>​              System.out.println(o.f().say(“Hi”));</p>
<p>​       }</p>
<p>}</p>
<p>interface Monster {</p>
<p>​       void menace();</p>
<p>}      </p>
<p>interface DangerousMonster extends Monster {</p>
<p>​       void destroy();</p>
<p>}      </p>
<p>interface Lethal {</p>
<p>​       void kill();</p>
<p>}</p>
<p>class DragonZilla implements DangerousMonster {</p>
<p>​       public void menace() {}</p>
<p>​       public void destroy() {}</p>
<p>}</p>
<p>interface Vampire extends DangerousMonster, Lethal {</p>
<p>​       void drinkBlood();</p>
<p>}</p>
<p>class VeryBadVampire implements Vampire {</p>
<p>​       public void menace() {}</p>
<p>​       public void destroy() {}</p>
<p>​       public void kill() {}</p>
<p>​       public void drinkBlood() {} </p>
<p>}</p>
<p>public class HorrorShow14 {</p>
<p>​       static void u(Monster b) { b.menace(); }</p>
<p>​       static void v(DangerousMonster d) {</p>
<p>​              d.menace();</p>
<p>​              d.destroy();</p>
<p>​       }</p>
<p>​       static void w(Lethal l) { l.kill(); }</p>
<p>​       public DangerousMonster monsterMaker() {</p>
<p>​              return new DangerousMonster() {</p>
<p>​                     public void menace() { println(“DangerousMonster Menace”); }</p>
<p>​                     public void destroy() { println(“DangerousMonster Destroy”); }</p>
<p>​              };</p>
<p>​       }</p>
<p>​       public Vampire vampireMaker() {</p>
<p>​              return new Vampire() {</p>
<p>​                     public void menace() { println(“Vampire Menace”); }</p>
<p>​                     public void destroy() { println(“Vampire Destroy”); }</p>
<p>​                     public void kill() { println(“Vampire Kill”); }</p>
<p>​                     public void drinkBlood() { println(“Vampire DrinkBlood”); }</p>
<p>​              };</p>
<p>​       }             </p>
<p>​       public static void main(String[] args) {</p>
<p>​              HorrorShow14 show = new HorrorShow14();</p>
<p>​              show.u(show.monsterMaker());</p>
<p>​              show.v(show.monsterMaker());</p>
<p>​              show.u(show.vampireMaker());</p>
<p>​              show.v(show.vampireMaker());</p>
<p>​              show.w(show.vampireMaker());</p>
<p>​       }</p>
<p>}</p>
<p>class One {</p>
<p>​       private String s;</p>
<p>​       One(String s) { this.s = s; } </p>
<p>​       public String showS() { return s; }</p>
<p>}</p>
<p>public class Ex15 {</p>
<p>​       public One makeOne(String s) {</p>
<p>​              return new One(s) { };</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex15 x = new Ex15();</p>
<p>​              System.out.println(x.makeOne(“hi”).showS());</p>
<p>​       }</p>
<p>}</p>
<p>interface Cycle {</p>
<p>​       void ride();</p>
<p>}</p>
<p>interface CycleFactory {</p>
<p>​       Cycle getCycle();</p>
<p>}</p>
<p>class Unicycle implements Cycle {</p>
<p>​       private Unicycle() { println(“Unicycle()”); }</p>
<p>​       public void ride() { println(“Ride Unicycle”); }</p>
<p>​       public static CycleFactory factory =</p>
<p>​              new CycleFactory() {</p>
<p>​                     public Cycle getCycle() { return new Unicycle(); }</p>
<p>​              };</p>
<p>}</p>
<p>class Bicycle implements Cycle {</p>
<p>​       private Bicycle() { println(“Bicycle()”); }</p>
<p>​       public void ride() { println(“Ride Bicycle”); }</p>
<p>​       public static CycleFactory factory =</p>
<p>​              new CycleFactory() {</p>
<p>​                     public Cycle getCycle() { return new Bicycle(); }</p>
<p>​              };</p>
<p>}</p>
<p>class Tricycle implements Cycle {</p>
<p>​       private Tricycle() { println(“Tricycle()”); }</p>
<p>​       public void ride() { println(“Ride Tricycle”); }</p>
<p>​       public static CycleFactory factory =</p>
<p>​              new CycleFactory() {</p>
<p>​                     public Cycle getCycle() { return new Tricycle(); }</p>
<p>​              }; </p>
<p>}</p>
<p>public class Cycles {</p>
<p>​       public static void rideCycle(CycleFactory factory) {</p>
<p>​              Cycle c = factory.getCycle();</p>
<p>​              c.ride();</p>
<p>​       }</p>
<p>​       public static void main(String [] args) {</p>
<p>​              rideCycle(Unicycle.factory);</p>
<p>​              rideCycle(Bicycle.factory);</p>
<p>​              rideCycle(Tricycle.factory);    </p>
<p>​       }</p>
<p>}</p>
<p>interface Games {</p>
<p>​       void play();</p>
<p>}</p>
<p>interface GamesFactory {</p>
<p>​       Games getGames();</p>
<p>}</p>
<p>class CoinToss implements Games {</p>
<p>​       Random rand = new Random();</p>
<p>​       public void play() { </p>
<p>​              print(“Toss Coin: “);</p>
<p>​              switch(rand.nextInt(2)) {</p>
<p>​                     case 0 : println(“Heads”); return;</p>
<p>​                     case 1 : println(“Tails”); return;</p>
<p>​                     default: println(“OnEdge”); return;</p>
<p>​              } </p>
<p>​       }</p>
<p>​       public static GamesFactory factory =</p>
<p>​              new GamesFactory() {</p>
<p>​                     public Games getGames() { return new CoinToss(); }       </p>
<p>​              };</p>
<p>}</p>
<p>class DiceThrow implements Games {</p>
<p>​       Random rand = new Random();</p>
<p>​       public void play() { </p>
<p>​              print(“Throw Dice: “ + (rand.nextInt(6) + 1));            </p>
<p>​       }</p>
<p>​       public static GamesFactory factory =</p>
<p>​              new GamesFactory() {</p>
<p>​                     public Games getGames() { return new DiceThrow(); }</p>
<p>​              };</p>
<p>}</p>
<p>public class Games17 {</p>
<p>​       public static void playGame(GamesFactory factory) {</p>
<p>​              Games g = factory.getGames();</p>
<p>​              g.play();</p>
<p>​       }</p>
<p>​       public static void main(String [] args) {</p>
<p>​              playGame(CoinToss.factory);</p>
<p>​              playGame(DiceThrow.factory);                  </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex18 {</p>
<p>​       Ex18() { System.out.println(“Ex18()”); }</p>
<p>​       public static class Ex18Nest1 {</p>
<p>​              Ex18Nest1() { System.out.println(“Ex18Nest1()”); }</p>
<p>​       }</p>
<p>​       private static class Ex18Nest2 {</p>
<p>​              Ex18Nest2() { System.out.println(“Ex18Nest2()”); }</p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex18Nest1 en1 = new Ex18Nest1();</p>
<p>​              Ex18Nest2 en2 = new Ex18Nest2();</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex19 {</p>
<p>​       Ex19() { System.out.println(“Ex19()”); }</p>
<p>​       private class Ex19Inner {</p>
<p>​              Ex19Inner() { System.out.println(“Ex19Inner()”); } </p>
<p>​              private class Ex19InnerInner {</p>
<p>​                     Ex19InnerInner() {</p>
<p>​                            System.out.println(“Ex19InnerInner()”);</p>
<p>​                     }</p>
<p>​              }</p>
<p>​       }</p>
<p>​       private static class Ex19Nested {</p>
<p>​              Ex19Nested() { System.out.println(“Ex19Nested()”); }</p>
<p>​              private static class Ex19NestedNested {</p>
<p>​                     Ex19NestedNested() { </p>
<p>​                     System.out.println(“Ex19NestedNested()”); </p>
<p>​                     }</p>
<p>​              }</p>
<p>​       }      </p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex19Nested en = new Ex19Nested();</p>
<p>​              Ex19Nested.Ex19NestedNested enn = new Ex19Nested.Ex19NestedNested();</p>
<p>​              Ex19 e19 = new Ex19();</p>
<p>​              Ex19.Ex19Inner ei = e19.new Ex19Inner();</p>
<p>​              Ex19.Ex19Inner.Ex19InnerInner eii = ei.new Ex19InnerInner();</p>
<p>​       }</p>
<p>}</p>
<p>interface In {</p>
<p>​       class Nested {</p>
<p>​              Nested() { System.out.println(“Nested()”); }</p>
<p>​              public void hi() { System.out.println(“hi”); }        </p>
<p>​       }</p>
<p>}</p>
<p>public class Ex20 implements In {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              In.Nested in = new In.Nested();</p>
<p>​              in.hi();                          </p>
<p>​       }</p>
<p>}</p>
<p>interface In {</p>
<p>​       String f();</p>
<p>​       String g(); </p>
<p>​       class Nested {</p>
<p>​              static void testIn(In i) { </p>
<p>​                     System.out.println(i.f() + i.g());</p>
<p>​              }             </p>
<p>​       }             </p>
<p>}</p>
<p>public class Ex21 implements In {</p>
<p>​       public String f() { return “hello “; }</p>
<p>​       public String g() { return “friend”; }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              Ex21 x = new Ex21();</p>
<p>​              In.Nested.testIn(x);                                    </p>
<p>​       }</p>
<p>}</p>
<p>interface U {</p>
<p>​       void f();</p>
<p>​       void g();</p>
<p>​       String toString();</p>
<p>}</p>
<p>class A {</p>
<p>​       U buildU() {</p>
<p>​              return new U() {</p>
<p>​                     public void f() { System.out.println(“f()”); }</p>
<p>​                     public void g() { System.out.println(“g()”); }</p>
<p>​                     public String toString() { return “I’m a U”; }</p>
<p>​              };</p>
<p>​       }</p>
<p>}</p>
<p>class B {</p>
<p>​       private U[] us;</p>
<p>​       B(int i) {</p>
<p>​              us = new U[i];</p>
<p>​       }</p>
<p>​       void addU(U u, int i) {</p>
<p>​              us[i] = u;</p>
<p>​       }</p>
<p>​       void eraseU(int i) {</p>
<p>​              us[i] = null;    </p>
<p>​       }</p>
<p>​       void testUs() {</p>
<p>​              for(U u : us) {</p>
<p>​                     u.f();</p>
<p>​                     u.g();</p>
<p>​                     u.toString();</p>
<p>​              }             </p>
<p>​       }</p>
<p>​       void showUs() {</p>
<p>​              for(U u : us) { </p>
<p>​                     if(u != null) System.out.println(u.toString());</p>
<p>​                     else System.out.println(“I’m null”);</p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class Ex23 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              A a0 = new A();</p>
<p>​              A a1 = new A();</p>
<p>​              A a2 = new A();</p>
<p>​              B b = new B(3);</p>
<p>​              b.addU(a0.buildU(), 0);</p>
<p>​              b.addU(a1.buildU(), 1);</p>
<p>​              b.addU(a2.buildU(), 2);</p>
<p>​              b.showUs();</p>
<p>​              b.testUs();</p>
<p>​              b.eraseU(0);</p>
<p>​              b.eraseU(1);</p>
<p>​              b.showUs();</p>
<p>​       }</p>
<p>}</p>
<p>public class GreenhouseController24 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              GreenhouseControls24 gc = new GreenhouseControls24();</p>
<p>​                                        gc.addEvent(gc.new Bell(900));</p>
<p>​              Event[] eventList = {</p>
<p>​                     gc.new ThermostatNight(0),</p>
<p>​                     gc.new LightOn(200),</p>
<p>​                     gc.new FanOn(300),</p>
<p>​                     gc.new LightOff(400),</p>
<p>​                     gc.new FanOff(500),</p>
<p>​                     gc.new WaterOn(600),</p>
<p>​                     gc.new WaterOff(800),</p>
<p>​                     gc.new ThermostatDay(1400),</p>
<p>​              };</p>
<p>​              gc.addEvent(gc.new Restart(2000, eventList));</p>
<p>​              if(args.length == 1)</p>
<p>​                     gc.addEvent(</p>
<p>​                            new GreenhouseControls24.Terminate(</p>
<p>​                                   new Integer(args[0])));</p>
<p>​              gc.run();</p>
<p>​       }</p>
<p>}</p>
<p>public class GreenhouseControls24 extends Controller {</p>
<p>​       private boolean fan = false;</p>
<p>​       public class FanOn extends Event {</p>
<p>​              public FanOn(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                                                             fan = true;</p>
<p>​              }</p>
<p>​              public String toString() { return “Fan is on”; }</p>
<p>​       }</p>
<p>​       public class FanOff extends Event {</p>
<p>​              public FanOff(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                                                             fan = false;</p>
<p>​              }</p>
<p>​              public String toString() { return “Fan is off”; }</p>
<p>​       }</p>
<p>​       private boolean light = false;</p>
<p>​       public class LightOn extends Event {</p>
<p>​              public LightOn(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                                                             light = true;</p>
<p>​              }</p>
<p>​              public String toString() { return “Light is on”; }</p>
<p>​       }</p>
<p>​       public class LightOff extends Event {</p>
<p>​              public LightOff(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                                                             light = false;</p>
<p>​              }</p>
<p>​              public String toString() { return “Light is off”; }</p>
<p>​       }</p>
<p>​       private boolean water = false;</p>
<p>​       public class WaterOn extends Event {</p>
<p>​              public WaterOn(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                                         water = true;</p>
<p>​              }</p>
<p>​              public String toString() { </p>
<p>​                     return “Greenhouse water is on”;</p>
<p>​              } </p>
<p>​       }</p>
<p>​       public class WaterOff extends Event {</p>
<p>​              public WaterOff(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                                         water = false;</p>
<p>​              }</p>
<p>​              public String toString() {</p>
<p>​                     return “Greenhouse water is off”;</p>
<p>​              }</p>
<p>​       }</p>
<p>​       private String thermostat = “Day”;</p>
<p>​       public class ThermostatNight extends Event {</p>
<p>​              public ThermostatNight(long delayTime) {</p>
<p>​                     super(delayTime);</p>
<p>​              }</p>
<p>​              public void action() {</p>
<p>​                                         thermostat = “Night”;</p>
<p>​              }</p>
<p>​              public String toString() {</p>
<p>​                     return “Thermostat on night setting”;</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public class ThermostatDay extends Event {</p>
<p>​              public ThermostatDay(long delayTime) {</p>
<p>​                     super(delayTime);</p>
<p>​              }      </p>
<p>​              public void action() {</p>
<p>​                                         thermostat = “Day”;</p>
<p>​              }</p>
<p>​              public String toString() {</p>
<p>​                     return “Thermostat on day setting”;</p>
<p>​              }</p>
<p>​       }</p>
<p>​                   public class Bell extends Event {</p>
<p>​              public Bell(long delayTime) { super(delayTime); }</p>
<p>​              public void action() {</p>
<p>​                     addEvent(new Bell(delayTime));</p>
<p>​              }</p>
<p>​              public String toString() { return “Bing!”; }</p>
<p>​       }</p>
<p>​       public class Restart extends Event {</p>
<p>​              private Event[] eventList;</p>
<p>​              public Restart(long delayTime, Event[] eventList) {</p>
<p>​                     super(delayTime);</p>
<p>​                     this.eventList = eventList;</p>
<p>​                     for(Event e : eventList)</p>
<p>​                            addEvent(e);</p>
<p>​              }</p>
<p>​              public void action() {</p>
<p>​                     for(Event e : eventList) {</p>
<p>​                            e.start();                             addEvent(e);</p>
<p>​                     }</p>
<p>​                     start();                 addEvent(this);</p>
<p>​              }</p>
<p>​              public String toString() {</p>
<p>​                     return “Restarting system”;</p>
<p>​              }</p>
<p>​       }</p>
<p>​       public static class Terminate extends Event {</p>
<p>​              public Terminate(long delayTime) { super(delayTime); }</p>
<p>​              public void action() { System.exit(0); }</p>
<p>​              public String toString() { return “Terminating”; }</p>
<p>​       }</p>
<p>}      </p>
<p>public class GreenhouseController25 {</p>
<p>​       public static void main(String[] args) {</p>
<p>​              GreenhouseControls25 gc = new GreenhouseControls25();</p>
<p>​                                        gc.addEvent(gc.new Bell(900));</p>
<p>​              Event[] eventList = {</p>
<p>​                     gc.new ThermostatNight(0),</p>
<p>​                     gc.new LightOn(200),</p>
<p>​                     gc.new LightOff(400),</p>
<p>​                     gc.new WaterOn(600),</p>
<p>​                     gc.new WaterMistOn(650),</p>
<p>​                     gc.new WaterMistOff(700),</p>
<p>​                     gc.new WaterOff(800),</p>
<p>​                     gc.new ThermostatDay(1400),</p>
<p>​              };</p>
<p>​              gc.addEvent(gc.new Restart(2000, eventList));</p>
<p>​              if(args.length == 1)</p>
<p>​                     gc.addEvent(</p>
<p>​                            new GreenhouseControls.Terminate(</p>
<p>​                                   new Integer(args[0])));</p>
<p>​              gc.run();</p>
<p>​       }</p>
<p>}</p>
<p>public class GreenhouseControls25 extends GreenhouseControls {</p>
<p>​       private boolean waterMist = false;</p>
<p>​       public class WaterMistOn extends Event {</p>
<p>​              public WaterMistOn(long delayTime) {</p>
<p>​                     super(delayTime);</p>
<p>​              }</p>
<p>​              public void action() {</p>
<p>​                                                             waterMist = true;</p>
<p>​              }</p>
<p>​              public String toString() { </p>
<p>​                     return “Water mist generator on”;  </p>
<p>​              }</p>
<p>​       }      </p>
<p>​       public class WaterMistOff extends Event {</p>
<p>​              public WaterMistOff(long delayTime) {</p>
<p>​                     super(delayTime);</p>
<p>​              }</p>
<p>​              public void action() {</p>
<p>​                                                             waterMist = false;</p>
<p>​              }</p>
<p>​              public String toString() {</p>
<p>​                     return “Water mist generator off”;</p>
<p>​              }</p>
<p>​       }      </p>
<p>}</p>
<p>class FirstOuter {</p>
<p>​       public class FirstInner {</p>
<p>​              FirstInner(String s) { </p>
<p>​                     System.out.println(“FirstOuter.FirstInner() “ + s ); </p>
<p>​              }</p>
<p>​       }</p>
<p>}</p>
<p>public class SecondOuter {</p>
<p>​       public class SecondInner extends FirstOuter.FirstInner {</p>
<p>​              SecondInner(FirstOuter x) { </p>
<p>​                     x.super(“hello”); </p>
<p>​                     System.out.println(“SecondOuter.SecondInner()”); </p>
<p>​              }             </p>
<p>​       }</p>
<p>​       public static void main(String[] args) {</p>
<p>​              FirstOuter fo = new FirstOuter();</p>
<p>​              SecondOuter so = new SecondOuter();</p>
<p>​              SecondInner si = so.new SecondInner(fo);        </p>
<p>​       }      </p>
<p>}</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/题解/" rel="tag"># 题解</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/06/2019-10-06-Java题解IO/" rel="next" title="Java题解IO">
                <i class="fa fa-chevron-left"></i> Java题解IO
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/10/06/2019-10-06-Java题解并发/" rel="prev" title="Java题解并发">
                Java题解并发 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zqfmcl</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">190</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#第十章内部类"><span class="nav-number">1.</span> <span class="nav-text">第十章内部类</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zqfmcl</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
