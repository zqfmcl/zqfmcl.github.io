<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Mysql,">





  <link rel="alternate" href="/atom.xml" title="Fey's blog" type="application/atom+xml">






<meta name="description" content="MySQL 数据库操作 数据库表操作 MySQL数据类型 数字型 日期和时间类型 字符串类型 字段的约束条件   sql查询操作命令 DISTINCT ORDER BY WHERE IN NOT IN BETWEEN AND LIKE LIMIT IS NULL   数据分组与连接 GROUP BY   连接 INNER JOIN LEFT JOIN RIGHT JOIN   字段处理 修">
<meta name="keywords" content="Mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql">
<meta property="og:url" content="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-Mysql/index.html">
<meta property="og:site_name" content="Fey&#39;s blog">
<meta property="og:description" content="MySQL 数据库操作 数据库表操作 MySQL数据类型 数字型 日期和时间类型 字符串类型 字段的约束条件   sql查询操作命令 DISTINCT ORDER BY WHERE IN NOT IN BETWEEN AND LIKE LIMIT IS NULL   数据分组与连接 GROUP BY   连接 INNER JOIN LEFT JOIN RIGHT JOIN   字段处理 修">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="c:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/mysql.jpg">
<meta property="og:image" content="c:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/Inner_Join.png">
<meta property="og:image" content="c:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/Left_Outer_Join.png">
<meta property="og:updated_time" content="2019-10-23T07:21:32.341Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mysql">
<meta name="twitter:description" content="MySQL 数据库操作 数据库表操作 MySQL数据类型 数字型 日期和时间类型 字符串类型 字段的约束条件   sql查询操作命令 DISTINCT ORDER BY WHERE IN NOT IN BETWEEN AND LIKE LIMIT IS NULL   数据分组与连接 GROUP BY   连接 INNER JOIN LEFT JOIN RIGHT JOIN   字段处理 修">
<meta name="twitter:image" content="c:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/mysql.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-Mysql/">





  <title>Mysql | Fey's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fey's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">个人博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zqfmcl.github.io/dialy/2019/10/04/2019-10-04-Mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zqfmcl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fey's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Mysql</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-04T10:00:00+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->

<ul>
<li><a href="#mysql">MySQL</a><ul>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C">数据库操作</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E6%93%8D%E4%BD%9C">数据库表操作</a></li>
<li><a href="#mysql%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">MySQL数据类型</a><ul>
<li><a href="#%E6%95%B0%E5%AD%97%E5%9E%8B">数字型</a></li>
<li><a href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B">日期和时间类型</a></li>
<li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B">字符串类型</a></li>
<li><a href="#%E5%AD%97%E6%AE%B5%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6">字段的约束条件</a></li>
</ul>
</li>
<li><a href="#sql%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4">sql查询操作命令</a><ul>
<li><a href="#distinct">DISTINCT</a></li>
<li><a href="#order-by">ORDER BY</a></li>
<li><a href="#where">WHERE</a></li>
<li><a href="#in">IN</a></li>
<li><a href="#not-in">NOT IN</a></li>
<li><a href="#between-and">BETWEEN AND</a></li>
<li><a href="#like">LIKE</a></li>
<li><a href="#limit">LIMIT</a></li>
<li><a href="#is-null">IS NULL</a></li>
</ul>
</li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84%E4%B8%8E%E8%BF%9E%E6%8E%A5">数据分组与连接</a><ul>
<li><a href="#group-by">GROUP BY</a></li>
</ul>
</li>
<li><a href="#%E8%BF%9E%E6%8E%A5">连接</a><ul>
<li><a href="#inner-join">INNER JOIN</a></li>
<li><a href="#left-join">LEFT JOIN</a></li>
<li><a href="#right-join">RIGHT JOIN</a></li>
</ul>
</li>
<li><a href="#%E5%AD%97%E6%AE%B5%E5%A4%84%E7%90%86">字段处理</a><ul>
<li><a href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E5%90%8D">修改字段名</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">修改字段的数据类型</a></li>
<li><a href="#%E5%A2%9E%E5%8A%A0%E5%AD%97%E6%AE%B5">增加字段</a></li>
<li><a href="#%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5">删除字段</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->

<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><p><code>MySQL</code> 为关系型数据库(Relational Database Management System)，一个关系型数据库由一个或数个表格组成。</p>
<p><img src="C:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/mysql.jpg" alt="mysql.jpg"></p>
<p>登陆命令：</p>
<pre><code class="js">mysql –u用户名 [–h主机名或者IP地址,-P端口号] –p密码</code></pre>
<blockquote>
<p>–p密码选项不一定是要在最后；<br>–u、-h、-p后无空格。</p>
</blockquote>
<h2 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h2><pre><code class="bash">#查看数据库
show databases; 

#选择一个数据库
use 数据库名;

#创建数据库
create database 数据库名;

#查看创建数据库的SQL语言
show create database 数据库名;

#删除数据库
DROP DATABASE 数据库名;

#查看表
show tables;    </code></pre>
<h2 id="数据库表操作"><a href="#数据库表操作" class="headerlink" title="数据库表操作"></a>数据库表操作</h2><pre><code class="bash">#选择一个数据库
use 数据库名;

#创建表
create table student(id int(11) not null,name char(20));

#查看表结构
desc student;
+--------+----------+------+-----+---------+-------+
| Field  | Type     | Null | Key | Default | Extra |
+--------+----------+------+-----+---------+-------+
| std_id | int(11)  | NO   |     | NULL    |       |
| name   | char(20) | YES  |     | NULL    |       |
+--------+----------+------+-----+---------+-------+

#插入数据
-- 不指定字段名称
INSERT user VALUE(1001,&#39;king&#39;);
INSERT user VALUES(1001,&#39;king&#39;);

-- 指定字段
insert into user(id,name) values(1001,’zhangsan’)[,(1002,lisi)];
insert user set id=1001 ,name=&#39;zhangsan&#39;,;

-- 获取其他表的数据插入
insert student(name) select name from user;


#查询数据
select * from student; 
+--------+----------+
| std_id | name     |
+--------+----------+
|   1001 | zhangsan |
+--------+----------+

#删除数据
delete from student where id=1001;

#修改数据
update student set name=&#39;LiSi&#39; where id=1001;

#删除数据
delete from student where id=1001;</code></pre>
<h2 id="MySQL数据类型"><a href="#MySQL数据类型" class="headerlink" title="MySQL数据类型"></a>MySQL数据类型</h2><h3 id="数字型"><a href="#数字型" class="headerlink" title="数字型"></a>数字型</h3><p>这些类型包括严格数值数据类型(INTEGER、SMALLINT、DECIMAL和NUMERIC)，以及近似数值数据类型(FLOAT、REAL和DOUBLE PRECISION)。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>范围（有符号）</th>
<th>范围（无符号）</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1 字节</td>
<td>(-128，127)</td>
<td>(0，255)</td>
<td>小整数值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2 字节</td>
<td>(-32 768，32 767)</td>
<td>(0，65 535)</td>
<td>大整数值</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3 字节</td>
<td>(-8 388 608，8 388 607)</td>
<td>(0，16 777 215)</td>
<td>大整数值</td>
</tr>
<tr>
<td>INT或INTEGER</td>
<td>4 字节</td>
<td>(-2 147 483 648，2 147 483 647)</td>
<td>(0，4 294 967 295)</td>
<td>大整数值</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8 字节</td>
<td>(-9 233 372 036 854 775 808，9 223 372 036 854 775 807)</td>
<td>(0，18 446 744 073 709 551 615)</td>
<td>极大整数值</td>
</tr>
<tr>
<td>FLOAT</td>
<td>4 字节</td>
<td>(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td>
<td>0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td>单精度 <br> 浮点数值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8 字节</td>
<td>(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>双精度<br>浮点数值</td>
</tr>
<tr>
<td>DECIMAL</td>
<td>对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td>依赖于M和D的值</td>
<td>依赖于M和D的值</td>
<td>小数值</td>
</tr>
</tbody></table>
<blockquote>
<p>int(num)代表数据不够num位的情况下，用数字0填充。数据会自动变成unsigned类型的</p>
</blockquote>
<h3 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h3><p>表示时间值的日期和时间类型为DATETIME、DATE、TIMESTAMP、TIME和YEAR。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小(字节)</th>
<th>范围</th>
<th>格式</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01/9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>‘-838:59:59’/‘838:59:59’</td>
<td>HH:MM:SS</td>
<td>时间值或持续时间</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901/2155</td>
<td>YYYY    年份值</td>
<td></td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:00/2038-01-19 03:14:07</td>
<td>YYYYMMDD HHMMSS</td>
<td>混合日期和时间值，时间戳</td>
</tr>
</tbody></table>
<h3 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h3><p>字符串类型指CHAR、VARCHAR、BINARY、VARBINARY、BLOB、TEXT、ENUM和SET。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>0-255字节</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-65535 字节</td>
<td>变长字符串</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0-255字节</td>
<td>不超过 255 个字符的二进制字符串</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>0-255字节</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>BLOB</td>
<td>0-65 535字节</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65 535字节</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0-16 777 215字节</td>
<td>二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0-16 777 215字节</td>
<td>中等长度文本数据</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>0-4 294 967 295字节</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0-4 294 967 295字节</td>
<td>极大文本数据</td>
</tr>
</tbody></table>
<h3 id="字段的约束条件"><a href="#字段的约束条件" class="headerlink" title="字段的约束条件"></a>字段的约束条件</h3><ul>
<li>NULL：数据列可包含NULL值；</li>
<li>NOT NULL：数据列不允许包含NULL值；</li>
<li>ZREOFILL: 零填充，当数据的显示长度不够的时候可以使用前补0的效果填充至指定长度,字段会自动添加UNSIGNED</li>
<li>DEFAULT：默认值；</li>
<li>PRIMARY KEY：KEY 主键；</li>
<li>UNIQUE KEY: 唯一性，一个表中可以有多个字段是唯一索引，同样的值不能重复，但是NULL值除外</li>
<li>AUTO_INCREMENT：自动递增，适用于整数类型；</li>
<li>UNSIGNED：是指数值类型只能为正数；</li>
<li>CHARACTER SET name：指定一个字符集；</li>
<li>COMMENT：对表或者字段说明；</li>
<li>FOREIGN KEY: 外键约束；</li>
</ul>
<blockquote>
<p><a href="http://blog.csdn.net/lipengcn/article/details/51111667" target="_blank" rel="noopener">http://blog.csdn.net/lipengcn/article/details/51111667</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/jaywcjlove/mysql-tutorial/blob/master/21-minutes-MySQL-basic-entry.md" target="_blank" rel="noopener">https://github.com/jaywcjlove/mysql-tutorial/blob/master/21-minutes-MySQL-basic-entry.md</a></p>
</blockquote>
<blockquote>
<p><a href="http://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener">http://www.runoob.com/mysql/mysql-tutorial.html</a></p>
</blockquote>
<h2 id="sql查询操作命令"><a href="#sql查询操作命令" class="headerlink" title="sql查询操作命令"></a>sql查询操作命令</h2><h3 id="DISTINCT"><a href="#DISTINCT" class="headerlink" title="DISTINCT"></a>DISTINCT</h3><p>当从表中查询数据时，您可能会得到重复的行。为了删除这些重复行，可以在<code>SELECT</code>语句中使用<code>DISTINCT</code> 子句。</p>
<pre><code class="sql">SELECT  name FROM `test`

+------+
| name |
+------+
| tom  |
| amy  |
| tom  |
+------+

SELECT DISTINCT name FROM `test`;

+------+
| name |
+------+
| tom  |
| amy  |
+------+</code></pre>
<blockquote>
<p>如果查询多列数据，要每一个数据相同才会被删除。</p>
</blockquote>
<h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><p>语法：</p>
<pre><code class="sql">SELECT column1, column2,...
FROM tbl
ORDER BY column1 [ASC|DESC], column2 [ASC|DESC],...</code></pre>
<p>使用<code>ORDER BY</code>可以按照某个字段进行排序。<br>使用<code>ASC</code>或<code>DESC</code>按照升序或者降序排列。</p>
<pre><code class="sql">SELECT name FROM `test` GROUP BY name DESC;

+------+
| name |
+------+
| tom  |
| mus  |
| amy  |
+------+</code></pre>
<blockquote>
<p>默认是ASC升序。</p>
</blockquote>
<h3 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h3><p>在查询语句中使用<code>WHERE</code>语句来设定查询条件。</p>
<pre><code class="sql">SELECT * FROM test WHERE name=&#39;tom&#39;;
+-------------+------+-----+------+
| id          | name | ps  | code |
+-------------+------+-----+------+
| 00000000123 | tom  | abc | 2221 |
| 00000000125 | tom  | abc | 0133 |
+-------------+------+-----+------+</code></pre>
<blockquote>
<p>可以结合使用AND或OR的逻辑运算符。</p>
</blockquote>
<p>自定义排序函数FIELD():</p>
<pre><code class="sql">SELECT 
    orderNumber, status
FROM
    orders
ORDER BY FIELD(status,
        &#39;key_part1&#39;,
        &#39;key_part2&#39;);</code></pre>
<h3 id="IN"><a href="#IN" class="headerlink" title="IN"></a>IN</h3><p>在<code>WHERE</code>子句中，筛选符合匹配的数据。</p>
<pre><code class="sql">SELECT * FROM test WHERE name IN (&#39;tom&#39;);
+-------------+------+-----+------+
| id          | name | ps  | code |
+-------------+------+-----+------+
| 00000000123 | tom  | abc | 2221 |
| 00000000125 | tom  | abc | 0133 |
+-------------+------+-----+------+</code></pre>
<p>带有子查询的MySQL IN</p>
<pre><code class="sql">SELECT 
    orderNumber, customerNumber, status, shippedDate
FROM
    orders
WHERE
    orderNumber IN (SELECT 
            orderNumber
        FROM
            orderDetails
        GROUP BY orderNumber
        HAVING SUM(quantityOrdered * priceEach) &gt; 60000);</code></pre>
<p>运算顺序为：</p>
<pre><code class="sql">-- 第一步
SELECT 
    orderNumber
FROM
    orderDetails
GROUP BY orderNumber
HAVING SUM(quantityOrdered * priceEach) &gt; 60000;

-- 第二步
SELECT 
    orderNumber, customerNumber, status, shippedDate
FROM
    orders
WHERE
    orderNumber IN (10165,10287,10310);</code></pre>
<blockquote>
<p>having子句在查询过程中慢于聚合语句(sum,min,max,avg,count).而where子句在查询过程中则快于聚合语。</p>
</blockquote>
<h3 id="NOT-IN"><a href="#NOT-IN" class="headerlink" title="NOT IN"></a>NOT IN</h3><p>与<code>IN</code>运算符相反。</p>
<h3 id="BETWEEN-AND"><a href="#BETWEEN-AND" class="headerlink" title="BETWEEN AND"></a>BETWEEN AND</h3><p><code>BETWEEN AND</code>判断某字段值是否在给定的范围内。</p>
<pre><code class="sql">select * from where userId between 5 and 7;

-- 等同于

select * from user where userId &gt;= 5 and userId &lt;= 7;</code></pre>
<h3 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h3><p><code>LIKE</code>操作符常用在模式匹配中查询数据。</p>
<p>与LIKE操作符一起使用：百分比 %和下划线_。</p>
<ul>
<li>percent（%）通配符允许您匹配任何零个或多个字符的字符串。</li>
<li>下划线（_）通配符允许您匹配任何单个字符。</li>
</ul>
<pre><code class="sql">-- 查找m结尾的数据
SELECT 
    name
FROM
    employees
WHERE
    firstname LIKE &#39;%m&#39;;</code></pre>
<pre><code class="sql">-- 查找包含‘_20’字符的数据，ESCAPE 后面指定转义字符，默认为斜杠/
SELECT 
    productCode, productName
FROM
    products
WHERE
    productCode LIKE &#39;%$_20%&#39; ESCAPE &#39;$&#39;;</code></pre>
<h3 id="LIMIT"><a href="#LIMIT" class="headerlink" title="LIMIT"></a>LIMIT</h3><p><code>LIMIT</code>子句在<code>SELECT</code>语句中用于约束结果集中的行数。</p>
<pre><code class="sql">SELECT
    customernumber,
    customername,
    creditlimit
FROM
    customers
ORDER BY
    creditlimit DESC
LIMIT 3;

+----------------+------------------------------+-------------+
| customernumber | customername                 | creditlimit |
+----------------+------------------------------+-------------+
|            141 | Euro+ Shopping Channel       |   227600.00 |
|            124 | Mini Gifts Distributors Ltd. |   210500.00 |
|            298 | Vida Sport, Ltd              |   141300.00 |
+----------------+------------------------------+-------------+</code></pre>
<blockquote>
<p>如果LIMIT后还有参数，代表偏移量，从0开始。</p>
</blockquote>
<h3 id="IS-NULL"><a href="#IS-NULL" class="headerlink" title="IS NULL"></a>IS NULL</h3><p>判断数据是否为空，为NULL则返回true。</p>
<pre><code class="sql">SELECT 
    customerName, 
    country, 
    salesrepemployeenumber
FROM
    customers
WHERE
    salesrepemployeenumber IS NULL;</code></pre>
<blockquote>
<p><a href="http://www.manongjc.com/mysql_basic/mysql-tutorial-basic.html" target="_blank" rel="noopener">http://www.manongjc.com/mysql_basic/mysql-tutorial-basic.html</a></p>
</blockquote>
<h2 id="数据分组与连接"><a href="#数据分组与连接" class="headerlink" title="数据分组与连接"></a>数据分组与连接</h2><h3 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h3><p><code>GROUP BY</code>是<code>SELECT</code>的可选部分，将数据按表达式进行分组。</p>
<p>聚合函数允许我们执行某组行的计算并返回一个值。<code>GROUP BY</code>子句通常与聚合函数来执行计算，并为每个分组返回一个值。</p>
<pre><code class="sql">SELECT status,count(*) as total  from orders GROUP BY `status` ;

+------------+----------+
| status     | total    |
+------------+----------+
| Cancelled  |        6 |
| Disputed   |        3 |
| In Process |        6 |
| On Hold    |        4 |
| Resolved   |        4 |
| Shipped    |      303 |
+------------+----------+</code></pre>
<h2 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h2><h3 id="INNER-JOIN"><a href="#INNER-JOIN" class="headerlink" title="INNER JOIN"></a>INNER JOIN</h3><p>产生的结果集中，是两者某字段的交集。可以简写成<code>join</code>;</p>
<pre><code class="sql">-- Table A 是左边的表。
-- Table B 是右边的表。
id name       id  name
-- ----       --  ----
1  **Pirate**     1   Rutabaga
2  Monkey         2   **Pirate**
3  **Ninja**      3   Darth Vader
4  Spaghetti      4   **Ninja**</code></pre>
<pre><code class="sql">SELECT * FROM TableA
INNER JOIN TableB
ON TableA.name = TableB.name

-- 结果:
id  name       id   name
--  ----       --   ----
1   Pirate     2    Pirate
3   Ninja      4    Ninja</code></pre>
<p><img src="C:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/Inner_Join.png" alt="img/Inner_Join.png"></p>
<p><code>JOIN</code>子句必须指定连接条件，连接条件的关键字<code>ON</code>在<code>INNER JOIN</code>语句之后。连接条件是用于在主表和其他表之间匹配行的条件。</p>
<h3 id="LEFT-JOIN"><a href="#LEFT-JOIN" class="headerlink" title="LEFT JOIN"></a>LEFT JOIN</h3><p>产生表A的完全集，而B表中匹配的则有值，没有匹配的则以null值取代。</p>
<pre><code class="sql">SELECT * FROM TableA
LEFT JOIN TableB
ON TableA.name = TableB.name

-- 结果
id  name       id    name
--  ----       --    ----
1   Pirate     2     Pirate
2   Monkey     null  null
3   Ninja      4     Ninja
4   Spaghetti  null  null</code></pre>
<p><img src="C:/Users/Administrator/Desktop/My-study-records-master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/img/Left_Outer_Join.png" alt="img/Left_Outer_Join.png"></p>
<h3 id="RIGHT-JOIN"><a href="#RIGHT-JOIN" class="headerlink" title="RIGHT JOIN"></a>RIGHT JOIN</h3><p>产生表B的完全集，而A表中匹配的则有值，没有匹配的则以null值取代。</p>
<pre><code class="sql">SELECT * FROM TableA
RIGHT  JOIN TableB 
ON TableA.name = TableB.name ORDER BY TableB.name;

-- 结果
+------+-------------+----+-------------------+
| id   | name        | id | name              |
+------+-------------+----+-------------------+
| NULL | NULL        |  1 | Rutabaga          |
|    4 | Pirate      |  2 | Pirate            |
| NULL | NULL        |  3 | Darth Vader       |
|    6 | Ninja       |  4 | Ninja             |
+------+-------------+----+-------------------+</code></pre>
<blockquote>
<p>在sql查询语句中，还有FULL JOIN，但MySQL中没有支持。<br>具体可参考：<a href="https://code.ziqiangxuetang.com/sql/sql-join-full.html" target="_blank" rel="noopener">https://code.ziqiangxuetang.com/sql/sql-join-full.html</a></p>
</blockquote>
<blockquote>
<p>教程：<a href="http://www.manongjc.com/mysql_basic/mysql-tutorial-basic.html" target="_blank" rel="noopener">http://www.manongjc.com/mysql_basic/mysql-tutorial-basic.html</a></p>
</blockquote>
<h2 id="字段处理"><a href="#字段处理" class="headerlink" title="字段处理"></a>字段处理</h2><h3 id="修改字段名"><a href="#修改字段名" class="headerlink" title="修改字段名"></a>修改字段名</h3><pre><code class="sql">ALTER TABLE 表名 Change 旧属性名 新属性名 新数据类型;</code></pre>
<h3 id="修改字段的数据类型"><a href="#修改字段的数据类型" class="headerlink" title="修改字段的数据类型"></a>修改字段的数据类型</h3><pre><code class="sql">ALTER TABLE 表名 MODIFY 属性名 新数据类型;</code></pre>
<h3 id="增加字段"><a href="#增加字段" class="headerlink" title="增加字段"></a>增加字段</h3><pre><code class="sql">ALTER TABLE 表名 ADD 属性名1 数据类型 [完整性约束条件] [FIRST | AFTER 属性名2];</code></pre>
<h3 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h3><pre><code class="sql">ALTER TABLE 表名 DROP 属性名;</code></pre>
<blockquote>
<p>参考：<a href="http://blog.csdn.net/lipengcn/article/details/51119535" target="_blank" rel="noopener">http://blog.csdn.net/lipengcn/article/details/51119535</a></p>
</blockquote>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Mysql/" rel="tag"># Mysql</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/04/2019-10-04-Nim-Game[E]/" rel="next" title="Nim Game[E]">
                <i class="fa fa-chevron-left"></i> Nim Game[E]
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/10/04/2019-10-04-Net-NodeJs/" rel="prev" title="Net-NodeJs">
                Net-NodeJs <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zqfmcl</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">190</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL"><span class="nav-number">1.</span> <span class="nav-text">MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库操作"><span class="nav-number">1.1.</span> <span class="nav-text">数据库操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库表操作"><span class="nav-number">1.2.</span> <span class="nav-text">数据库表操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL数据类型"><span class="nav-number">1.3.</span> <span class="nav-text">MySQL数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数字型"><span class="nav-number">1.3.1.</span> <span class="nav-text">数字型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日期和时间类型"><span class="nav-number">1.3.2.</span> <span class="nav-text">日期和时间类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串类型"><span class="nav-number">1.3.3.</span> <span class="nav-text">字符串类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字段的约束条件"><span class="nav-number">1.3.4.</span> <span class="nav-text">字段的约束条件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sql查询操作命令"><span class="nav-number">1.4.</span> <span class="nav-text">sql查询操作命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DISTINCT"><span class="nav-number">1.4.1.</span> <span class="nav-text">DISTINCT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ORDER-BY"><span class="nav-number">1.4.2.</span> <span class="nav-text">ORDER BY</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WHERE"><span class="nav-number">1.4.3.</span> <span class="nav-text">WHERE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IN"><span class="nav-number">1.4.4.</span> <span class="nav-text">IN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NOT-IN"><span class="nav-number">1.4.5.</span> <span class="nav-text">NOT IN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BETWEEN-AND"><span class="nav-number">1.4.6.</span> <span class="nav-text">BETWEEN AND</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LIKE"><span class="nav-number">1.4.7.</span> <span class="nav-text">LIKE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LIMIT"><span class="nav-number">1.4.8.</span> <span class="nav-text">LIMIT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IS-NULL"><span class="nav-number">1.4.9.</span> <span class="nav-text">IS NULL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据分组与连接"><span class="nav-number">1.5.</span> <span class="nav-text">数据分组与连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GROUP-BY"><span class="nav-number">1.5.1.</span> <span class="nav-text">GROUP BY</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连接"><span class="nav-number">1.6.</span> <span class="nav-text">连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#INNER-JOIN"><span class="nav-number">1.6.1.</span> <span class="nav-text">INNER JOIN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LEFT-JOIN"><span class="nav-number">1.6.2.</span> <span class="nav-text">LEFT JOIN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RIGHT-JOIN"><span class="nav-number">1.6.3.</span> <span class="nav-text">RIGHT JOIN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字段处理"><span class="nav-number">1.7.</span> <span class="nav-text">字段处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改字段名"><span class="nav-number">1.7.1.</span> <span class="nav-text">修改字段名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改字段的数据类型"><span class="nav-number">1.7.2.</span> <span class="nav-text">修改字段的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增加字段"><span class="nav-number">1.7.3.</span> <span class="nav-text">增加字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除字段"><span class="nav-number">1.7.4.</span> <span class="nav-text">删除字段</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zqfmcl</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
